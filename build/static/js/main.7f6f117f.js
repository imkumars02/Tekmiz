/*! For license information please see main.7f6f117f.js.LICENSE.txt */
(()=>{"use strict";var e={730:(e,t,n)=>{var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),x=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),T=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var O,M=Object.assign;function U(e){if(void 0===O)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);O=t&&t[1]||""}return"\n"+O+e}var F=!1;function V(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=a);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function z(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case C:return"Fragment";case x:return"Portal";case S:return"Profiler";case E:return"StrictMode";case N:return"Suspense";case j:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function B(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(Cc){return e.body}}function Y(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function $(e,t){J(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function se(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ye=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _e=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Ce=null,Ee=null;function Se(e){if(e=wi(e)){if("function"!==typeof xe)throw Error(s(280));var t=e.stateNode;t&&(t=bi(t),xe(e.stateNode,e.type,t))}}function ke(e){Ce?Ee?Ee.push(e):Ee=[e]:Ce=e}function Te(){if(Ce){var e=Ce,t=Ee;if(Ee=Ce=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ie(e,t){return e(t)}function Ne(){}var je=!1;function Pe(e,t,n){if(je)return e(t,n);je=!0;try{return Ie(e,t,n)}finally{je=!1,(null!==Ce||null!==Ee)&&(Ne(),Te())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var r=bi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Re=!1;if(u)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(ue){Re=!1}function De(e,t,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Oe=!1,Me=null,Ue=!1,Fe=null,Ve={onError:function(e){Oe=!0,Me=e}};function ze(e,t,n,r,i,s,o,a,l){Oe=!1,Me=null,De.apply(Ve,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Be(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(qe(e)!==e)throw Error(s(188))}function We(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return He(i),e;if(o===r)return He(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e),null!==e?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Qe=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Je=i.unstable_now,$e=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~i;0!==a?r=ht(a):0!==(s&=o)&&(r=ht(s))}else 0!==(o=n&~i)?r=ht(o):0!==s&&(r=ht(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var wt=0;function _t(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,xt,Ct,Et,St,kt=!1,Tt=[],It=null,Nt=null,jt=null,Pt=new Map,At=new Map,Rt=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":jt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function Ot(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=wi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=vi(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Be(n)))return e.blockedOn=t,void St(e.priority,(function(){Ct(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);_e=r,n.target.dispatchEvent(r),_e=null,t.shift()}return!0}function Ft(e,t,n){Ut(e)&&n.delete(t)}function Vt(){kt=!1,null!==It&&Ut(It)&&(It=null),null!==Nt&&Ut(Nt)&&(Nt=null),null!==jt&&Ut(jt)&&(jt=null),Pt.forEach(Ft),At.forEach(Ft)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function qt(e){function t(t){return zt(t,e)}if(0<Tt.length){zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&zt(It,e),null!==Nt&&zt(Nt,e),null!==jt&&zt(jt,e),Pt.forEach(t),At.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Rt.shift()}var Bt=_.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var i=wt,s=Bt.transition;Bt.transition=null;try{wt=1,Qt(e,t,n,r)}finally{wt=i,Bt.transition=s}}function Kt(e,t,n,r){var i=wt,s=Bt.transition;Bt.transition=null;try{wt=4,Qt(e,t,n,r)}finally{wt=i,Bt.transition=s}}function Qt(e,t,n,r){if(Ht){var i=Yt(e,t,n,r);if(null===i)Hr(e,t,r,Gt,n),Dt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Ot(It,e,t,n,r,i),!0;case"dragenter":return Nt=Ot(Nt,e,t,n,r,i),!0;case"mouseover":return jt=Ot(jt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Pt.set(s,Ot(Pt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,At.set(s,Ot(At.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<Lt.indexOf(e)){for(;null!==i;){var s=wi(i);if(null!==s&&bt(s),null===(s=Yt(e,t,n,r))&&Hr(e,t,r,Gt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Gt=null;function Yt(e,t,n,r){if(Gt=null,null!==(e=vi(e=be(r))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Be(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,$t=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=$t,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),hn=M({},cn,{view:0,detail:0}),dn=sn(hn),fn=M({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=sn(fn),mn=sn(M({},fn,{dataTransfer:0})),gn=sn(M({},hn,{relatedTarget:0})),yn=sn(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=sn(vn),_n=sn(M({},cn,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Cn[e])&&!!t[e]}function Sn(){return En}var kn=M({},hn,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=sn(kn),In=sn(M({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=sn(M({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),jn=sn(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=M({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),An=sn(Pn),Rn=[9,13,27,32],Ln=u&&"CompositionEvent"in window,Dn=null;u&&"documentMode"in document&&(Dn=document.documentMode);var On=u&&"TextEvent"in window&&!Dn,Mn=u&&(!Ln||Dn&&8<Dn&&11>=Dn),Un=String.fromCharCode(32),Fn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bn[e.type]:"textarea"===t}function Wn(e,t,n,r){ke(r),0<(t=Kr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Qn=null;function Gn(e){Ur(e,0)}function Yn(e){if(Q(_i(e)))return e}function Xn(e,t){if("change"===e)return t}var Jn=!1;if(u){var $n;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}$n=Zn}else $n=!1;Jn=$n&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Qn=Kn=null)}function nr(e){if("value"===e.propertyName&&Yn(Qn)){var t=[];Wn(t,Qn,e,be(e)),Pe(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Qn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Qn)}function sr(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var o=ur(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,wr=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==gr||gr!==G(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function br(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionend:br("Transition","TransitionEnd")},Cr={},Er={};function Sr(e){if(Cr[e])return Cr[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return Cr[e]=n[t];return e}u&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var kr=Sr("animationend"),Tr=Sr("animationiteration"),Ir=Sr("animationstart"),Nr=Sr("transitionend"),jr=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){jr.set(e,t),l(t,[e])}for(var Rr=0;Rr<Pr.length;Rr++){var Lr=Pr[Rr];Ar(Lr.toLowerCase(),"on"+(Lr[0].toUpperCase()+Lr.slice(1)))}Ar(kr,"onAnimationEnd"),Ar(Tr,"onAnimationIteration"),Ar(Ir,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Or=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,l,c){if(ze.apply(this,arguments),Oe){if(!Oe)throw Error(s(198));var u=Me;Oe=!1,Me=null,Ue||(Ue=!0,Fe=u)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Mr(i,a,c),s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Mr(i,a,c),s=l}}}if(Ue)throw e=Fe,Ue=!1,Fe=null,e}function Fr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Br(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),Br(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Or.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function Br(e,t,n,r){switch(Xt(t)){case 1:var i=Wt;break;case 4:i=Kt;break;default:i=Qt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=vi(a)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}a=a.parentNode}}r=r.return}Pe((function(){var r=s,i=be(n),o=[];e:{var a=jr.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Tn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Nn;break;case kr:case Tr:case Ir:l=yn;break;case Nr:l=jn;break;case"scroll":l=dn;break;case"wheel":l=An;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=In}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Ae(p,d))&&u.push(Wr(p,m,f)))),h)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,i),o.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===_e||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(h=qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=In,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:_i(l),f=null==c?a:_i(c),(a=new u(m,p+"leave",l,n,i)).target=h,a.relatedTarget=f,m=null,vi(i)===r&&((u=new u(d,p+"enter",c,n,i)).target=f,u.relatedTarget=h,m=u),h=m,l&&c)e:{for(d=c,p=0,f=u=l;f;f=Qr(f))p++;for(f=0,m=d;m;m=Qr(m))f++;for(;0<p-f;)u=Qr(u),p--;for(;0<f-p;)d=Qr(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Qr(u),d=Qr(d)}u=null}else u=null;null!==l&&Gr(o,a,l,u,!1),null!==c&&null!==h&&Gr(o,h,c,u,!0)}if("select"===(l=(a=r?_i(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Xn;else if(Hn(a))if(Jn)g=or;else{g=ir;var y=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=sr);switch(g&&(g=g(e,r))?Wn(o,g,n,i):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&ee(a,"number",a.value)),y=r?_i(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,_r(o,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":_r(o,n,i)}var v;if(Ln)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else qn?Vn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Mn&&"ko"!==n.locale&&(qn||"onCompositionStart"!==w?"onCompositionEnd"===w&&qn&&(v=en()):($t="value"in(Jt=i)?Jt.value:Jt.textContent,qn=!0)),0<(y=Kr(r,w)).length&&(w=new _n(w,e,null,n,i),o.push({event:w,listeners:y}),v?w.data=v:null!==(v=zn(n))&&(w.data=v))),(v=On?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Un);case"textInput":return(e=t.data)===Un&&Fn?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!Ln&&Vn(e,t)?(e=en(),Zt=$t=Jt=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=v))}Ur(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Ae(e,n))&&r.unshift(Wr(e,s,i)),null!=(s=Ae(e,t))&&r.push(Wr(e,s,i))),e=e.return}return r}function Qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=Ae(n,s))&&o.unshift(Wr(n,l,a)):i||null!=(l=Ae(n,s))&&o.push(Wr(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Xr,"")}function $r(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);qt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,mi="__reactEvents$"+hi,gi="__reactListeners$"+hi,yi="__reactHandles$"+hi;function vi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[di])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function wi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function _i(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function bi(e){return e[fi]||null}var xi=[],Ci=-1;function Ei(e){return{current:e}}function Si(e){0>Ci||(e.current=xi[Ci],xi[Ci]=null,Ci--)}function ki(e,t){Ci++,xi[Ci]=e.current,e.current=t}var Ti={},Ii=Ei(Ti),Ni=Ei(!1),ji=Ti;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ai(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Si(Ni),Si(Ii)}function Li(e,t,n){if(Ii.current!==Ti)throw Error(s(168));ki(Ii,t),ki(Ni,n)}function Di(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,B(e)||"Unknown",i));return M({},n,r)}function Oi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,ji=Ii.current,ki(Ii,e),ki(Ni,Ni.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Di(e,t,ji),r.__reactInternalMemoizedMergedChildContext=e,Si(Ni),Si(Ii),ki(Ii,e)):Si(Ni),ki(Ni,n)}var Ui=null,Fi=!1,Vi=!1;function zi(e){null===Ui?Ui=[e]:Ui.push(e)}function qi(){if(!Vi&&null!==Ui){Vi=!0;var e=0,t=wt;try{var n=Ui;for(wt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,Fi=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),Qe(Ze,qi),i}finally{wt=t,Vi=!1}}return null}var Bi=[],Hi=0,Wi=null,Ki=0,Qi=[],Gi=0,Yi=null,Xi=1,Ji="";function $i(e,t){Bi[Hi++]=Ki,Bi[Hi++]=Wi,Wi=e,Ki=t}function Zi(e,t,n){Qi[Gi++]=Xi,Qi[Gi++]=Ji,Qi[Gi++]=Yi,Yi=e;var r=Xi;e=Ji;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var s=32-ot(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xi=1<<32-ot(t)+i|n<<i|r,Ji=s+e}else Xi=1<<s|n<<i|r,Ji=e}function es(e){null!==e.return&&($i(e,1),Zi(e,1,0))}function ts(e){for(;e===Wi;)Wi=Bi[--Hi],Bi[Hi]=null,Ki=Bi[--Hi],Bi[Hi]=null;for(;e===Yi;)Yi=Qi[--Gi],Qi[Gi]=null,Ji=Qi[--Gi],Qi[Gi]=null,Xi=Qi[--Gi],Qi[Gi]=null}var ns=null,rs=null,is=!1,ss=null;function os(e,t){var n=Ac(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function as(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Xi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ac(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(is){var t=rs;if(t){var n=t;if(!as(e,t)){if(ls(e))throw Error(s(418));t=ci(n.nextSibling);var r=ns;t&&as(e,t)?os(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function hs(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw ds(),Error(s(418));for(;t;)os(e,t),t=ci(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ci(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=rs;e;)e=ci(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=_.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function ys(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vs(e){return(0,e._init)(e._payload)}function ws(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Lc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===C?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===A&&vs(s)===t.type)?((r=i(t,n.props)).ref=gs(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=gs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Oc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Uc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case b:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case x:return(t=Fc(t,e.mode,n)).return=e,t;case A:return d(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Oc(t,e.mode,n,null)).return=e,t;ys(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case b:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?u(e,t,n,r):null;case A:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||D(n))return null!==i?null:h(e,t,n,r,null);ys(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case b:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case A:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||D(r))return h(t,e=e.get(n)||null,r,i,null);ys(t,r)}return null}function m(i,s,a,l){for(var c=null,u=null,h=s,m=s=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=f(i,h,a[m],l);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),s=o(y,s,m),null===u?c=y:u.sibling=y,u=y,h=g}if(m===a.length)return n(i,h),is&&$i(i,m),c;if(null===h){for(;m<a.length;m++)null!==(h=d(i,a[m],l))&&(s=o(h,s,m),null===u?c=h:u.sibling=h,u=h);return is&&$i(i,m),c}for(h=r(i,h);m<a.length;m++)null!==(g=p(h,i,m,a[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=o(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach((function(e){return t(i,e)})),is&&$i(i,m),c}function g(i,a,l,c){var u=D(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var h=u=null,m=a,g=a=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var w=f(i,m,v.value,c);if(null===w){null===m&&(m=y);break}e&&m&&null===w.alternate&&t(i,m),a=o(w,a,g),null===h?u=w:h.sibling=w,h=w,m=y}if(v.done)return n(i,m),is&&$i(i,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=d(i,v.value,c))&&(a=o(v,a,g),null===h?u=v:h.sibling=v,h=v);return is&&$i(i,g),u}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=o(v,a,g),null===h?u=v:h.sibling=v,h=v);return e&&m.forEach((function(e){return t(i,e)})),is&&$i(i,g),u}return function e(r,s,o,l){if("object"===typeof o&&null!==o&&o.type===C&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case b:e:{for(var c=o.key,u=s;null!==u;){if(u.key===c){if((c=o.type)===C){if(7===u.tag){n(r,u.sibling),(s=i(u,o.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===A&&vs(c)===u.type){n(r,u.sibling),(s=i(u,o.props)).ref=gs(r,u,o),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===C?((s=Oc(o.props.children,r.mode,l,o.key)).return=r,r=s):((l=Dc(o.type,o.key,o.props,null,r.mode,l)).ref=gs(r,s,o),l.return=r,r=l)}return a(r);case x:e:{for(u=o.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=i(s,o.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Fc(o,r.mode,l)).return=r,r=s}return a(r);case A:return e(r,s,(u=o._init)(o._payload),l)}if(te(o))return m(r,s,o,l);if(D(o))return g(r,s,o,l);ys(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,o)).return=r,r=s):(n(r,s),(s=Uc(o,r.mode,l)).return=r,r=s),a(r)):n(r,s)}}var _s=ws(!0),bs=ws(!1),xs=Ei(null),Cs=null,Es=null,Ss=null;function ks(){Ss=Es=Cs=null}function Ts(e){var t=xs.current;Si(xs),e._currentValue=t}function Is(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ns(e,t){Cs=e,Ss=Es=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wa=!0),e.firstContext=null)}function js(e){var t=e._currentValue;if(Ss!==e)if(e={context:e,memoizedValue:t,next:null},null===Es){if(null===Cs)throw Error(s(308));Es=e,Cs.dependencies={lanes:0,firstContext:e}}else Es=Es.next=e;return t}var Ps=null;function As(e){null===Ps?Ps=[e]:Ps.push(e)}function Rs(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,As(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ls(e,r)}function Ls(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ds=!1;function Os(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ms(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Us(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Il)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ls(e,n)}return null===(i=r.interleaved)?(t.next=t,As(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ls(e,n)}function Vs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function zs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qs(e,t,n,r){var i=e.updateQueue;Ds=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(o=0,u=c=l=null,a=s;;){var d=a.lane,f=a.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=M({},h,d);break e;case 2:Ds=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,o|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Ol|=o,e.lanes=o,e.memoizedState=h}}function Bs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Hs={},Ws=Ei(Hs),Ks=Ei(Hs),Qs=Ei(Hs);function Gs(e){if(e===Hs)throw Error(s(174));return e}function Ys(e,t){switch(ki(Qs,t),ki(Ks,e),ki(Ws,Hs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(Ws),ki(Ws,t)}function Xs(){Si(Ws),Si(Ks),Si(Qs)}function Js(e){Gs(Qs.current);var t=Gs(Ws.current),n=le(t,e.type);t!==n&&(ki(Ks,e),ki(Ws,n))}function $s(e){Ks.current===e&&(Si(Ws),Si(Ks))}var Zs=Ei(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var ro=_.ReactCurrentDispatcher,io=_.ReactCurrentBatchConfig,so=0,oo=null,ao=null,lo=null,co=!1,uo=!1,ho=0,fo=0;function po(){throw Error(s(321))}function mo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function go(e,t,n,r,i,o){if(so=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=null===e||null===e.memoizedState?Zo:ea,e=n(r,i),uo){o=0;do{if(uo=!1,ho=0,25<=o)throw Error(s(301));o+=1,lo=ao=null,t.updateQueue=null,ro.current=ta,e=n(r,i)}while(uo)}if(ro.current=$o,t=null!==ao&&null!==ao.next,so=0,lo=ao=oo=null,co=!1,t)throw Error(s(300));return e}function yo(){var e=0!==ho;return ho=0,e}function vo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function wo(){if(null===ao){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=ao.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,ao=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ao=e).memoizedState,baseState:ao.baseState,baseQueue:ao.baseQueue,queue:ao.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function _o(e,t){return"function"===typeof t?t(e):t}function bo(e){var t=wo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=ao,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=a=null,c=null,u=o;do{var h=u.lane;if((so&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,a=r):c=c.next=d,oo.lanes|=h,Ol|=h}u=u.next}while(null!==u&&u!==o);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(wa=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,oo.lanes|=o,Ol|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xo(e){var t=wo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);ar(o,t.memoizedState)||(wa=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Co(){}function Eo(e,t){var n=oo,r=wo(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,wa=!0),r=r.queue,Oo(To.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,Po(9,ko.bind(null,n,r,i,t),void 0,null),null===Nl)throw Error(s(349));0!==(30&so)||So(n,t,i)}return i}function So(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function ko(e,t,n,r){t.value=n,t.getSnapshot=r,Io(t)&&No(e)}function To(e,t,n){return n((function(){Io(t)&&No(e)}))}function Io(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function No(e){var t=Ls(e,1);null!==t&&nc(t,e,1,-1)}function jo(e){var t=vo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_o,lastRenderedState:e},t.queue=e,e=e.dispatch=Go.bind(null,oo,e),[t.memoizedState,e]}function Po(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ao(){return wo().memoizedState}function Ro(e,t,n,r){var i=vo();oo.flags|=e,i.memoizedState=Po(1|t,n,void 0,void 0===r?null:r)}function Lo(e,t,n,r){var i=wo();r=void 0===r?null:r;var s=void 0;if(null!==ao){var o=ao.memoizedState;if(s=o.destroy,null!==r&&mo(r,o.deps))return void(i.memoizedState=Po(t,n,s,r))}oo.flags|=e,i.memoizedState=Po(1|t,n,s,r)}function Do(e,t){return Ro(8390656,8,e,t)}function Oo(e,t){return Lo(2048,8,e,t)}function Mo(e,t){return Lo(4,2,e,t)}function Uo(e,t){return Lo(4,4,e,t)}function Fo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Vo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Lo(4,4,Fo.bind(null,t,e),n)}function zo(){}function qo(e,t){var n=wo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Bo(e,t){var n=wo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ho(e,t,n){return 0===(21&so)?(e.baseState&&(e.baseState=!1,wa=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),oo.lanes|=n,Ol|=n,e.baseState=!0),t)}function Wo(e,t){var n=wt;wt=0!==n&&4>n?n:4,e(!0);var r=io.transition;io.transition={};try{e(!1),t()}finally{wt=n,io.transition=r}}function Ko(){return wo().memoizedState}function Qo(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Yo(e))Xo(t,n);else if(null!==(n=Rs(e,t,n,r))){nc(n,e,r,ec()),Jo(n,t,r)}}function Go(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yo(e))Xo(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,o)){var l=t.interleaved;return null===l?(i.next=i,As(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Rs(e,t,i,r))&&(nc(n,e,r,i=ec()),Jo(n,t,r))}}function Yo(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Xo(e,t){uo=co=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Jo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var $o={readContext:js,useCallback:po,useContext:po,useEffect:po,useImperativeHandle:po,useInsertionEffect:po,useLayoutEffect:po,useMemo:po,useReducer:po,useRef:po,useState:po,useDebugValue:po,useDeferredValue:po,useTransition:po,useMutableSource:po,useSyncExternalStore:po,useId:po,unstable_isNewReconciler:!1},Zo={readContext:js,useCallback:function(e,t){return vo().memoizedState=[e,void 0===t?null:t],e},useContext:js,useEffect:Do,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ro(4194308,4,Fo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ro(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ro(4,2,e,t)},useMemo:function(e,t){var n=vo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Qo.bind(null,oo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vo().memoizedState=e},useState:jo,useDebugValue:zo,useDeferredValue:function(e){return vo().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=Wo.bind(null,e[1]),vo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oo,i=vo();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Nl)throw Error(s(349));0!==(30&so)||So(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Do(To.bind(null,r,o,e),[e]),r.flags|=2048,Po(9,ko.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=vo(),t=Nl.identifierPrefix;if(is){var n=Ji;t=":"+t+"R"+(n=(Xi&~(1<<32-ot(Xi)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:js,useCallback:qo,useContext:js,useEffect:Oo,useImperativeHandle:Vo,useInsertionEffect:Mo,useLayoutEffect:Uo,useMemo:Bo,useReducer:bo,useRef:Ao,useState:function(){return bo(_o)},useDebugValue:zo,useDeferredValue:function(e){return Ho(wo(),ao.memoizedState,e)},useTransition:function(){return[bo(_o)[0],wo().memoizedState]},useMutableSource:Co,useSyncExternalStore:Eo,useId:Ko,unstable_isNewReconciler:!1},ta={readContext:js,useCallback:qo,useContext:js,useEffect:Oo,useImperativeHandle:Vo,useInsertionEffect:Mo,useLayoutEffect:Uo,useMemo:Bo,useReducer:xo,useRef:Ao,useState:function(){return xo(_o)},useDebugValue:zo,useDeferredValue:function(e){var t=wo();return null===ao?t.memoizedState=e:Ho(t,ao.memoizedState,e)},useTransition:function(){return[xo(_o)[0],wo().memoizedState]},useMutableSource:Co,useSyncExternalStore:Eo,useId:Ko,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ia={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),s=Us(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Fs(e,s,i))&&(nc(t,e,i,r),Vs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),s=Us(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Fs(e,s,i))&&(nc(t,e,i,r),Vs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Us(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Fs(e,i,r))&&(nc(t,e,r,n),Vs(t,e,r))}};function sa(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function oa(e,t,n){var r=!1,i=Ti,s=t.contextType;return"object"===typeof s&&null!==s?s=js(s):(i=Ai(t)?ji:Ii.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ti),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ia,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function aa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ia.enqueueReplaceState(t,t.state,null)}function la(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Os(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=js(s):(s=Ai(t)?ji:Ii.current,i.context=Pi(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ra(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ia.enqueueReplaceState(i,i.state,null),qs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function ca(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function ua(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ha(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var da="function"===typeof WeakMap?WeakMap:Map;function fa(e,t,n){(n=Us(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,Wl=r),ha(0,t)},n}function pa(e,t,n){(n=Us(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ha(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ha(0,t),"function"!==typeof r&&(null===Kl?Kl=new Set([this]):Kl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ma(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new da;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=kc.bind(null,e,t,n),t.then(e,e))}function ga(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ya(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Us(-1,1)).tag=2,Fs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var va=_.ReactCurrentOwner,wa=!1;function _a(e,t,n,r){t.child=null===e?bs(t,null,n,r):_s(t,e.child,n,r)}function ba(e,t,n,r,i){n=n.render;var s=t.ref;return Ns(t,i),r=go(e,t,n,r,s,i),n=yo(),null===e||wa?(is&&n&&es(t),t.flags|=1,_a(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ha(e,t,i))}function xa(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Rc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ca(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Ha(e,t,i)}return t.flags|=1,(e=Lc(s,r)).ref=t.ref,e.return=t,t.child=e}function Ca(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(wa=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Ha(e,t,i);0!==(131072&e.flags)&&(wa=!0)}}return ka(e,t,n,r,i)}function Ea(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ki(Rl,Al),Al|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ki(Rl,Al),Al|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,ki(Rl,Al),Al|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,ki(Rl,Al),Al|=r;return _a(e,t,i,n),t.child}function Sa(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ka(e,t,n,r,i){var s=Ai(n)?ji:Ii.current;return s=Pi(t,s),Ns(t,i),n=go(e,t,n,r,s,i),r=yo(),null===e||wa?(is&&r&&es(t),t.flags|=1,_a(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ha(e,t,i))}function Ta(e,t,n,r,i){if(Ai(n)){var s=!0;Oi(t)}else s=!1;if(Ns(t,i),null===t.stateNode)Ba(e,t),oa(t,n,r),la(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=js(c):c=Pi(t,c=Ai(n)?ji:Ii.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||l!==c)&&aa(t,o,r,c),Ds=!1;var d=t.memoizedState;o.state=d,qs(t,r,o,i),l=t.memoizedState,a!==r||d!==l||Ni.current||Ds?("function"===typeof u&&(ra(t,n,u,r),l=t.memoizedState),(a=Ds||sa(t,n,a,r,d,l,c))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ms(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:na(t.type,a),o.props=c,h=t.pendingProps,d=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=js(l):l=Pi(t,l=Ai(n)?ji:Ii.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==h||d!==l)&&aa(t,o,r,l),Ds=!1,d=t.memoizedState,o.state=d,qs(t,r,o,i);var p=t.memoizedState;a!==h||d!==p||Ni.current||Ds?("function"===typeof f&&(ra(t,n,f,r),p=t.memoizedState),(c=Ds||sa(t,n,c,r,d,p,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Ia(e,t,n,r,s,i)}function Ia(e,t,n,r,i,s){Sa(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Mi(t,n,!1),Ha(e,t,s);r=t.stateNode,va.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=_s(t,e.child,null,s),t.child=_s(t,null,a,s)):_a(e,t,a,s),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function Na(e){var t=e.stateNode;t.pendingContext?Li(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Li(0,t.context,!1),Ys(e,t.containerInfo)}function ja(e,t,n,r,i){return fs(),ps(i),t.flags|=256,_a(e,t,n,r),t.child}var Pa,Aa,Ra,La,Da={dehydrated:null,treeContext:null,retryLane:0};function Oa(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ma(e,t,n){var r,i=t.pendingProps,o=Zs.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),ki(Zs,1&o),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Mc(l,i,0,null),e=Oc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Oa(n),t.memoizedState=Da,e):Ua(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,a){if(n)return 256&t.flags?(t.flags&=-257,Fa(e,t,a,r=ua(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(o=Oc(o,i,a,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&_s(t,e.child,null,a),t.child.memoizedState=Oa(a),t.memoizedState=Da,o);if(0===(1&t.mode))return Fa(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Fa(e,t,a,r=ua(o=Error(s(419)),r,void 0))}if(l=0!==(a&e.childLanes),wa||l){if(null!==(r=Nl)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ls(e,i),nc(r,e,i,-1))}return mc(),Fa(e,t,a,r=ua(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Ic.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,rs=ci(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Qi[Gi++]=Xi,Qi[Gi++]=Ji,Qi[Gi++]=Yi,Xi=e.id,Ji=e.overflow,Yi=t),t=Ua(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(a){a=i.fallback,l=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Lc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?a=Lc(r,a):(a=Oc(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?Oa(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Da,i}return e=(a=e.child).sibling,i=Lc(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ua(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fa(e,t,n,r){return null!==r&&ps(r),_s(t,e.child,null,n),(e=Ua(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Va(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Is(e.return,t,n)}function za(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function qa(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(_a(e,t,r.children,n),0!==(2&(r=Zs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Va(e,n,t);else if(19===e.tag)Va(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ki(Zs,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),za(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===eo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}za(t,!0,n,null,s);break;case"together":za(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ba(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ha(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ol|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Lc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Lc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wa(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ka(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qa(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ka(t),null;case 1:case 17:return Ai(t.type)&&Ri(),Ka(t),null;case 3:return r=t.stateNode,Xs(),Si(Ni),Si(Ii),no(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(oc(ss),ss=null))),Aa(e,t),Ka(t),null;case 5:$s(t);var i=Gs(Qs.current);if(n=t.type,null!==e&&null!=t.stateNode)Ra(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Ka(t),null}if(e=Gs(Ws.current),hs(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[di]=t,r[fi]=o,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Dr.length;i++)Fr(Dr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":X(r,o),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fr("invalid",r);break;case"textarea":ie(r,o),Fr("invalid",r)}for(var l in ve(n,o),i=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[di]=t,e[fi]=r,Pa(e,t,!1,!1),t.stateNode=e;e:{switch(l=we(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Dr.length;i++)Fr(Dr[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":X(e,r),i=Y(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(o in ve(n,i),c=i)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?ge(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Fr("scroll",e):null!=u&&w(e,o,u,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ka(t),null;case 6:if(e&&null!=t.stateNode)La(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Gs(Qs.current),Gs(Ws.current),hs(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(o=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:$r(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Ka(t),null;case 13:if(Si(Zs),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))ds(),fs(),t.flags|=98560,o=!1;else if(o=hs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[di]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ka(t),o=!1}else null!==ss&&(oc(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===Ll&&(Ll=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ka(t),null);case 4:return Xs(),Aa(e,t),null===e&&qr(t.stateNode.containerInfo),Ka(t),null;case 10:return Ts(t.type._context),Ka(t),null;case 19:if(Si(Zs),null===(o=t.memoizedState))return Ka(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Wa(o,!1);else{if(0!==Ll||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,Wa(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ki(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>ql&&(t.flags|=128,r=!0,Wa(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=eo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wa(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!is)return Ka(t),null}else 2*Je()-o.renderingStartTime>ql&&1073741824!==n&&(t.flags|=128,r=!0,Wa(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=Zs.current,ki(Zs,r?1&n|2:1&n),t):(Ka(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Al)&&(Ka(t),6&t.subtreeFlags&&(t.flags|=8192)):Ka(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Ga(e,t){switch(ts(t),t.tag){case 1:return Ai(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xs(),Si(Ni),Si(Ii),no(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return $s(t),null;case 13:if(Si(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(Zs),null;case 4:return Xs(),null;case 10:return Ts(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Pa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Aa=function(){},Ra=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Gs(Ws.current);var s,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ve(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Fr("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},La=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ya=!1,Xa=!1,Ja="function"===typeof WeakSet?WeakSet:Set,$a=null;function Za(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&el(t,n,s)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[mi],delete t[gi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,hl=!1;function dl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Xa||Za(n,t);case 6:var r=ul,i=hl;ul=null,dl(e,t,n),hl=i,null!==(ul=r)&&(hl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(hl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),qt(e)):li(ul,n.stateNode));break;case 4:r=ul,i=hl,ul=n.stateNode.containerInfo,hl=!0,dl(e,t,n),ul=r,hl=i;break;case 0:case 11:case 14:case 15:if(!Xa&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&el(n,t,o),i=i.next}while(i!==r)}dl(e,t,n);break;case 1:if(!Xa&&(Za(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Sc(n,t,a)}dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:1&n.mode?(Xa=(r=Xa)||null!==n.memoizedState,dl(e,t,n),Xa=r):dl(e,t,n);break;default:dl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ja),t.forEach((function(t){var r=Nc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,hl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===ul)throw Error(s(160));fl(o,a,i),ul=null,hl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Sc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),yl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){Sc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Sc(e,e.return,g)}}break;case 1:ml(t,e),yl(e),512&r&&null!==n&&Za(n,n.return);break;case 5:if(ml(t,e),yl(e),512&r&&null!==n&&Za(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){Sc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&J(i,o),we(l,a);var u=we(l,o);for(a=0;a<c.length;a+=2){var h=c[a],d=c[a+1];"style"===h?ge(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):w(i,h,d,u)}switch(l){case"input":$(i,o);break;case"textarea":se(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[fi]=o}catch(g){Sc(e,e.return,g)}}break;case 6:if(ml(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){Sc(e,e.return,g)}}break;case 3:if(ml(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(g){Sc(e,e.return,g)}break;case 4:default:ml(t,e),yl(e);break;case 13:ml(t,e),yl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zl=Je())),4&r&&pl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Xa=(u=Xa)||h,ml(t,e),Xa=u):ml(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for($a=e,h=e.child;null!==h;){for(d=$a=h;null!==$a;){switch(p=(f=$a).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Za(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Sc(r,n,g)}}break;case 5:Za(f,f.return);break;case 22:if(null!==f.memoizedState){bl(d);continue}}null!==p?(p.return=f,$a=p):bl(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,u?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=d.stateNode,a=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",a))}catch(g){Sc(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){Sc(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ml(t,e),yl(e),4&r&&pl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),cl(e,al(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ll(e,al(e),o);break;default:throw Error(s(161))}}catch(a){Sc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){$a=e,wl(e,t,n)}function wl(e,t,n){for(var r=0!==(1&e.mode);null!==$a;){var i=$a,s=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ya;if(!o){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Xa;a=Ya;var c=Xa;if(Ya=o,(Xa=l)&&!c)for($a=i;null!==$a;)l=(o=$a).child,22===o.tag&&null!==o.memoizedState?xl(i):null!==l?(l.return=o,$a=l):xl(i);for(;null!==s;)$a=s,wl(s,t,n),s=s.sibling;$a=i,Ya=a,Xa=c}_l(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,$a=s):_l(e)}}function _l(e){for(;null!==$a;){var t=$a;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xa||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xa)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Bs(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Bs(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&qt(d)}}}break;default:throw Error(s(163))}Xa||512&t.flags&&il(t)}catch(f){Sc(t,t.return,f)}}if(t===e){$a=null;break}if(null!==(n=t.sibling)){n.return=t.return,$a=n;break}$a=t.return}}function bl(e){for(;null!==$a;){var t=$a;if(t===e){$a=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$a=n;break}$a=t.return}}function xl(e){for(;null!==$a;){var t=$a;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Sc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Sc(t,i,l)}}var s=t.return;try{il(t)}catch(l){Sc(t,s,l)}break;case 5:var o=t.return;try{il(t)}catch(l){Sc(t,o,l)}}}catch(l){Sc(t,t.return,l)}if(t===e){$a=null;break}var a=t.sibling;if(null!==a){a.return=t.return,$a=a;break}$a=t.return}}var Cl,El=Math.ceil,Sl=_.ReactCurrentDispatcher,kl=_.ReactCurrentOwner,Tl=_.ReactCurrentBatchConfig,Il=0,Nl=null,jl=null,Pl=0,Al=0,Rl=Ei(0),Ll=0,Dl=null,Ol=0,Ml=0,Ul=0,Fl=null,Vl=null,zl=0,ql=1/0,Bl=null,Hl=!1,Wl=null,Kl=null,Ql=!1,Gl=null,Yl=0,Xl=0,Jl=null,$l=-1,Zl=0;function ec(){return 0!==(6&Il)?Je():-1!==$l?$l:$l=Je()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Il)&&0!==Pl?Pl&-Pl:null!==ms.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=wt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nc(e,t,n,r){if(50<Xl)throw Xl=0,Jl=null,Error(s(185));yt(e,n,r),0!==(2&Il)&&e===Nl||(e===Nl&&(0===(2&Il)&&(Ml|=n),4===Ll&&ac(e,Pl)),rc(e,r),1===n&&0===Il&&0===(1&t.mode)&&(ql=Je()+500,Fi&&qi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),a=1<<o,l=i[o];-1===l?0!==(a&n)&&0===(a&r)||(i[o]=ft(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var r=dt(e,e===Nl?Pl:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Fi=!0,zi(e)}(lc.bind(null,e)):zi(lc.bind(null,e)),oi((function(){0===(6&Il)&&qi()})),n=null;else{switch(_t(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=jc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if($l=-1,Zl=0,0!==(6&Il))throw Error(s(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=dt(e,e===Nl?Pl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Il;Il|=2;var o=pc();for(Nl===e&&Pl===t||(Bl=null,ql=Je()+500,dc(e,t));;)try{vc();break}catch(l){fc(e,l)}ks(),Sl.current=o,Il=i,null!==jl?t=0:(Nl=null,Pl=0,t=Ll)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=sc(e,i))),1===t)throw n=Dl,dc(e,0),ac(e,r),rc(e,Je()),n;if(6===t)ac(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ar(s(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(o=pt(e))&&(r=o,t=sc(e,o))),1===t))throw n=Dl,dc(e,0),ac(e,r),rc(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:bc(e,Vl,Bl);break;case 3:if(ac(e,r),(130023424&r)===r&&10<(t=zl+500-Je())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(bc.bind(null,e,Vl,Bl),t);break}bc(e,Vl,Bl);break;case 4:if(ac(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-ot(r);o=1<<a,(a=t[a])>i&&(i=a),r&=~o}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*El(r/1960))-r)){e.timeoutHandle=ri(bc.bind(null,e,Vl,Bl),r);break}bc(e,Vl,Bl);break;default:throw Error(s(329))}}}return rc(e,Je()),e.callbackNode===n?ic.bind(null,e):null}function sc(e,t){var n=Fl;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Vl,Vl=n,null!==t&&oc(t)),e}function oc(e){null===Vl?Vl=e:Vl.push.apply(Vl,e)}function ac(e,t){for(t&=~Ul,t&=~Ml,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Il))throw Error(s(327));xc();var t=dt(e,0);if(0===(1&t))return rc(e,Je()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=Dl,dc(e,0),ac(e,t),rc(e,Je()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bc(e,Vl,Bl),rc(e,Je()),null}function cc(e,t){var n=Il;Il|=1;try{return e(t)}finally{0===(Il=n)&&(ql=Je()+500,Fi&&qi())}}function uc(e){null!==Gl&&0===Gl.tag&&0===(6&Il)&&xc();var t=Il;Il|=1;var n=Tl.transition,r=wt;try{if(Tl.transition=null,wt=1,e)return e()}finally{wt=r,Tl.transition=n,0===(6&(Il=t))&&qi()}}function hc(){Al=Rl.current,Si(Rl)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==jl)for(n=jl.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:Xs(),Si(Ni),Si(Ii),no();break;case 5:$s(r);break;case 4:Xs();break;case 13:case 19:Si(Zs);break;case 10:Ts(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Nl=e,jl=e=Lc(e.current,null),Pl=Al=t,Ll=0,Dl=null,Ul=Ml=Ol=0,Vl=Fl=null,null!==Ps){for(t=0;t<Ps.length;t++)if(null!==(r=(n=Ps[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=i,r.next=o}n.pending=r}Ps=null}return e}function fc(e,t){for(;;){var n=jl;try{if(ks(),ro.current=$o,co){for(var r=oo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}co=!1}if(so=0,lo=ao=oo=null,uo=!1,ho=0,kl.current=null,null===n||null===n.return){Ll=1,Dl=t,jl=null;break}e:{var o=e,a=n.return,l=n,c=t;if(t=Pl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ga(a);if(null!==p){p.flags&=-257,ya(p,a,l,0,t),1&p.mode&&ma(o,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ma(o,u,t),mc();break e}c=Error(s(426))}else if(is&&1&l.mode){var y=ga(a);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ya(y,a,l,0,t),ps(ca(c,l));break e}}o=c=ca(c,l),4!==Ll&&(Ll=2),null===Fl?Fl=[o]:Fl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,zs(o,fa(0,c,t));break e;case 1:l=c;var v=o.type,w=o.stateNode;if(0===(128&o.flags)&&("function"===typeof v.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Kl||!Kl.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t,zs(o,pa(o,l,t));break e}}o=o.return}while(null!==o)}_c(n)}catch(_){t=_,jl===n&&null!==n&&(jl=n=n.return);continue}break}}function pc(){var e=Sl.current;return Sl.current=$o,null===e?$o:e}function mc(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===Nl||0===(268435455&Ol)&&0===(268435455&Ml)||ac(Nl,Pl)}function gc(e,t){var n=Il;Il|=2;var r=pc();for(Nl===e&&Pl===t||(Bl=null,dc(e,t));;)try{yc();break}catch(i){fc(e,i)}if(ks(),Il=n,Sl.current=r,null!==jl)throw Error(s(261));return Nl=null,Pl=0,Ll}function yc(){for(;null!==jl;)wc(jl)}function vc(){for(;null!==jl&&!Ye();)wc(jl)}function wc(e){var t=Cl(e.alternate,e,Al);e.memoizedProps=e.pendingProps,null===t?_c(e):jl=t,kl.current=null}function _c(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qa(n,t,Al)))return void(jl=n)}else{if(null!==(n=Ga(n,t)))return n.flags&=32767,void(jl=n);if(null===e)return Ll=6,void(jl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(jl=t);jl=t=e}while(null!==t);0===Ll&&(Ll=5)}function bc(e,t,n){var r=wt,i=Tl.transition;try{Tl.transition=null,wt=1,function(e,t,n,r){do{xc()}while(null!==Gl);if(0!==(6&Il))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,o),e===Nl&&(jl=Nl=null,Pl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ql||(Ql=!0,jc(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Tl.transition,Tl.transition=null;var a=wt;wt=1;var l=Il;Il|=4,kl.current=null,function(e,t){if(ei=Ht,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(ou){n=null;break e}var a=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=a+i),d!==o||0!==r&&3!==d.nodeType||(c=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=a),f===o&&++h===r&&(c=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,$a=t;null!==$a;)if(e=(t=$a).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$a=e;else for(;null!==$a;){t=$a;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,w=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:na(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=t.stateNode.containerInfo;1===_.nodeType?_.textContent="":9===_.nodeType&&_.documentElement&&_.removeChild(_.documentElement);break;default:throw Error(s(163))}}catch(ou){Sc(t,t.return,ou)}if(null!==(e=t.sibling)){e.return=t.return,$a=e;break}$a=t.return}m=tl,tl=!1}(e,n),gl(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,vl(n,e,i),Xe(),Il=l,wt=a,Tl.transition=o}else e.current=n;if(Ql&&(Ql=!1,Gl=e,Yl=i),o=e.pendingLanes,0===o&&(Kl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hl)throw Hl=!1,e=Wl,Wl=null,e;0!==(1&Yl)&&0!==e.tag&&xc(),o=e.pendingLanes,0!==(1&o)?e===Jl?Xl++:(Xl=0,Jl=e):Xl=0,qi()}(e,t,n,r)}finally{Tl.transition=i,wt=r}return null}function xc(){if(null!==Gl){var e=_t(Yl),t=Tl.transition,n=wt;try{if(Tl.transition=null,wt=16>e?16:e,null===Gl)var r=!1;else{if(e=Gl,Gl=null,Yl=0,0!==(6&Il))throw Error(s(331));var i=Il;for(Il|=4,$a=e.current;null!==$a;){var o=$a,a=o.child;if(0!==(16&$a.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for($a=u;null!==$a;){var h=$a;switch(h.tag){case 0:case 11:case 15:nl(8,h,o)}var d=h.child;if(null!==d)d.return=h,$a=d;else for(;null!==$a;){var f=(h=$a).sibling,p=h.return;if(sl(h),h===u){$a=null;break}if(null!==f){f.return=p,$a=f;break}$a=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}$a=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,$a=a;else e:for(;null!==$a;){if(0!==(2048&(o=$a).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var v=o.sibling;if(null!==v){v.return=o.return,$a=v;break e}$a=o.return}}var w=e.current;for($a=w;null!==$a;){var _=(a=$a).child;if(0!==(2064&a.subtreeFlags)&&null!==_)_.return=a,$a=_;else e:for(a=w;null!==$a;){if(0!==(2048&(l=$a).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(x){Sc(l,l.return,x)}if(l===a){$a=null;break e}var b=l.sibling;if(null!==b){b.return=l.return,$a=b;break e}$a=l.return}}if(Il=i,qi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{wt=n,Tl.transition=t}}return!1}function Ec(e,t,n){e=Fs(e,t=fa(0,t=ca(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Sc(e,t,n){if(3===e.tag)Ec(e,e,n);else for(;null!==t;){if(3===t.tag){Ec(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Kl||!Kl.has(r))){t=Fs(t,e=pa(t,e=ca(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function kc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Nl===e&&(Pl&n)===n&&(4===Ll||3===Ll&&(130023424&Pl)===Pl&&500>Je()-zl?dc(e,0):Ul|=n),rc(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Ls(e,t))&&(yt(e,t,n),rc(e,n))}function Ic(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Nc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Tc(e,n)}function jc(e,t){return Qe(e,t)}function Pc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(e,t,n,r){return new Pc(e,t,n,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Lc(e,t){var n=e.alternate;return null===n?((n=Ac(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)Rc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case C:return Oc(n.children,i,o,t);case E:a=8,i|=8;break;case S:return(e=Ac(12,n,t,2|i)).elementType=S,e.lanes=o,e;case N:return(e=Ac(13,n,t,i)).elementType=N,e.lanes=o,e;case j:return(e=Ac(19,n,t,i)).elementType=j,e.lanes=o,e;case R:return Mc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:a=10;break e;case T:a=9;break e;case I:a=11;break e;case P:a=14;break e;case A:a=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Ac(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Oc(e,t,n,r){return(e=Ac(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Ac(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Uc(e,t,n){return(e=Ac(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Ac(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,i,s,o,a,l){return e=new Vc(e,t,n,a,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Ac(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Os(s),e}function qc(e){if(!e)return Ti;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ai(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Ai(n))return Di(e,n,t)}return t}function Bc(e,t,n,r,i,s,o,a,l){return(e=zc(n,r,!0,e,0,s,0,a,l)).context=qc(null),n=e.current,(s=Us(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Fs(n,s,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function Hc(e,t,n,r){var i=t.current,s=ec(),o=tc(i);return n=qc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Us(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Fs(i,t,o))&&(nc(e,i,o,s),Vs(e,i,o)),o}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Qc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}Cl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)wa=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wa=!1,function(e,t,n){switch(t.tag){case 3:Na(t),fs();break;case 5:Js(t);break;case 1:Ai(t.type)&&Oi(t);break;case 4:Ys(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ki(xs,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ki(Zs,1&Zs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ma(e,t,n):(ki(Zs,1&Zs.current),null!==(e=Ha(e,t,n))?e.sibling:null);ki(Zs,1&Zs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qa(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ki(Zs,Zs.current),r)break;return null;case 22:case 23:return t.lanes=0,Ea(e,t,n)}return Ha(e,t,n)}(e,t,n);wa=0!==(131072&e.flags)}else wa=!1,is&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ba(e,t),e=t.pendingProps;var i=Pi(t,Ii.current);Ns(t,n),i=go(null,t,r,e,i,n);var o=yo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ai(r)?(o=!0,Oi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Os(t),i.updater=ia,t.stateNode=i,i._reactInternals=t,la(t,r,e,n),t=Ia(null,t,r,!0,o,n)):(t.tag=0,is&&o&&es(t),_a(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ba(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===P)return 14}return 2}(r),e=na(r,e),i){case 0:t=ka(null,t,r,e,n);break e;case 1:t=Ta(null,t,r,e,n);break e;case 11:t=ba(null,t,r,e,n);break e;case 14:t=xa(null,t,r,na(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,ka(e,t,r,i=t.elementType===r?i:na(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ta(e,t,r,i=t.elementType===r?i:na(r,i),n);case 3:e:{if(Na(t),null===e)throw Error(s(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ms(e,t),qs(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=ja(e,t,r,n,i=ca(Error(s(423)),t));break e}if(r!==i){t=ja(e,t,r,n,i=ca(Error(s(424)),t));break e}for(rs=ci(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=bs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=Ha(e,t,n);break e}_a(e,t,r,n)}t=t.child}return t;case 5:return Js(t),null===e&&cs(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==o&&ni(r,o)&&(t.flags|=32),Sa(e,t),_a(e,t,a,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Ma(e,t,n);case 4:return Ys(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=_s(t,null,r,n):_a(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ba(e,t,r,i=t.elementType===r?i:na(r,i),n);case 7:return _a(e,t,t.pendingProps,n),t.child;case 8:case 12:return _a(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,ki(xs,r._currentValue),r._currentValue=a,null!==o)if(ar(o.value,a)){if(o.children===i.children&&!Ni.current){t=Ha(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Us(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Is(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Is(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}_a(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ns(t,n),r=r(i=js(i)),t.flags|=1,_a(e,t,r,n),t.child;case 14:return i=na(r=t.type,t.pendingProps),xa(e,t,r,i=na(r.type,i),n);case 15:return Ca(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:na(r,i),Ba(e,t),t.tag=1,Ai(r)?(e=!0,Oi(t)):e=!1,Ns(t,n),oa(t,r,i),la(t,r,i,n),Ia(null,t,r,!0,e,n);case 19:return qa(e,t,n);case 22:return Ea(e,t,n)}throw Error(s(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function eu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof i){var a=i;i=function(){var e=Wc(o);a.call(e)}}Hc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Wc(o);s.call(e)}}var o=Bc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,qr(8===e.nodeType?e.parentNode:e),uc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Wc(l);a.call(e)}}var l=zc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[pi]=l.current,qr(8===e.nodeType?e.parentNode:e),uc((function(){Hc(t,l,n,r)})),l}(n,t,e,i,r);return Wc(o)}Xc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Hc(e,t,null,null)},Xc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){Hc(null,e,null,null)})),t[pi]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Mt(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(vt(t,1|n),rc(t,Je()),0===(6&Il)&&(ql=Je()+500,qi()))}break;case 13:uc((function(){var t=Ls(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Qc(e,1)}},xt=function(e){if(13===e.tag){var t=Ls(e,134217728);if(null!==t)nc(t,e,134217728,ec());Qc(e,134217728)}},Ct=function(e){if(13===e.tag){var t=tc(e),n=Ls(e,t);if(null!==n)nc(n,e,t,ec());Qc(e,t)}},Et=function(){return wt},St=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}},xe=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=bi(r);if(!i)throw Error(s(90));Q(r),$(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=cc,Ne=uc;var tu={usingClientEntryPoint:!1,Events:[wi,_i,bi,ke,Te,cc]},nu={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),st=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(s(299));var n=!1,r="",i=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,qr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!$c(t))throw Error(s(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",a=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Bc(t,null,e,1,null!=n?n:null,i,0,o,a),e[pi]=t.current,qr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xc(t)},t.render=function(e,t,n){if(!$c(t))throw Error(s(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(s(40));return!!e._reactRootContainer&&(uc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$c(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return eu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},153:(e,t,n)=>{var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:a.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function w(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var _=w.prototype=new v;_.constructor=w,m(_,y.prototype),_.isPureReactComponent=!0;var b=Array.isArray,x=Object.prototype.hasOwnProperty,C={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,s={},o=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!E.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:a,props:s,_owner:C.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===s?"."+I(l,0):s,b(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(k(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",b(e))for(var c=0;c<e.length;c++){var u=s+I(a=e[c],c);l+=N(a,t,i,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=N(a=a.value,t,i,u=s+I(a,c++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function j(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},R={transition:null},L={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:R,ReactCurrentOwner:C};function D(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:j,forEach:function(e,t,n){j(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return j(e,(function(){t++})),t},toArray:function(e){return j(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=w,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.act=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=C.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)x.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:o,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=D,t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,n){return A.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,n){return A.current.useReducer(e,t,n)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return A.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return A.current.useTransition()},t.version="18.3.1"},43:(e,t,n)=>{e.exports=n(202)},579:(e,t,n)=>{e.exports=n(153)},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function _(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function b(e){if(g=!1,_(e),!m)if(null!==r(c))m=!0,R(x);else{var t=r(u);null!==t&&L(b,t.startTime-e)}}function x(e,n){m=!1,g&&(g=!1,v(k),k=-1),p=!0;var s=f;try{for(_(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!N());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===r(c)&&i(c),_(n)}else i(c);d=r(c)}if(null!==d)var l=!0;else{var h=r(u);null!==h&&L(b,h.startTime-n),l=!1}return l}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var C,E=!1,S=null,k=-1,T=5,I=-1;function N(){return!(t.unstable_now()-I<T)}function j(){if(null!==S){var e=t.unstable_now();I=e;var n=!0;try{n=S(!0,e)}finally{n?C():(E=!1,S=null)}}else E=!1}if("function"===typeof w)C=function(){w(j)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,A=P.port2;P.port1.onmessage=j,C=function(){A.postMessage(null)}}else C=function(){y(j,0)};function R(e){S=e,E||(E=!0,C())}function L(e,n){k=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,R(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(v(k),k=-1):g=!0,L(b,s-o))):(e.sortIndex=a,n(c,e),m||p||(m=!0,R(x))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},853:(e,t,n)=>{e.exports=n(234)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>o[e]=()=>r[e]));return o.default=()=>r,n.d(s,o),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/";var r,i=n(43),s=n.t(i,2),o=n(391),a=n(950),l=n.t(a,2);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const u="popstate";function h(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function d(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function f(e,t){return{usr:e.state,key:e.key,idx:t}}function p(e,t,n,r){return void 0===n&&(n=null),c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?g(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function m(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function g(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function y(e,t,n,i){void 0===i&&(i={});let{window:s=document.defaultView,v5Compat:o=!1}=i,a=s.history,l=r.Pop,d=null,g=y();function y(){return(a.state||{idx:null}).idx}function v(){l=r.Pop;let e=y(),t=null==e?null:e-g;g=e,d&&d({action:l,location:_.location,delta:t})}function w(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:m(e);return n=n.replace(/ $/,"%20"),h(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,a.replaceState(c({},a.state,{idx:g}),""));let _={get action(){return l},get location(){return e(s,a)},listen(e){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(u,v),d=e,()=>{s.removeEventListener(u,v),d=null}},createHref:e=>t(s,e),createURL:w,encodeLocation(e){let t=w(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=r.Push;let i=p(_.location,e,t);n&&n(i,e),g=y()+1;let c=f(i,g),u=_.createHref(i);try{a.pushState(c,"",u)}catch(l_){if(l_ instanceof DOMException&&"DataCloneError"===l_.name)throw l_;s.location.assign(u)}o&&d&&d({action:l,location:_.location,delta:1})},replace:function(e,t){l=r.Replace;let i=p(_.location,e,t);n&&n(i,e),g=y();let s=f(i,g),c=_.createHref(i);a.replaceState(s,"",c),o&&d&&d({action:l,location:_.location,delta:0})},go:e=>a.go(e)};return _}var v;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(v||(v={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function w(e,t,n){void 0===n&&(n="/");let r=R(("string"===typeof t?g(t):t).pathname||"/",n);if(null==r)return null;let i=_(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let s=null;for(let o=0;null==s&&o<i.length;++o){let e=A(r);s=j(i[o],e)}return s}function _(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let o={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(h(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let a=U([r,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(h(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),_(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:N(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of b(e.path))i(e,t,r);else i(e,t)})),t}function b(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let o=b(r.join("/")),a=[];return a.push(...o.map((e=>""===e?s:[s,e].join("/")))),i&&a.push(...o),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const x=/^:[\w-]+$/,C=3,E=2,S=1,k=10,T=-2,I=e=>"*"===e;function N(e,t){let n=e.split("/"),r=n.length;return n.some(I)&&(r+=T),t&&(r+=E),n.filter((e=>!I(e))).reduce(((e,t)=>e+(x.test(t)?C:""===t?S:k)),r)}function j(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let e=n[o],a=o===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:a},l);if(!c)return null;Object.assign(r,c.params);let u=e.route;s.push({params:r,pathname:U([i,c.pathname]),pathnameBase:F(U([i,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(i=U([i,c.pathnameBase]))}return s}function P(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);d("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:s,pathnameBase:o,pattern:e}}function A(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(l_){return d(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+l_+")."),e}}function R(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function L(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function D(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function O(e,t){let n=D(e);return t?n.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)):n.map((e=>e.pathnameBase))}function M(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=g(e):(i=c({},e),h(!i.pathname||!i.pathname.includes("?"),L("?","pathname","search",i)),h(!i.pathname||!i.pathname.includes("#"),L("#","pathname","hash",i)),h(!i.search||!i.search.includes("#"),L("#","search","hash",i)));let s,o=""===e||""===i.pathname,a=o?"/":i.pathname;if(null==a)s=n;else{let e=t.length-1;if(!r&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?g(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:V(r),hash:z(i)}}(i,s),u=a&&"/"!==a&&a.endsWith("/"),d=(o||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!d||(l.pathname+="/"),l}const U=e=>e.join("/").replace(/\/\/+/g,"/"),F=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),V=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",z=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function q(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const B=["post","put","patch","delete"],H=(new Set(B),["get",...B]);new Set(H),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W.apply(this,arguments)}const K=i.createContext(null);const Q=i.createContext(null);const G=i.createContext(null);const Y=i.createContext(null);const X=i.createContext({outlet:null,matches:[],isDataRoute:!1});const J=i.createContext(null);function $(){return null!=i.useContext(Y)}function Z(){return $()||h(!1),i.useContext(Y).location}function ee(e){i.useContext(G).static||i.useLayoutEffect(e)}function te(){let{isDataRoute:e}=i.useContext(X);return e?function(){let{router:e}=de(ue.UseNavigateStable),t=pe(he.UseNavigateStable),n=i.useRef(!1);return ee((()=>{n.current=!0})),i.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,W({fromRouteId:t},i)))}),[e,t])}():function(){$()||h(!1);let e=i.useContext(K),{basename:t,future:n,navigator:r}=i.useContext(G),{matches:s}=i.useContext(X),{pathname:o}=Z(),a=JSON.stringify(O(s,n.v7_relativeSplatPath)),l=i.useRef(!1);return ee((()=>{l.current=!0})),i.useCallback((function(n,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof n)return void r.go(n);let s=M(n,JSON.parse(a),o,"path"===i.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:U([t,s.pathname])),(i.replace?r.replace:r.push)(s,i.state,i)}),[t,r,a,o,e])}()}function ne(){let{matches:e}=i.useContext(X),t=e[e.length-1];return t?t.params:{}}function re(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=i.useContext(G),{matches:s}=i.useContext(X),{pathname:o}=Z(),a=JSON.stringify(O(s,r.v7_relativeSplatPath));return i.useMemo((()=>M(e,JSON.parse(a),o,"path"===n)),[e,a,o,n])}function ie(e,t,n,s){$()||h(!1);let{navigator:o}=i.useContext(G),{matches:a}=i.useContext(X),l=a[a.length-1],c=l?l.params:{},u=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let d,f=Z();if(t){var p;let e="string"===typeof t?g(t):t;"/"===u||(null==(p=e.pathname)?void 0:p.startsWith(u))||h(!1),d=e}else d=f;let m=d.pathname||"/",y=m;if("/"!==u){let e=u.replace(/^\//,"").split("/");y="/"+m.replace(/^\//,"").split("/").slice(e.length).join("/")}let v=w(e,{pathname:y});let _=ce(v&&v.map((e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:U([u,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:U([u,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,n,s);return t&&_?i.createElement(Y.Provider,{value:{location:W({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:r.Pop}},_):_}function se(){let e=function(){var e;let t=i.useContext(J),n=fe(he.UseRouteError),r=pe(he.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=q(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:s},n):null,null)}const oe=i.createElement(se,null);class ae extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(X.Provider,{value:this.props.routeContext},i.createElement(J.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function le(e){let{routeContext:t,match:n,children:r}=e,s=i.useContext(K);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(X.Provider,{value:t},r)}function ce(e,t,n,r){var s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var o;if(null==(o=n)||!o.errors)return null;e=n.matches}let a=e,l=null==(s=n)?void 0:s.errors;if(null!=l){let e=a.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||h(!1),a=a.slice(0,Math.min(a.length,e+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<a.length;i++){let e=a[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=i),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){c=!0,a=u>=0?a.slice(0,u+1):[a[0]];break}}}return a.reduceRight(((e,r,s)=>{let o,h=!1,d=null,f=null;var p;n&&(o=l&&r.route.id?l[r.route.id]:void 0,d=r.route.errorElement||oe,c&&(u<0&&0===s?(p="route-fallback",!1||me[p]||(me[p]=!0),h=!0,f=null):u===s&&(h=!0,f=r.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,s+1)),g=()=>{let t;return t=o?d:h?f:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(le,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===s)?i.createElement(ae,{location:n.location,revalidation:n.revalidation,component:d,error:o,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var ue=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ue||{}),he=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(he||{});function de(e){let t=i.useContext(K);return t||h(!1),t}function fe(e){let t=i.useContext(Q);return t||h(!1),t}function pe(e){let t=function(e){let t=i.useContext(X);return t||h(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||h(!1),n.route.id}const me={};s.startTransition;function ge(e){h(!1)}function ye(e){let{basename:t="/",children:n=null,location:s,navigationType:o=r.Pop,navigator:a,static:l=!1,future:c}=e;$()&&h(!1);let u=t.replace(/^\/*/,"/"),d=i.useMemo((()=>({basename:u,navigator:a,static:l,future:W({v7_relativeSplatPath:!1},c)})),[u,c,a,l]);"string"===typeof s&&(s=g(s));let{pathname:f="/",search:p="",hash:m="",state:y=null,key:v="default"}=s,w=i.useMemo((()=>{let e=R(f,u);return null==e?null:{location:{pathname:e,search:p,hash:m,state:y,key:v},navigationType:o}}),[u,f,p,m,y,v,o]);return null==w?null:i.createElement(G.Provider,{value:d},i.createElement(Y.Provider,{children:n,value:w}))}function ve(e){let{children:t,location:n}=e;return ie(we(t),n)}new Promise((()=>{}));i.Component;function we(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,((e,r)=>{if(!i.isValidElement(e))return;let s=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,we(e.props.children,s));e.type!==ge&&h(!1),e.props.index&&e.props.children&&h(!1);let o={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=we(e.props.children,s)),n.push(o)})),n}function _e(){return _e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_e.apply(this,arguments)}function be(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const xe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];try{window.__reactRouterVersion="6"}catch(kS){}new Map;const Ce=s.startTransition;l.flushSync,s.useId;function Ee(e){let{basename:t,children:n,future:r,window:s}=e,o=i.useRef();var a;null==o.current&&(o.current=(void 0===(a={window:s,v5Compat:!0})&&(a={}),y((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return p("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:m(t)}),null,a)));let l=o.current,[c,u]=i.useState({action:l.action,location:l.location}),{v7_startTransition:h}=r||{},d=i.useCallback((e=>{h&&Ce?Ce((()=>u(e))):u(e)}),[u,h]);return i.useLayoutEffect((()=>l.listen(d)),[l,d]),i.createElement(ye,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const Se="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,ke=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Te=i.forwardRef((function(e,t){let n,{onClick:r,relative:s,reloadDocument:o,replace:a,state:l,target:c,to:u,preventScrollReset:d,unstable_viewTransition:f}=e,p=be(e,xe),{basename:g}=i.useContext(G),y=!1;if("string"===typeof u&&ke.test(u)&&(n=u,Se))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=R(t.pathname,g);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:y=!0}catch(kS){}let v=function(e,t){let{relative:n}=void 0===t?{}:t;$()||h(!1);let{basename:r,navigator:s}=i.useContext(G),{hash:o,pathname:a,search:l}=re(e,{relative:n}),c=a;return"/"!==r&&(c="/"===a?r:U([r,a])),s.createHref({pathname:c,search:l,hash:o})}(u,{relative:s}),w=function(e,t){let{target:n,replace:r,state:s,preventScrollReset:o,relative:a,unstable_viewTransition:l}=void 0===t?{}:t,c=te(),u=Z(),h=re(e,{relative:a});return i.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:m(u)===m(h);c(e,{replace:n,state:s,preventScrollReset:o,relative:a,unstable_viewTransition:l})}}),[u,c,h,r,s,n,e,o,a,l])}(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:s,unstable_viewTransition:f});return i.createElement("a",_e({},p,{href:n||v,onClick:y||o?r:function(e){r&&r(e),e.defaultPrevented||w(e)},ref:t,target:c}))}));var Ie,Ne;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ie||(Ie={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ne||(Ne={}));var je={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Pe=i.createContext&&i.createContext(je),Ae=["attr","size","title"];function Re(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Le(){return Le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Le.apply(this,arguments)}function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){Me(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Me(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ue(e){return e&&e.map(((e,t)=>i.createElement(e.tag,Oe({key:t},e.attr),Ue(e.child))))}function Fe(e){return t=>i.createElement(Ve,Le({attr:Oe({},e.attr)},t),Ue(e.child))}function Ve(e){var t=t=>{var n,{attr:r,size:s,title:o}=e,a=Re(e,Ae),l=s||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),i.createElement("svg",Le({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,a,{className:n,style:Oe(Oe({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),o&&i.createElement("title",null,o),e.children)};return void 0!==Pe?i.createElement(Pe.Consumer,null,(e=>t(e))):t(je)}function ze(e){return Fe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M32 32v448h448V32zm240 348c0 43.61-25.76 64.87-63.05 64.87-33.68 0-53.23-17.44-63.15-38.49l34.28-20.75c6.61 11.73 11.63 21.65 26.06 21.65 12 0 21.86-5.41 21.86-26.46V240h44zm99.35 63.87c-39.09 0-64.35-17.64-76.68-42L329 382c9 14.74 20.75 24.56 41.5 24.56 17.44 0 27.57-7.72 27.57-19.75 0-14.43-10.43-19.54-29.68-28l-10.52-4.52c-30.38-12.92-50.52-29.16-50.52-63.45 0-31.57 24.05-54.63 61.64-54.63 26.77 0 46 8.32 59.85 32.68L396 290c-7.22-12.93-15-18-27.06-18-12.33 0-20.15 7.82-20.15 18 0 12.63 7.82 17.74 25.86 25.56l10.52 4.51c35.79 15.34 55.94 31 55.94 66.16.01 37.9-29.76 57.64-69.76 57.64z"},child:[]}]})(e)}function qe(e){return Fe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M440.08 341.31c-1.66-2-3.29-4-4.89-5.93-22-26.61-35.31-42.67-35.31-118 0-39-9.33-71-27.72-95-13.56-17.73-31.89-31.18-56.05-41.12a3 3 0 0 1-.82-.67C306.6 51.49 282.82 32 256 32s-50.59 19.49-59.28 48.56a3.13 3.13 0 0 1-.81.65c-56.38 23.21-83.78 67.74-83.78 136.14 0 75.36-13.29 91.42-35.31 118-1.6 1.93-3.23 3.89-4.89 5.93a35.16 35.16 0 0 0-4.65 37.62c6.17 13 19.32 21.07 34.33 21.07H410.5c14.94 0 28-8.06 34.19-21a35.17 35.17 0 0 0-4.61-37.66zM256 480a80.06 80.06 0 0 0 70.44-42.13 4 4 0 0 0-3.54-5.87H189.12a4 4 0 0 0-3.55 5.87A80.06 80.06 0 0 0 256 480z"},child:[]}]})(e)}function Be(e){return Fe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M456.69 421.39 362.6 327.3a173.81 173.81 0 0 0 34.84-104.58C397.44 126.38 319.06 48 222.72 48S48 126.38 48 222.72s78.38 174.72 174.72 174.72A173.81 173.81 0 0 0 327.3 362.6l94.09 94.09a25 25 0 0 0 35.3-35.3zM97.92 222.72a124.8 124.8 0 1 1 124.8 124.8 124.95 124.95 0 0 1-124.8-124.8z"},child:[]}]})(e)}function He(e){return Fe({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M333.5,201.4c0-22.1-15.6-34.3-43-34.3h-50.4v71.2h42.5C315.4,238.2,333.5,225,333.5,201.4z M517,188.6 c-9.5-30.9-10.9-68.8-9.8-98.1c1.1-30.5-22.7-58.5-54.7-58.5H123.7c-32.1,0-55.8,28.1-54.7,58.5c1,29.3-0.3,67.2-9.8,98.1 c-9.6,31-25.7,50.6-52.2,53.1v28.5c26.4,2.5,42.6,22.1,52.2,53.1c9.5,30.9,10.9,68.8,9.8,98.1c-1.1,30.5,22.7,58.5,54.7,58.5h328.7 c32.1,0,55.8-28.1,54.7-58.5c-1-29.3,0.3-67.2,9.8-98.1c9.6-31,25.7-50.6,52.1-53.1v-28.5C542.7,239.2,526.5,219.6,517,188.6z M300.2,375.1h-97.9V136.8h97.4c43.3,0,71.7,23.4,71.7,59.4c0,25.3-19.1,47.9-43.5,51.8v1.3c33.2,3.6,55.5,26.6,55.5,58.3 C383.4,349.7,352.1,375.1,300.2,375.1z M290.2,266.4h-50.1v78.4h52.3c34.2,0,52.3-13.7,52.3-39.5 C344.7,279.6,326.1,266.4,290.2,266.4z"},child:[]}]})(e)}function We(e){return Fe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M480 32l-64 368-223.3 80L0 400l19.6-94.8h82l-8 40.6L210 390.2l134.1-44.4 18.8-97.1H29.5l16-82h333.7l10.5-52.7H56.3l16.3-82H480z"},child:[]}]})(e)}function Ke(e){return Fe({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M0 32l34.9 395.8L191.5 480l157.6-52.2L384 32H0zm308.2 127.9H124.4l4.1 49.4h175.6l-13.6 148.4-97.9 27v.3h-1.1l-98.7-27.3-6-75.8h47.7L138 320l53.5 14.5 53.7-14.5 6-62.2H84.3L71.5 112.2h241.1l-4.4 47.7z"},child:[]}]})(e)}function Qe(e){return Fe({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 104.5c171.4 0 303.2 72.2 303.2 151.5S491.3 407.5 320 407.5c-171.4 0-303.2-72.2-303.2-151.5S148.7 104.5 320 104.5m0-16.8C143.3 87.7 0 163 0 256s143.3 168.3 320 168.3S640 349 640 256 496.7 87.7 320 87.7zM218.2 242.5c-7.9 40.5-35.8 36.3-70.1 36.3l13.7-70.6c38 0 63.8-4.1 56.4 34.3zM97.4 350.3h36.7l8.7-44.8c41.1 0 66.6 3 90.2-19.1 26.1-24 32.9-66.7 14.3-88.1-9.7-11.2-25.3-16.7-46.5-16.7h-70.7L97.4 350.3zm185.7-213.6h36.5l-8.7 44.8c31.5 0 60.7-2.3 74.8 10.7 14.8 13.6 7.7 31-8.3 113.1h-37c15.4-79.4 18.3-86 12.7-92-5.4-5.8-17.7-4.6-47.4-4.6l-18.8 96.6h-36.5l32.7-168.6zM505 242.5c-8 41.1-36.7 36.3-70.1 36.3l13.7-70.6c38.2 0 63.8-4.1 56.4 34.3zM384.2 350.3H421l8.7-44.8c43.2 0 67.1 2.5 90.2-19.1 26.1-24 32.9-66.7 14.3-88.1-9.7-11.2-25.3-16.7-46.5-16.7H417l-32.8 168.7z"},child:[]}]})(e)}function Ge(e){return Fe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M418.2 177.2c-5.4-1.8-10.8-3.5-16.2-5.1.9-3.7 1.7-7.4 2.5-11.1 12.3-59.6 4.2-107.5-23.1-123.3-26.3-15.1-69.2.6-112.6 38.4-4.3 3.7-8.5 7.6-12.5 11.5-2.7-2.6-5.5-5.2-8.3-7.7-45.5-40.4-91.1-57.4-118.4-41.5-26.2 15.2-34 60.3-23 116.7 1.1 5.6 2.3 11.1 3.7 16.7-6.4 1.8-12.7 3.8-18.6 5.9C38.3 196.2 0 225.4 0 255.6c0 31.2 40.8 62.5 96.3 81.5 4.5 1.5 9 3 13.6 4.3-1.5 6-2.8 11.9-4 18-10.5 55.5-2.3 99.5 23.9 114.6 27 15.6 72.4-.4 116.6-39.1 3.5-3.1 7-6.3 10.5-9.7 4.4 4.3 9 8.4 13.6 12.4 42.8 36.8 85.1 51.7 111.2 36.6 27-15.6 35.8-62.9 24.4-120.5-.9-4.4-1.9-8.9-3-13.5 3.2-.9 6.3-1.9 9.4-2.9 57.7-19.1 99.5-50 99.5-81.7 0-30.3-39.4-59.7-93.8-78.4zM282.9 92.3c37.2-32.4 71.9-45.1 87.7-36 16.9 9.7 23.4 48.9 12.8 100.4-.7 3.4-1.4 6.7-2.3 10-22.2-5-44.7-8.6-67.3-10.6-13-18.6-27.2-36.4-42.6-53.1 3.9-3.7 7.7-7.2 11.7-10.7zM167.2 307.5c5.1 8.7 10.3 17.4 15.8 25.9-15.6-1.7-31.1-4.2-46.4-7.5 4.4-14.4 9.9-29.3 16.3-44.5 4.6 8.8 9.3 17.5 14.3 26.1zm-30.3-120.3c14.4-3.2 29.7-5.8 45.6-7.8-5.3 8.3-10.5 16.8-15.4 25.4-4.9 8.5-9.7 17.2-14.2 26-6.3-14.9-11.6-29.5-16-43.6zm27.4 68.9c6.6-13.8 13.8-27.3 21.4-40.6s15.8-26.2 24.4-38.9c15-1.1 30.3-1.7 45.9-1.7s31 .6 45.9 1.7c8.5 12.6 16.6 25.5 24.3 38.7s14.9 26.7 21.7 40.4c-6.7 13.8-13.9 27.4-21.6 40.8-7.6 13.3-15.7 26.2-24.2 39-14.9 1.1-30.4 1.6-46.1 1.6s-30.9-.5-45.6-1.4c-8.7-12.7-16.9-25.7-24.6-39s-14.8-26.8-21.5-40.6zm180.6 51.2c5.1-8.8 9.9-17.7 14.6-26.7 6.4 14.5 12 29.2 16.9 44.3-15.5 3.5-31.2 6.2-47 8 5.4-8.4 10.5-17 15.5-25.6zm14.4-76.5c-4.7-8.8-9.5-17.6-14.5-26.2-4.9-8.5-10-16.9-15.3-25.2 16.1 2 31.5 4.7 45.9 8-4.6 14.8-10 29.2-16.1 43.4zM256.2 118.3c10.5 11.4 20.4 23.4 29.6 35.8-19.8-.9-39.7-.9-59.5 0 9.8-12.9 19.9-24.9 29.9-35.8zM140.2 57c16.8-9.8 54.1 4.2 93.4 39 2.5 2.2 5 4.6 7.6 7-15.5 16.7-29.8 34.5-42.9 53.1-22.6 2-45 5.5-67.2 10.4-1.3-5.1-2.4-10.3-3.5-15.5-9.4-48.4-3.2-84.9 12.6-94zm-24.5 263.6c-4.2-1.2-8.3-2.5-12.4-3.9-21.3-6.7-45.5-17.3-63-31.2-10.1-7-16.9-17.8-18.8-29.9 0-18.3 31.6-41.7 77.2-57.6 5.7-2 11.5-3.8 17.3-5.5 6.8 21.7 15 43 24.5 63.6-9.6 20.9-17.9 42.5-24.8 64.5zm116.6 98c-16.5 15.1-35.6 27.1-56.4 35.3-11.1 5.3-23.9 5.8-35.3 1.3-15.9-9.2-22.5-44.5-13.5-92 1.1-5.6 2.3-11.2 3.7-16.7 22.4 4.8 45 8.1 67.9 9.8 13.2 18.7 27.7 36.6 43.2 53.4-3.2 3.1-6.4 6.1-9.6 8.9zm24.5-24.3c-10.2-11-20.4-23.2-30.3-36.3 9.6.4 19.5.6 29.5.6 10.3 0 20.4-.2 30.4-.7-9.2 12.7-19.1 24.8-29.6 36.4zm130.7 30c-.9 12.2-6.9 23.6-16.5 31.3-15.9 9.2-49.8-2.8-86.4-34.2-4.2-3.6-8.4-7.5-12.7-11.5 15.3-16.9 29.4-34.8 42.2-53.6 22.9-1.9 45.7-5.4 68.2-10.5 1 4.1 1.9 8.2 2.7 12.2 4.9 21.6 5.7 44.1 2.5 66.3zm18.2-107.5c-2.8.9-5.6 1.8-8.5 2.6-7-21.8-15.6-43.1-25.5-63.8 9.6-20.4 17.7-41.4 24.5-62.9 5.2 1.5 10.2 3.1 15 4.7 46.6 16 79.3 39.8 79.3 58 0 19.6-34.9 44.9-84.8 61.4zm-149.7-15c25.3 0 45.8-20.5 45.8-45.8s-20.5-45.8-45.8-45.8c-25.3 0-45.8 20.5-45.8 45.8s20.5 45.8 45.8 45.8z"},child:[]}]})(e)}function Ye(e){return Fe({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(e)}function Xe(e){return Fe({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M0 512V48C0 21.49 21.49 0 48 0h288c26.51 0 48 21.49 48 48v464L192 400 0 512z"},child:[]}]})(e)}function Je(e){return Fe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M320 336c0 8.84-7.16 16-16 16h-96c-8.84 0-16-7.16-16-16v-48H0v144c0 25.6 22.4 48 48 48h416c25.6 0 48-22.4 48-48V288H320v48zm144-208h-80V80c0-25.6-22.4-48-48-48H176c-25.6 0-48 22.4-48 48v48H48c-25.6 0-48 22.4-48 48v80h512v-80c0-25.6-22.4-48-48-48zm-144 0H192V96h128v32z"},child:[]}]})(e)}function $e(e){return Fe({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm436-44v-36c0-26.5-21.5-48-48-48h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v36c0 6.6 5.4 12 12 12h424c6.6 0 12-5.4 12-12z"},child:[]}]})(e)}function Ze(e){return Fe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"},child:[]}]})(e)}function et(e){return Fe({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 64h448v352h64V40c0-22.06-17.94-40-40-40H72C49.94 0 32 17.94 32 40v376h64V64zm528 384H480v-64H288v64H16c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h608c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(e)}function tt(e){return Fe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(e)}function nt(e){return Fe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(e)}function rt(e){return Fe({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"},child:[]}]})(e)}function it(e){return Fe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(e)}function st(e){return Fe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32z"},child:[]}]})(e)}function ot(e){return Fe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm80 248c0 44.112-35.888 80-80 80s-80-35.888-80-80 35.888-80 80-80 80 35.888 80 80z"},child:[]}]})(e)}function at(e){return Fe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(e)}function lt(e){return Fe({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.34 153.2L343.4 67.5c-15.2-4.67-31.6-4.67-46.79 0L17.66 153.2c-23.54 7.23-23.54 38.36 0 45.59l48.63 14.94c-10.67 13.19-17.23 29.28-17.88 46.9C38.78 266.15 32 276.11 32 288c0 10.78 5.68 19.85 13.86 25.65L20.33 428.53C18.11 438.52 25.71 448 35.94 448h56.11c10.24 0 17.84-9.48 15.62-19.47L82.14 313.65C90.32 307.85 96 298.78 96 288c0-11.57-6.47-21.25-15.66-26.87.76-15.02 8.44-28.3 20.69-36.72L296.6 284.5c9.06 2.78 26.44 6.25 46.79 0l278.95-85.7c23.55-7.24 23.55-38.36 0-45.6zM352.79 315.09c-28.53 8.76-52.84 3.92-65.59 0l-145.02-44.55L128 384c0 35.35 85.96 64 192 64s192-28.65 192-64l-14.18-113.47-145.03 44.56z"},child:[]}]})(e)}function ct(e){return Fe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M192 208c0-17.67-14.33-32-32-32h-16c-35.35 0-64 28.65-64 64v48c0 35.35 28.65 64 64 64h16c17.67 0 32-14.33 32-32V208zm176 144c35.35 0 64-28.65 64-64v-48c0-35.35-28.65-64-64-64h-16c-17.67 0-32 14.33-32 32v112c0 17.67 14.33 32 32 32h16zM256 0C113.18 0 4.58 118.83 0 256v16c0 8.84 7.16 16 16 16h16c8.84 0 16-7.16 16-16v-16c0-114.69 93.31-208 208-208s208 93.31 208 208h-.12c.08 2.43.12 165.72.12 165.72 0 23.35-18.93 42.28-42.28 42.28H320c0-26.51-21.49-48-48-48h-32c-26.51 0-48 21.49-48 48s21.49 48 48 48h181.72c49.86 0 90.28-40.42 90.28-90.28V256C507.42 118.83 398.82 0 256 0z"},child:[]}]})(e)}function ut(e){return Fe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(e)}function ht(e){return Fe({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(e)}function dt(e){return Fe({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M152.1 236.2c-3.5-12.1-7.8-33.2-7.8-33.2h-.5s-4.3 21.1-7.8 33.2l-11.1 37.5H163zM616 96H336v320h280c13.3 0 24-10.7 24-24V120c0-13.3-10.7-24-24-24zm-24 120c0 6.6-5.4 12-12 12h-11.4c-6.9 23.6-21.7 47.4-42.7 69.9 8.4 6.4 17.1 12.5 26.1 18 5.5 3.4 7.3 10.5 4.1 16.2l-7.9 13.9c-3.4 5.9-10.9 7.8-16.7 4.3-12.6-7.8-24.5-16.1-35.4-24.9-10.9 8.7-22.7 17.1-35.4 24.9-5.8 3.5-13.3 1.6-16.7-4.3l-7.9-13.9c-3.2-5.6-1.4-12.8 4.2-16.2 9.3-5.7 18-11.7 26.1-18-7.9-8.4-14.9-17-21-25.7-4-5.7-2.2-13.6 3.7-17.1l6.5-3.9 7.3-4.3c5.4-3.2 12.4-1.7 16 3.4 5 7 10.8 14 17.4 20.9 13.5-14.2 23.8-28.9 30-43.2H412c-6.6 0-12-5.4-12-12v-16c0-6.6 5.4-12 12-12h64v-16c0-6.6 5.4-12 12-12h16c6.6 0 12 5.4 12 12v16h64c6.6 0 12 5.4 12 12zM0 120v272c0 13.3 10.7 24 24 24h280V96H24c-13.3 0-24 10.7-24 24zm58.9 216.1L116.4 167c1.7-4.9 6.2-8.1 11.4-8.1h32.5c5.1 0 9.7 3.3 11.4 8.1l57.5 169.1c2.6 7.8-3.1 15.9-11.4 15.9h-22.9a12 12 0 0 1-11.5-8.6l-9.4-31.9h-60.2l-9.1 31.8c-1.5 5.1-6.2 8.7-11.5 8.7H70.3c-8.2 0-14-8.1-11.4-15.9z"},child:[]}]})(e)}function ft(e){return Fe({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(e)}function pt(e){return Fe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"},child:[]}]})(e)}function mt(e){return Fe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M470.38 1.51L150.41 96A32 32 0 0 0 128 126.51v261.41A139 139 0 0 0 96 384c-53 0-96 28.66-96 64s43 64 96 64 96-28.66 96-64V214.32l256-75v184.61a138.4 138.4 0 0 0-32-3.93c-53 0-96 28.66-96 64s43 64 96 64 96-28.65 96-64V32a32 32 0 0 0-41.62-30.49z"},child:[]}]})(e)}function gt(e){return Fe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"},child:[]}]})(e)}function yt(e){return Fe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(e)}function vt(e){return Fe({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(e)}function wt(e){return Fe({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M202.021 0C122.202 0 70.503 32.703 29.914 91.026c-7.363 10.58-5.093 25.086 5.178 32.874l43.138 32.709c10.373 7.865 25.132 6.026 33.253-4.148 25.049-31.381 43.63-49.449 82.757-49.449 30.764 0 68.816 19.799 68.816 49.631 0 22.552-18.617 34.134-48.993 51.164-35.423 19.86-82.299 44.576-82.299 106.405V320c0 13.255 10.745 24 24 24h72.471c13.255 0 24-10.745 24-24v-5.773c0-42.86 125.268-44.645 125.268-160.627C377.504 66.256 286.902 0 202.021 0zM192 373.459c-38.196 0-69.271 31.075-69.271 69.271 0 38.195 31.075 69.27 69.271 69.27s69.271-31.075 69.271-69.271-31.075-69.27-69.271-69.27z"},child:[]}]})(e)}function _t(e){return Fe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}function bt(e){return Fe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"},child:[]}]})(e)}function xt(e){return Fe({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function Ct(e){return Fe({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M319.4 320.6L224 416l-95.4-95.4C57.1 323.7 0 382.2 0 454.4v9.6c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-9.6c0-72.2-57.1-130.7-128.6-133.8zM13.6 79.8l6.4 1.5v58.4c-7 4.2-12 11.5-12 20.3 0 8.4 4.6 15.4 11.1 19.7L3.5 242c-1.7 6.9 2.1 14 7.6 14h41.8c5.5 0 9.3-7.1 7.6-14l-15.6-62.3C51.4 175.4 56 168.4 56 160c0-8.8-5-16.1-12-20.3V87.1l66 15.9c-8.6 17.2-14 36.4-14 57 0 70.7 57.3 128 128 128s128-57.3 128-128c0-20.6-5.3-39.8-14-57l96.3-23.2c18.2-4.4 18.2-27.1 0-31.5l-190.4-46c-13-3.1-26.7-3.1-39.7 0L13.6 48.2c-18.1 4.4-18.1 27.2 0 31.6z"},child:[]}]})(e)}function Et(e){return Fe({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function St(e){return Fe({tag:"svg",attr:{viewBox:"0 0 480 512"},child:[{tag:"path",attr:{d:"M477.7 186.1L309.5 18.3c-3.1-3.1-8.2-3.1-11.3 0l-34 33.9c-3.1 3.1-3.1 8.2 0 11.3l11.2 11.1L33 316.5c-38.8 38.7-45.1 102-9.4 143.5 20.6 24 49.5 36 78.4 35.9 26.4 0 52.8-10 72.9-30.1l246.3-245.7 11.2 11.1c3.1 3.1 8.2 3.1 11.3 0l34-33.9c3.1-3 3.1-8.1 0-11.2zM318 256H161l148-147.7 78.5 78.3L318 256z"},child:[]}]})(e)}function kt(e){return Fe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M208 448V320h96v128h97.6V256H464L256 64 48 256h62.4v192z"},child:[]}]})(e)}const Tt=!1,It=!1,Nt="${JSCORE_VERSION}",jt=function(e,t){if(!e)throw Pt(t)},Pt=function(e){return new Error("Firebase Database ("+Nt+") INTERNAL ASSERT FAILED: "+e)},At=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Rt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let h=(15&o)<<2|l>>6,d=63&l;a||(d=64,s||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(At(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw new Lt;const l=t<<2|s>>4;if(r.push(l),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Lt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Dt=function(e){const t=At(e);return Rt.encodeByteArray(t,!0)},Ot=function(e){return Dt(e).replace(/\./g,"")},Mt=function(e){try{return Rt.decodeString(e,!0)}catch(kS){console.error("base64Decode failed: ",kS)}return null};function Ut(e){return Ft(void 0,e)}function Ft(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Ft(e[n],t[n]));return e}const Vt=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,zt=()=>{try{return Vt()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(kS){return}const t=e&&Mt(e[1]);return t&&JSON.parse(t)})()}catch(kS){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(kS))}},qt=e=>{var t,n;return null===(n=null===(t=zt())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Bt=e=>{const t=qt(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Ht=()=>{var e;return null===(e=zt())||void 0===e?void 0:e.config},Wt=e=>{var t;return null===(t=zt())||void 0===t?void 0:t["_".concat(e)]};class Kt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Qt(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ot(JSON.stringify({alg:"none",type:"JWT"})),Ot(JSON.stringify(s)),""].join(".")}function Gt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Yt(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gt())}function Xt(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Jt(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function $t(){return!0===Tt||!0===It}function Zt(){return!function(){var e;const t=null===(e=zt())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(kS){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function en(){try{return"object"===typeof indexedDB}catch(kS){return!1}}function tn(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(l_){t(l_)}}))}class nn extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,nn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rn.prototype.create)}}class rn{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(sn,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new nn(n,s,t)}}const sn=/\{\$([^}]+)}/g;function on(e){return JSON.parse(e)}function an(e){return JSON.stringify(e)}const ln=function(e){let t={},n={},r={},i="";try{const s=e.split(".");t=on(Mt(s[0])||""),n=on(Mt(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch(kS){}return{header:t,claims:n,data:r,signature:i}};function cn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function un(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function hn(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function dn(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function fn(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(pn(n)&&pn(s)){if(!fn(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function pn(e){return null!==e&&"object"===typeof e}function mn(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function gn(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function yn(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class vn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"===typeof e)for(let u=0;u<16;u++)n[u]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let u=0;u<16;u++)n[u]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let u=16;u<80;u++){const e=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=4294967295&(e<<1|e>>>31)}let r,i,s=this.chain_[0],o=this.chain_[1],a=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let u=0;u<80;u++){u<40?u<20?(r=l^o&(a^l),i=1518500249):(r=o^a^l,i=1859775393):u<60?(r=o&a|l&(o|a),i=2400959708):(r=o^a^l,i=3395469782);const e=(s<<5|s>>>27)+r+c+i+n[u]&4294967295;c=l,l=a,a=4294967295&(o<<30|o>>>2),o=s,s=e}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let s=this.inbuf_;for(;r<t;){if(0===s)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[s]=e.charCodeAt(r),++s,++r,s===this.blockSize){this.compress_(i),s=0;break}}else for(;r<t;)if(i[s]=e[r],++s,++r,s===this.blockSize){this.compress_(i),s=0;break}}this.inbuf_=s,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[r]>>t&255,++n;return e}}class wn{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=_n),void 0===r.error&&(r.error=_n),void 0===r.complete&&(r.complete=_n);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(kS){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(kS){"undefined"!==typeof console&&console.error&&console.error(kS)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function _n(){}function bn(e,t){return"".concat(e," failed: ").concat(t," argument ")}const xn=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},Cn=1e3,En=2,Sn=144e5,kn=.5;function Tn(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:En;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Cn)*Math.pow(t,e),r=Math.round(kn*n*(Math.random()-.5)*2);return Math.min(Sn,n+r)}function In(e){return e&&e._delegate?e._delegate:e}class Nn{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const jn="[DEFAULT]";class Pn{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Kt;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(kS){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(kS){if(r)return null;throw kS}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:jn})}catch(kS){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(kS){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jn;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jn;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===jn?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jn;return this.component?this.component.multipleInstances?e:jn:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class An{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Pn(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Rn=[];var Ln;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Ln||(Ln={}));const Dn={debug:Ln.DEBUG,verbose:Ln.VERBOSE,info:Ln.INFO,warn:Ln.WARN,error:Ln.ERROR,silent:Ln.SILENT},On=Ln.INFO,Mn={[Ln.DEBUG]:"log",[Ln.VERBOSE]:"log",[Ln.INFO]:"info",[Ln.WARN]:"warn",[Ln.ERROR]:"error"},Un=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Mn[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class Fn{constructor(e){this.name=e,this._logLevel=On,this._logHandler=Un,this._userLogHandler=null,Rn.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ln))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Dn[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ln.DEBUG,...t),this._logHandler(this,Ln.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ln.VERBOSE,...t),this._logHandler(this,Ln.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ln.INFO,...t),this._logHandler(this,Ln.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ln.WARN,...t),this._logHandler(this,Ln.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ln.ERROR,...t),this._logHandler(this,Ln.ERROR,...t)}}const Vn=(e,t)=>t.some((t=>e instanceof t));let zn,qn;const Bn=new WeakMap,Hn=new WeakMap,Wn=new WeakMap,Kn=new WeakMap,Qn=new WeakMap;let Gn={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Hn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Wn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Jn(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Yn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(qn||(qn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply($n(this),n),Jn(Bn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Jn(e.apply($n(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call($n(this),t,...r);return Wn.set(s,t.sort?t.sort():[t]),Jn(s)}}function Xn(e){return"function"===typeof e?Yn(e):(e instanceof IDBTransaction&&function(e){if(Hn.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));Hn.set(e,t)}(e),Vn(e,zn||(zn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Gn):e)}function Jn(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(Jn(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&Bn.set(t,e)})).catch((()=>{})),Qn.set(t,e),t}(e);if(Kn.has(e))return Kn.get(e);const t=Xn(e);return t!==e&&(Kn.set(e,t),Qn.set(t,e)),t}const $n=e=>Qn.get(e);function Zn(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=Jn(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(Jn(o.result),e.oldVersion,e.newVersion,Jn(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}const er=["get","getKey","getAll","getAllKeys","count"],tr=["put","add","delete","clear"],nr=new Map;function rr(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(nr.get(t))return nr.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=tr.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!er.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&t.done]))[0]};return nr.set(t,s),s}Gn=(e=>({...e,get:(t,n,r)=>rr(t,n)||e.get(t,n,r),has:(t,n)=>!!rr(t,n)||e.has(t,n)}))(Gn);class ir{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const sr="@firebase/app",or="0.10.5",ar=new Fn("@firebase/app"),lr="@firebase/app-compat",cr="@firebase/analytics-compat",ur="@firebase/analytics",hr="@firebase/app-check-compat",dr="@firebase/app-check",fr="@firebase/auth",pr="@firebase/auth-compat",mr="@firebase/database",gr="@firebase/database-compat",yr="@firebase/functions",vr="@firebase/functions-compat",wr="@firebase/installations",_r="@firebase/installations-compat",br="@firebase/messaging",xr="@firebase/messaging-compat",Cr="@firebase/performance",Er="@firebase/performance-compat",Sr="@firebase/remote-config",kr="@firebase/remote-config-compat",Tr="@firebase/storage",Ir="@firebase/storage-compat",Nr="@firebase/firestore",jr="@firebase/vertexai-preview",Pr="@firebase/firestore-compat",Ar="firebase",Rr="[DEFAULT]",Lr={[sr]:"fire-core",[lr]:"fire-core-compat",[ur]:"fire-analytics",[cr]:"fire-analytics-compat",[dr]:"fire-app-check",[hr]:"fire-app-check-compat",[fr]:"fire-auth",[pr]:"fire-auth-compat",[mr]:"fire-rtdb",[gr]:"fire-rtdb-compat",[yr]:"fire-fn",[vr]:"fire-fn-compat",[wr]:"fire-iid",[_r]:"fire-iid-compat",[br]:"fire-fcm",[xr]:"fire-fcm-compat",[Cr]:"fire-perf",[Er]:"fire-perf-compat",[Sr]:"fire-rc",[kr]:"fire-rc-compat",[Tr]:"fire-gcs",[Ir]:"fire-gcs-compat",[Nr]:"fire-fst",[Pr]:"fire-fst-compat",[jr]:"fire-vertex","fire-js":"fire-js",[Ar]:"fire-js-all"},Dr=new Map,Or=new Map,Mr=new Map;function Ur(e,t){try{e.container.addComponent(t)}catch(kS){ar.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),kS)}}function Fr(e){const t=e.name;if(Mr.has(t))return ar.debug("There were multiple attempts to register component ".concat(t,".")),!1;Mr.set(t,e);for(const n of Dr.values())Ur(n,e);for(const n of Or.values())Ur(n,e);return!0}function Vr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function zr(e){return void 0!==e.settings}const qr=new rn("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Br{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Nn("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qr.create("app-deleted",{appName:this._name})}}const Hr="10.12.2";function Wr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Rr,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw qr.create("bad-app-name",{appName:String(i)});if(n||(n=Ht()),!n)throw qr.create("no-options");const s=Dr.get(i);if(s){if(fn(n,s.options)&&fn(r,s.config))return s;throw qr.create("duplicate-app",{appName:i})}const o=new An(i);for(const l of Mr.values())o.addComponent(l);const a=new Br(n,r,o);return Dr.set(i,a),a}function Kr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rr;const t=Dr.get(e);if(!t&&e===Rr&&Ht())return Wr();if(!t)throw qr.create("no-app",{appName:e});return t}function Qr(e,t,n){var r;let i=null!==(r=Lr[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void ar.warn(e.join(" "))}Fr(new Nn("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}const Gr="firebase-heartbeat-database",Yr=1,Xr="firebase-heartbeat-store";let Jr=null;function $r(){return Jr||(Jr=Zn(Gr,Yr,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Xr)}catch(kS){console.warn(kS)}}}).catch((e=>{throw qr.create("idb-open",{originalErrorMessage:e.message})}))),Jr}async function Zr(e,t){try{const n=(await $r()).transaction(Xr,"readwrite"),r=n.objectStore(Xr);await r.put(t,ei(e)),await n.done}catch(kS){if(kS instanceof nn)ar.warn(kS.message);else{const t=qr.create("idb-set",{originalErrorMessage:null===kS||void 0===kS?void 0:kS.message});ar.warn(t.message)}}}function ei(e){return"".concat(e.name,"!").concat(e.options.appId)}class ti{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ri(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ni();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=ni(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),ii(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ii(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Ot(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function ni(){return(new Date).toISOString().substring(0,10)}class ri{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!en()&&tn().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await $r()).transaction(Xr),n=await t.objectStore(Xr).get(ei(e));return await t.done,n}catch(kS){if(kS instanceof nn)ar.warn(kS.message);else{const t=qr.create("idb-get",{originalErrorMessage:null===kS||void 0===kS?void 0:kS.message});ar.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Zr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Zr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function ii(e){return Ot(JSON.stringify({version:2,heartbeats:e})).length}var si;si="",Fr(new Nn("platform-logger",(e=>new ir(e)),"PRIVATE")),Fr(new Nn("heartbeat",(e=>new ti(e)),"PRIVATE")),Qr(sr,or,si),Qr(sr,or,"esm2017"),Qr("fire-js","");function oi(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function ai(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const li=ai,ci=new rn("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ui=new Fn("@firebase/auth");function hi(e){if(ui.logLevel<=Ln.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];ui.error("Auth (".concat(Hr,"): ").concat(e),...n)}}function di(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw gi(e,...n)}function fi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return gi(e,...n)}function pi(e,t,n){const r=Object.assign(Object.assign({},li()),{[t]:n});return new rn("auth","Firebase",r).create(t,{appName:e.name})}function mi(e){return pi(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return ci.create(e,...n)}function yi(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw gi(t,...r)}}function vi(e){const t="INTERNAL ASSERTION FAILED: "+e;throw hi(t),new Error(t)}function wi(e,t){e||vi(t)}function _i(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function bi(){return"http:"===xi()||"https:"===xi()}function xi(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class Ci{constructor(e,t){this.shortDelay=e,this.longDelay=t,wi(t>e,"Short delay should be less than long delay!"),this.isMobile=Yt()||Jt()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(bi()||Xt()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Ei(e,t){wi(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Si{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void vi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void vi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void vi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ki={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ti=new Ci(3e4,6e4);function Ii(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Ni(e,t,n,r){return ji(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const o=mn(Object.assign({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),Si.fetch()(Ai(e,e.config.apiHost,n,o),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function ji(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},ki),t);try{const t=new Li(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Di(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Di(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Di(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw Di(e,"user-disabled",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw pi(e,a,o);di(e,a)}}catch(kS){if(kS instanceof nn)throw kS;di(e,"network-request-failed",{message:String(kS)})}}async function Pi(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await Ni(e,t,n,r,i);return"mfaPendingCredential"in s&&di(e,"multi-factor-auth-required",{_serverResponse:s}),s}function Ai(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Ei(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function Ri(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Li{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(fi(this.auth,"network-request-failed"))),Ti.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function Di(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=fi(e,t,r);return i.customData._tokenResponse=n,i}function Oi(e){return void 0!==e&&void 0!==e.enterprise}class Mi{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Ri(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function Ui(e,t){return Ni(e,"GET","/v2/recaptchaConfig",Ii(e,t))}async function Fi(e,t){return Ni(e,"POST","/v1/accounts:lookup",t)}function Vi(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(kS){}}function zi(e){return 1e3*Number(e)}function qi(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return hi("JWT malformed, contained fewer than 3 sections"),null;try{const e=Mt(n);return e?JSON.parse(e):(hi("Failed to decode base64 JWT payload"),null)}catch(kS){return hi("Caught error parsing JWT payload as JSON",null===kS||void 0===kS?void 0:kS.toString()),null}}function Bi(e){const t=qi(e);return yi(t,"internal-error"),yi("undefined"!==typeof t.exp,"internal-error"),yi("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Hi(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(kS){throw kS instanceof nn&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(kS)&&e.auth.currentUser===e&&await e.auth.signOut(),kS}}class Wi{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(kS){return void((null===kS||void 0===kS?void 0:kS.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Ki{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vi(this.lastLoginAt),this.creationTime=Vi(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Qi(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Hi(e,Fi(n,{idToken:r}));yi(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?Gi(s.providerUserInfo):[],a=(l=e.providerData,c=o,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),d=!!u&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Ki(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,f)}function Gi(e){return e.map((e=>{var{providerId:t}=e,n=oi(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class Yi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){yi(e.idToken,"internal-error"),yi("undefined"!==typeof e.idToken,"internal-error"),yi("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Bi(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){yi(0!==e.length,"internal-error");const t=Bi(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(yi(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await ji(e,{},(async()=>{const n=mn({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=Ai(e,r,"/v1/token","key=".concat(i)),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",Si.fetch()(s,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new Yi;return n&&(yi("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(yi("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(yi("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Yi,this.toJSON())}_performRefresh(){return vi("not implemented")}}function Xi(e,t){yi("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Ji{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=oi(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Wi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Ki(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Hi(this,this.stsTokenManager.getToken(this.auth,e));return yi(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=In(e),r=await n.getIdToken(t),i=qi(r);yi(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Vi(zi(i.auth_time)),issuedAtTime:Vi(zi(i.iat)),expirationTime:Vi(zi(i.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=In(e);await Qi(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(yi(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ji(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){yi(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Qi(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zr(this.auth.app))return Promise.reject(mi(this.auth));const e=await this.getIdToken();return await Hi(this,async function(e,t){return Ni(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:w,isAnonymous:_,providerData:b,stsTokenManager:x}=t;yi(v&&x,e,"internal-error");const C=Yi.fromJSON(this.name,x);yi("string"===typeof v,e,"internal-error"),Xi(u,e.name),Xi(h,e.name),yi("boolean"===typeof w,e,"internal-error"),yi("boolean"===typeof _,e,"internal-error"),Xi(d,e.name),Xi(f,e.name),Xi(p,e.name),Xi(m,e.name),Xi(g,e.name),Xi(y,e.name);const E=new Ji({uid:v,auth:e,email:h,emailVerified:w,displayName:u,isAnonymous:_,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:C,createdAt:g,lastLoginAt:y});return b&&Array.isArray(b)&&(E.providerData=b.map((e=>Object.assign({},e)))),m&&(E._redirectEventId=m),E}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Yi;r.updateFromServerResponse(t);const i=new Ji({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Qi(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];yi(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Gi(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),o=new Yi;o.updateFromIdToken(n);const a=new Ji({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Ki(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(a,l),a}}const $i=new Map;function Zi(e){wi(e instanceof Function,"Expected a class definition");let t=$i.get(e);return t?(wi(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,$i.set(e,t),t)}class es{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}es.type="NONE";const ts=es;function ns(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class rs{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=ns(this.userKey,r.apiKey,i),this.fullPersistenceKey=ns("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ji._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new rs(Zi(ts),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||Zi(ts);const s=ns(n,e.config.apiKey,e.name);let o=null;for(const c of t)try{const t=await c._get(s);if(t){const n=Ji._fromJSON(e,t);c!==i&&(o=n),i=c;break}}catch(l){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(l){}}))),new rs(i,e,n)):new rs(i,e,n)}}function is(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ls(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ss(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(us(t))return"Blackberry";if(hs(t))return"Webos";if(os(t))return"Safari";if((t.includes("chrome/")||as(t))&&!t.includes("edge/"))return"Chrome";if(cs(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function ss(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt();return/firefox\//i.test(e)}function os(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function as(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt();return/crios\//i.test(e)}function ls(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt();return/iemobile/i.test(e)}function cs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt();return/android/i.test(e)}function us(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt();return/blackberry/i.test(e)}function hs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt();return/webos/i.test(e)}function ds(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function fs(){return function(){const e=Gt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function ps(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt();return ds(e)||cs(e)||hs(e)||us(e)||/windows phone/i.test(e)||ls(e)}function ms(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=is(Gt());break;case"Worker":t="".concat(is(Gt()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Hr,"/").concat(r)}class gs{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(kS){r(kS)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(kS){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===kS||void 0===kS?void 0:kS.message})}}}class ys{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,o;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(s=a.containsNumericCharacter)||void 0===s||s),a.isValid&&(a.isValid=null===(o=a.containsNonAlphanumericCharacter)||void 0===o||o),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class vs{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _s(this),this.idTokenSubscription=new _s(this),this.beforeStateQueue=new gs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ci,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Zi(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await rs.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(kS){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Fi(this,{idToken:e}),n=await Ji._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(zr(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==s||!(null===o||void 0===o?void 0:o.user)||(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(kS){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(kS)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return yi(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(kS){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Qi(e)}catch(kS){if((null===kS||void 0===kS?void 0:kS.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zr(this.app))return Promise.reject(mi(this));const t=e?In(e):null;return t&&yi(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&yi(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return zr(this.app)?Promise.reject(mi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zr(this.app)?Promise.reject(mi(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(Zi(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Ni(e,"GET","/v2/passwordPolicy",Ii(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new ys(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new rn("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Ni(e,"POST","/v2/accounts:revokeToken",Ii(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Zi(e)||this._popupRedirectResolver;yi(t,this,"argument-error"),this.redirectPersistenceManager=await rs.create(this,[Zi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(yi(o,this,"internal-error"),o.then((()=>{s||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return yi(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ms(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(ui.logLevel<=Ln.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];ui.warn("Auth (".concat(Hr,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function ws(e){return In(e)}class _s{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new wn(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return yi(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let bs={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xs(e){return bs.loadJS(e)}function Cs(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Es{constructor(e){this.type="recaptcha-enterprise",this.auth=ws(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Oi(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Ui(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Mi(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&Oi(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=bs.recaptchaEnterpriseScript;0!==t.length&&(t+=i),xs(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Ss(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Es(e);let s;try{s=await i.verify(n)}catch(l_){s=await i.verify(n,!0)}const o=Object.assign({},t);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function ks(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Ss(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Ss(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function Ts(e,t,n){const r=ws(e);yi(r._canInitEmulator,r,"emulator-config-failed"),yi(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Is(t),{host:o,port:a}=function(e){const t=Is(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Ns(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Ns(t)}}}(t),l=null===a?"":":".concat(a);r.config.emulator={url:"".concat(s,"//").concat(o).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Is(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ns(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class js{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return vi("not implemented")}_getIdTokenResponse(e){return vi("not implemented")}_linkToIdToken(e,t){return vi("not implemented")}_getReauthenticationResolver(e){return vi("not implemented")}}async function Ps(e,t){return Ni(e,"POST","/v1/accounts:signUp",t)}async function As(e,t){return Pi(e,"POST","/v1/accounts:signInWithPassword",Ii(e,t))}class Rs extends js{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Rs(e,t,"password")}static _fromEmailAndCode(e,t){return new Rs(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return ks(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",As);case"emailLink":return async function(e,t){return Pi(e,"POST","/v1/accounts:signInWithEmailLink",Ii(e,t))}(e,{email:this._email,oobCode:this._password});default:di(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return ks(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ps);case"emailLink":return async function(e,t){return Pi(e,"POST","/v1/accounts:signInWithEmailLink",Ii(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:di(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Ls(e,t){return Pi(e,"POST","/v1/accounts:signInWithIdp",Ii(e,t))}class Ds extends js{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ds(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):di("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=oi(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Ds(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Ls(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ls(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ls(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=mn(t)}return e}}const Os={USER_NOT_FOUND:"user-not-found"};class Ms extends js{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Ms({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Ms({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Pi(e,"POST","/v1/accounts:signInWithPhoneNumber",Ii(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Pi(e,"POST","/v1/accounts:signInWithPhoneNumber",Ii(e,t));if(n.temporaryProof)throw Di(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Pi(e,"POST","/v1/accounts:signInWithPhoneNumber",Ii(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Os)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Ms({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Us{constructor(e){var t,n,r,i,s,o;const a=gn(yn(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);yi(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=gn(yn(e)).link,n=t?gn(yn(t)).deep_link_id:null,r=gn(yn(e)).deep_link_id;return(r?gn(yn(r)).link:null)||r||n||t||e}(e);try{return new Us(t)}catch(n){return null}}}class Fs{constructor(){this.providerId=Fs.PROVIDER_ID}static credential(e,t){return Rs._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Us.parseLink(t);return yi(n,"argument-error"),Rs._fromEmailAndCode(e,n.code,n.tenantId)}}Fs.PROVIDER_ID="password",Fs.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Fs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Vs{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class zs extends Vs{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class qs extends zs{constructor(){super("facebook.com")}static credential(e){return Ds._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return qs.credential(t.oauthAccessToken)}catch(n){return null}}}qs.FACEBOOK_SIGN_IN_METHOD="facebook.com",qs.PROVIDER_ID="facebook.com";class Bs extends zs{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ds._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Bs.credential(n,r)}catch(i){return null}}}Bs.GOOGLE_SIGN_IN_METHOD="google.com",Bs.PROVIDER_ID="google.com";class Hs extends zs{constructor(){super("github.com")}static credential(e){return Ds._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hs.credentialFromTaggedObject(e)}static credentialFromError(e){return Hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Hs.credential(t.oauthAccessToken)}catch(n){return null}}}Hs.GITHUB_SIGN_IN_METHOD="github.com",Hs.PROVIDER_ID="github.com";class Ws extends zs{constructor(){super("twitter.com")}static credential(e,t){return Ds._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ws.credentialFromTaggedObject(e)}static credentialFromError(e){return Ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Ws.credential(n,r)}catch(i){return null}}}async function Ks(e,t){return Pi(e,"POST","/v1/accounts:signUp",Ii(e,t))}Ws.TWITTER_SIGN_IN_METHOD="twitter.com",Ws.PROVIDER_ID="twitter.com";class Qs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Ji._fromIdTokenResponse(e,n,r),s=Gs(n);return new Qs({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Gs(n);return new Qs({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Gs(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Ys extends nn{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Ys.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Ys(e,t,n,r)}}function Xs(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Ys._fromErrorAndOperation(e,n,t,r);throw n}))}async function Js(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Hi(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Qs._forOperation(e,"link",r)}async function $s(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(zr(r.app))return Promise.reject(mi(r));const i="reauthenticate";try{const s=await Hi(e,Xs(r,i,t,e),n);yi(s.idToken,r,"internal-error");const o=qi(s.idToken);yi(o,r,"internal-error");const{sub:a}=o;return yi(e.uid===a,r,"user-mismatch"),Qs._forOperation(e,i,s)}catch(kS){throw(null===kS||void 0===kS?void 0:kS.code)==="auth/".concat("user-not-found")&&di(r,"user-mismatch"),kS}}async function Zs(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(zr(e.app))return Promise.reject(mi(e));const r="signIn",i=await Xs(e,r,t),s=await Qs._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function eo(e,t){return Zs(ws(e),t)}async function to(e,t){return $s(In(e),t)}async function no(e){const t=ws(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function ro(e,t,n){if(zr(e.app))return Promise.reject(mi(e));const r=ws(e),i=ks(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ks),s=await i.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&no(e),t})),o=await Qs._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(o.user),o}function io(e,t,n){return zr(e.app)?Promise.reject(mi(e)):eo(In(e),Fs.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&no(e),t}))}async function so(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=In(e),s={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},o=await Hi(i,async function(e,t){return Ni(e,"POST","/v1/accounts:update",t)}(i.auth,s));i.displayName=o.displayName||null,i.photoURL=o.photoUrl||null;const a=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(o)}function oo(e,t){return ao(In(e),null,t)}async function ao(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const s=await Hi(e,async function(e,t){return Ni(e,"POST","/v1/accounts:update",t)}(r,i));await e._updateTokensIfNecessary(s,!0)}function lo(e,t,n,r){return In(e).onAuthStateChanged(t,n,r)}function co(e){return In(e).signOut()}new WeakMap;const uo="__sak";class ho{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(uo,"1"),this.storage.removeItem(uo),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class fo extends ho{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Gt();return os(e)||ds(e)}()&&function(){try{return!(!window||window===window.top)}catch(kS){return!1}}(),this.fallbackToPolling=ps(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);fs()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}fo.type="LOCAL";const po=fo;class mo extends ho{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}mo.type="SESSION";const go=mo;class yo{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new yo(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function vo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}yo.receivers=[];class wo{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((o,a)=>{const l=vo("",20);r.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function _o(){return window}function bo(){return"undefined"!==typeof _o().WorkerGlobalScope&&"function"===typeof _o().importScripts}const xo="firebaseLocalStorageDb",Co="firebaseLocalStorage",Eo="fbase_key";class So{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function ko(e,t){return e.transaction([Co],t?"readwrite":"readonly").objectStore(Co)}function To(){const e=indexedDB.open(xo,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Co,{keyPath:Eo})}catch(kS){n(kS)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Co)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(xo);return new So(e).toPromise()}(),t(await To()))}))}))}async function Io(e,t,n){const r=ko(e,!0).put({[Eo]:t,value:n});return new So(r).toPromise()}function No(e,t){const n=ko(e,!0).delete(t);return new So(n).toPromise()}class jo{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await To()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(kS){if(t++>3)throw kS;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bo()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yo._getInstance(bo()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new wo(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await To();return await Io(e,uo,"1"),await No(e,uo),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Io(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=ko(e,!1).get(t),r=await new So(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>No(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=ko(e,!1).getAll();return new So(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}jo.type="LOCAL";const Po=jo;Cs("rcb"),new Ci(3e4,6e4);const Ao="recaptcha";async function Ro(e,t,n){var r;const i=await n.verify();try{let s;if(yi("string"===typeof i,e,"argument-error"),yi(n.type===Ao,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){yi("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Ni(e,"POST","/v2/accounts/mfaEnrollment:start",Ii(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{yi("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;yi(n,e,"missing-multi-factor-info");const o=await function(e,t){return Ni(e,"POST","/v2/accounts/mfaSignIn:start",Ii(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Ni(e,"POST","/v1/accounts:sendVerificationCode",Ii(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Lo{constructor(e){this.providerId=Lo.PROVIDER_ID,this.auth=ws(e)}verifyPhoneNumber(e,t){return Ro(this.auth,e,In(t))}static credential(e,t){return Ms._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Lo.credentialFromTaggedObject(t)}static credentialFromError(e){return Lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Ms._fromTokenResponse(n,r):null}}function Do(e,t){return t?Zi(t):(yi(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Lo.PROVIDER_ID="phone",Lo.PHONE_SIGN_IN_METHOD="phone";class Oo extends js{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ls(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ls(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ls(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Mo(e){return Zs(e.auth,new Oo(e),e.bypassAuthState)}function Uo(e){const{auth:t,user:n}=e;return yi(n,t,"internal-error"),$s(n,new Oo(e),e.bypassAuthState)}async function Fo(e){const{auth:t,user:n}=e;return yi(n,t,"internal-error"),Js(n,new Oo(e),e.bypassAuthState)}class Vo{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(kS){this.reject(kS)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(kS){this.reject(kS)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Mo;case"linkViaPopup":case"linkViaRedirect":return Fo;case"reauthViaPopup":case"reauthViaRedirect":return Uo;default:di(this.auth,"internal-error")}}resolve(e){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const zo=new Ci(2e3,1e4);class qo extends Vo{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,qo.currentPopupAction&&qo.currentPopupAction.cancel(),qo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return yi(e,this.auth,"internal-error"),e}async onExecution(){wi(1===this.filter.length,"Popup operations only handle one event");const e=vo();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(fi(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(fi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(fi(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,zo.get())};e()}}qo.currentPopupAction=null;const Bo="pendingRedirect",Ho=new Map;class Wo extends Vo{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Ho.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Go(t),r=Qo(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(kS){e=()=>Promise.reject(kS)}Ho.set(this.auth._key(),e)}return this.bypassAuthState||Ho.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Ko(e,t){Ho.set(e._key(),t)}function Qo(e){return Zi(e._redirectPersistence)}function Go(e){return ns(Bo,e.config.apiKey,e.name)}async function Yo(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(zr(e.app))return Promise.reject(mi(e));const r=ws(e),i=Do(r,t),s=new Wo(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class Xo{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $o(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!$o(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(fi(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Jo(e))}saveEventToCache(e){this.cachedEventUids.add(Jo(e)),this.lastProcessedEventTime=Date.now()}}function Jo(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function $o(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const Zo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ea=/^https?/;async function ta(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Ni(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(na(r))return}catch(n){}di(e,"unauthorized-domain")}function na(e){const t=_i(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!ea.test(n))return!1;if(Zo.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const ra=new Ci(3e4,6e4);function ia(){const e=_o().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function sa(e){return new Promise(((t,n)=>{var r,i,s;function o(){ia(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ia(),n(fi(e,"network-request-failed"))},timeout:ra.get()})}if(null===(i=null===(r=_o().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=_o().gapi)||void 0===s?void 0:s.load)){const t=Cs("iframefcb");return _o()[t]=()=>{gapi.load?o():n(fi(e,"network-request-failed"))},xs("".concat(bs.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}o()}})).catch((e=>{throw oa=null,e}))}let oa=null;const aa=new Ci(5e3,15e3),la="__/auth/iframe",ca="emulator/auth/iframe",ua={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ha=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function da(e){const t=e.config;yi(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Ei(t,ca):"https://".concat(e.config.authDomain,"/").concat(la),r={apiKey:t.apiKey,appName:e.name,v:Hr},i=ha.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(mn(r).slice(1))}async function fa(e){const t=await function(e){return oa=oa||sa(e),oa}(e),n=_o().gapi;return yi(n,e,"internal-error"),t.open({where:document.body,url:da(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ua,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=fi(e,"network-request-failed"),s=_o().setTimeout((()=>{r(i)}),aa.get());function o(){_o().clearTimeout(s),n(t)}t.ping(o).then(o,(()=>{r(i)}))}))))}const pa={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ma{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(kS){}}}function ga(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},pa),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Gt().toLowerCase();n&&(a=as(c)?"_blank":n),ss(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return ds(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new ma(null);const h=window.open(t||"",a,u);yi(h,e,"popup-blocked");try{h.focus()}catch(kS){}return new ma(h)}const ya="__/auth/handler",va="emulator/auth/handler",wa=encodeURIComponent("fac");async function _a(e,t,n,r,i,s){yi(e.config.authDomain,e,"auth-domain-config-required"),yi(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Hr,eventId:i};if(t instanceof Vs){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",hn(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof zs){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?"#".concat(wa,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(ya);return Ei(t,va)}(e),"?").concat(mn(a).slice(1)).concat(c)}const ba="webStorageSupport";const xa=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=go,this._completeRedirectFn=Yo,this._overrideRedirectResult=Ko}async _openPopup(e,t,n,r){var i;wi(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return ga(e,await _a(e,t,n,_i(),r),vo())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){_o().location.href=e}(await _a(e,t,n,_i(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(wi(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await fa(e),n=new Xo(e);return t.register("authEvent",(t=>{yi(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ba,{type:ba},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[ba];void 0!==i&&t(!!i),di(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=ta(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ps()||os()||ds()}};var Ca="@firebase/auth",Ea="1.7.4";class Sa{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){yi(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const ka=Wt("authIdTokenMaxAge")||300;let Ta=null;function Ia(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kr();const t=Vr(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Vr(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(fn(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;di(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:xa,persistence:[Po,po,go]}),r=Wt("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>ka)return;const r=null===t||void 0===t?void 0:t.token;Ta!==r&&(Ta=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){In(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){In(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}var i;const s=qt("auth");return s&&Ts(n,"http://".concat(s)),n}var Na,ja;Na={loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=fi("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},bs=Na,ja="Browser",Fr(new Nn("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;yi(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:ja,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ms(ja)},c=new vs(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Zi);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Fr(new Nn("auth-internal",(e=>(e=>new Sa(e))(ws(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Qr(Ca,Ea,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(ja)),Qr(Ca,Ea,"esm2017");Qr("firebase","10.12.2","app");const Pa="@firebase/installations",Aa="0.6.7",Ra=1e4,La="w:".concat(Aa),Da="FIS_v2",Oa="https://firebaseinstallations.googleapis.com/v1",Ma=36e5,Ua=new rn("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Fa(e){return e instanceof nn&&e.code.includes("request-failed")}function Va(e){let{projectId:t}=e;return"".concat(Oa,"/projects/").concat(t,"/installations")}function za(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function qa(e,t){const n=(await t.json()).error;return Ua.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function Ba(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Ha(e,t){let{refreshToken:n}=t;const r=Ba(e);return r.append("Authorization",function(e){return"".concat(Da," ").concat(e)}(n)),r}async function Wa(e){const t=await e();return t.status>=500&&t.status<600?e():t}function Ka(e){return new Promise((t=>{setTimeout(t,e)}))}const Qa=/^[cdef][\w-]{21}$/,Ga="";function Ya(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return Qa.test(t)?t:Ga}catch(e){return Ga}}function Xa(e){return"".concat(e.appName,"!").concat(e.appId)}const Ja=new Map;function $a(e,t){const n=Xa(e);Za(n,t),function(e,t){const n=tl();n&&n.postMessage({key:e,fid:t});nl()}(n,t)}function Za(e,t){const n=Ja.get(e);if(n)for(const r of n)r(t)}let el=null;function tl(){return!el&&"BroadcastChannel"in self&&(el=new BroadcastChannel("[Firebase] FID Change"),el.onmessage=e=>{Za(e.data.key,e.data.fid)}),el}function nl(){0===Ja.size&&el&&(el.close(),el=null)}const rl="firebase-installations-database",il=1,sl="firebase-installations-store";let ol=null;function al(){return ol||(ol=Zn(rl,il,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(sl)}})),ol}async function ll(e,t){const n=Xa(e),r=(await al()).transaction(sl,"readwrite"),i=r.objectStore(sl),s=await i.get(n);return await i.put(t,n),await r.done,s&&s.fid===t.fid||$a(e,t.fid),t}async function cl(e){const t=Xa(e),n=(await al()).transaction(sl,"readwrite");await n.objectStore(sl).delete(t),await n.done}async function ul(e,t){const n=Xa(e),r=(await al()).transaction(sl,"readwrite"),i=r.objectStore(sl),s=await i.get(n),o=t(s);return void 0===o?await i.delete(n):await i.put(o,n),await r.done,!o||s&&s.fid===o.fid||$a(e,o.fid),o}async function hl(e){let t;const n=await ul(e.appConfig,(n=>{const r=function(e){const t=e||{fid:Ya(),registrationStatus:0};return pl(t)}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(Ua.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:i}=t;const s=Va(n),o=Ba(n),a=r.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&o.append("x-firebase-client",e)}const l={fid:i,authVersion:Da,appId:n.appId,sdkVersion:La},c={method:"POST",headers:o,body:JSON.stringify(l)},u=await Wa((()=>fetch(s,c)));if(u.ok){const e=await u.json();return{fid:e.fid||i,registrationStatus:2,refreshToken:e.refreshToken,authToken:za(e.authToken)}}throw await qa("Create Installation",u)}(e,t);return ll(e.appConfig,n)}catch(kS){throw Fa(kS)&&409===kS.customData.serverCode?await cl(e.appConfig):await ll(e.appConfig,{fid:t.fid,registrationStatus:0}),kS}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:dl(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}));return n.fid===Ga?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function dl(e){let t=await fl(e.appConfig);for(;1===t.registrationStatus;)await Ka(100),t=await fl(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await hl(e);return n||t}return t}function fl(e){return ul(e,(e=>{if(!e)throw Ua.create("installation-not-found");return pl(e)}))}function pl(e){return 1===(t=e).registrationStatus&&t.registrationTime+Ra<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function ml(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const i=function(e,t){let{fid:n}=t;return"".concat(Va(e),"/").concat(n,"/authTokens:generate")}(n,t),s=Ha(n,t),o=r.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&s.append("x-firebase-client",e)}const a={installation:{sdkVersion:La,appId:n.appId}},l={method:"POST",headers:s,body:JSON.stringify(a)},c=await Wa((()=>fetch(i,l)));if(c.ok){return za(await c.json())}throw await qa("Generate Auth Token",c)}async function gl(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await ul(e.appConfig,(r=>{if(!vl(r))throw Ua.create("not-registered");const i=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Ma}(e)}(i))return r;if(1===i.requestStatus)return t=async function(e,t){let n=await yl(e.appConfig);for(;1===n.authToken.requestStatus;)await Ka(100),n=await yl(e.appConfig);const r=n.authToken;return 0===r.requestStatus?gl(e,t):r}(e,n),r;{if(!navigator.onLine)throw Ua.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return t=async function(e,t){try{const n=await ml(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await ll(e.appConfig,r),n}catch(kS){if(!Fa(kS)||401!==kS.customData.serverCode&&404!==kS.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await ll(e.appConfig,n)}else await cl(e.appConfig);throw kS}}(e,n),n}}));return t?await t:r.authToken}function yl(e){return ul(e,(e=>{if(!vl(e))throw Ua.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+Ra<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n}))}function vl(e){return void 0!==e&&2===e.registrationStatus}async function wl(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await hl(e);t&&await t}(n);return(await gl(n,t)).token}function _l(e){return Ua.create("missing-app-config-values",{valueName:e})}const bl="installations",xl=e=>{const t=Vr(e.getProvider("app").getImmediate(),bl).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await hl(t);return r?r.catch(console.error):gl(t).catch(console.error),n.fid}(t),getToken:e=>wl(t,e)}};Fr(new Nn(bl,(e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw _l("App Configuration");if(!e.name)throw _l("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw _l(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:Vr(t,"heartbeat"),_delete:()=>Promise.resolve()}}),"PUBLIC")),Fr(new Nn("installations-internal",xl,"PRIVATE")),Qr(Pa,Aa),Qr(Pa,Aa,"esm2017");const Cl="analytics",El="firebase_id",Sl="origin",kl=6e4,Tl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Il="https://www.googletagmanager.com/gtag/js",Nl=new Fn("@firebase/analytics"),jl=new rn("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Pl(e){if(!e.startsWith(Il)){const t=jl.create("invalid-gtag-resource",{gtagURL:e});return Nl.warn(t.message),""}return e}function Al(e){return Promise.all(e.map((e=>e.catch((e=>e)))))}function Rl(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:Pl}),r=document.createElement("script"),i="".concat(Il,"?l=").concat(e,"&id=").concat(t);r.src=n?null===n||void 0===n?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function Ll(e,t,n,r){return async function(i){try{for(var s=arguments.length,o=new Array(s>1?s-1:0),a=1;a<s;a++)o[a-1]=arguments[a];if("event"===i){const[r,i]=o;await async function(e,t,n,r,i){try{let s=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=await Al(n);for(const n of e){const e=r.find((e=>e.measurementId===n)),i=e&&t[e.appId];if(!i){s=[];break}s.push(i)}}0===s.length&&(s=Object.values(t)),await Promise.all(s),e("event",r,i||{})}catch(kS){Nl.error(kS)}}(e,t,n,r,i)}else if("config"===i){const[i,s]=o;await async function(e,t,n,r,i,s){const o=r[i];try{if(o)await t[o];else{const e=(await Al(n)).find((e=>e.measurementId===i));e&&await t[e.appId]}}catch(kS){Nl.error(kS)}e("config",i,s)}(e,t,n,r,i,s)}else if("consent"===i){const[t,n]=o;e("consent",t,n)}else if("get"===i){const[t,n,r]=o;e("get",t,n,r)}else if("set"===i){const[t]=o;e("set",t)}else e(i,...o)}catch(kS){Nl.error(kS)}}}const Dl=30;const Ol=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Ml(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function Ul(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ol,n=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:i,measurementId:s}=e.options;if(!r)throw jl.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw jl.create("no-api-key")}const o=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Vl;return setTimeout((async()=>{a.abort()}),void 0!==n?n:kl),Fl({appId:r,apiKey:i,measurementId:s},o,a,t)}async function Fl(e,t,n){let{throttleEndTimeMillis:r,backoffCount:i}=t,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ol;var o;const{appId:a,measurementId:l}=e;try{await function(e,t){return new Promise(((n,r)=>{const i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener((()=>{clearTimeout(s),r(jl.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}(n,r)}catch(kS){if(l)return Nl.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===kS||void 0===kS?void 0:kS.message,"]")),{appId:a,measurementId:l};throw kS}try{const t=await async function(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:Ml(r)},s=Tl.replace("{app-id}",n),o=await fetch(s,i);if(200!==o.status&&304!==o.status){let e="";try{const n=await o.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(a){}throw jl.create("config-fetch-failed",{httpStatus:o.status,responseMessage:e})}return o.json()}(e);return s.deleteThrottleMetadata(a),t}catch(kS){const r=kS;if(!function(e){if(!(e instanceof nn)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(r)){if(s.deleteThrottleMetadata(a),l)return Nl.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===r||void 0===r?void 0:r.message,"]")),{appId:a,measurementId:l};throw kS}const c=503===Number(null===(o=null===r||void 0===r?void 0:r.customData)||void 0===o?void 0:o.httpStatus)?Tn(i,s.intervalMillis,Dl):Tn(i,s.intervalMillis),u={throttleEndTimeMillis:Date.now()+c,backoffCount:i+1};return s.setThrottleMetadata(a,u),Nl.debug("Calling attemptFetch again in ".concat(c," millis")),Fl(e,u,n,s)}}class Vl{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach((e=>e()))}}let zl,ql;function Bl(e){ql=e}function Hl(e){zl=e}async function Wl(e,t,n,r,i,s,o){var a;const l=Ul(e);l.then((t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&Nl.warn("The measurement ID in the local Firebase config (".concat(e.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(t.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((e=>Nl.error(e))),t.push(l);const c=async function(){if(!en())return Nl.warn(jl.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await tn()}catch(kS){return Nl.warn(jl.create("indexeddb-unavailable",{errorInfo:null===kS||void 0===kS?void 0:kS.toString()}).message),!1}return!0}().then((e=>e?r.getId():void 0)),[u,h]=await Promise.all([l,c]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(Il)&&n.src.includes(e))return n;return null})(s)||Rl(s,u.measurementId),ql&&(i("consent","default",ql),Bl(void 0)),i("js",new Date);const d=null!==(a=null===o||void 0===o?void 0:o.config)&&void 0!==a?a:{};return d[Sl]="firebase",d.update=!0,null!=h&&(d[El]=h),i("config",u.measurementId,d),zl&&(i("set",zl),Hl(void 0)),u.measurementId}class Kl{constructor(e){this.app=e}_delete(){return delete Ql[this.app.options.appId],Promise.resolve()}}let Ql={},Gl=[];const Yl={};let Xl,Jl,$l="dataLayer",Zl="gtag",ec=!1;function tc(){const e=[];if(Xt()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map(((e,t)=>"(".concat(t+1,") ").concat(e))).join(" "),n=jl.create("invalid-analytics-context",{errorInfo:t});Nl.warn(n.message)}}function nc(e,t,n){tc();const r=e.options.appId;if(!r)throw jl.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw jl.create("no-api-key");Nl.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Ql[r])throw jl.create("already-exists",{id:r});if(!ec){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}($l);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(s=window[i]),window[i]=Ll(s,e,t,n),{gtagCore:s,wrappedGtag:window[i]}}(Ql,Gl,Yl,$l,Zl);Jl=e,Xl=t,ec=!0}Ql[r]=Wl(e,Gl,Yl,t,Xl,$l,n);return new Kl(e)}function rc(e,t,n,r){e=In(e),async function(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=await t;e("event",n,Object.assign(Object.assign({},r),{send_to:i}))}}(Jl,Ql[e.app.options.appId],t,n,r).catch((e=>Nl.error(e)))}const ic="@firebase/analytics",sc="0.10.4";Fr(new Nn(Cl,((e,t)=>{let{options:n}=t;return nc(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),Fr(new Nn("analytics-internal",(function(e){try{const t=e.getProvider(Cl).getImmediate();return{logEvent:(e,n,r)=>rc(t,e,n,r)}}catch(kS){throw jl.create("interop-component-reg-failed",{reason:kS})}}),"PRIVATE")),Qr(ic,sc),Qr(ic,sc,"esm2017");var oc,ac,lc="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},cc={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,s=this.h,o=0;o<t;){if(0==s)for(;o<=r;)n(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(i[s++]=e.charCodeAt(o++),s==this.blockSize){n(this,i),s=0;break}}else for(;o<t;)if(i[s++]=e[o++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function s(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function o(e){if(isNaN(e)||!isFinite(e))return a;if(0>e)return d(o(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var a=s(0),l=s(1),c=s(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function h(e){return-1==e.h}function d(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(d(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(a,a);if(h(e))return t=g(d(e),t),new m(d(t.g),d(t.h));if(h(t))return t=g(e,d(t)),new m(d(t.g),t.h);if(30<e.g.length){if(h(e)||h(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=y(n),r=y(r);var i=v(n,1),s=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=s.add(r);0>=c.l(e)&&(i=i.add(n),s=c),r=v(r,1),n=v(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=a;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(s=o(n)).j(t);h(c)||0<c.l(e);)c=(s=o(n-=r)).j(t);u(s)&&(s=l),i=i.add(s),e=f(e,c)}return new m(i,e)}function y(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,s=[],o=0;o<i;o++)s[o]=0<t?e.i(o+n)>>>t|e.i(o+n+1)<<32-t:e.i(o+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(h(this))return-d(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(h(this))return"-"+d(this).toString(e);for(var t=o(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,s=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return h(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return h(this)?d(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,s=0;s<=t;s++){var o=i+(65535&this.i(s))+(65535&e.i(s)),a=(o>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);i=a>>>16,o&=65535,a&=65535,n[s]=a<<16|o}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return a;if(h(this))return h(e)?d(this).j(d(e)):d(d(this).j(e));if(h(e))return d(this.j(d(e)));if(0>this.l(c)&&0>e.l(c))return o(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<e.g.length;s++){var l=this.i(i)>>>16,f=65535&this.i(i),m=e.i(s)>>>16,g=65535&e.i(s);n[2*i+2*s]+=f*g,p(n,2*i+2*s),n[2*i+2*s+1]+=l*g,p(n,2*i+2*s+1),n[2*i+2*s+1]+=f*m,p(n,2*i+2*s+1),n[2*i+2*s+2]+=l*m,p(n,2*i+2*s+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,ac=cc.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=o,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return d(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=o(Math.pow(n,8)),i=a,s=0;s<t.length;s+=8){var l=Math.min(8,t.length-s),c=parseInt(t.substring(s,s+l),n);8>l?(l=o(Math.pow(n,l)),i=i.j(l).add(o(c))):i=(i=i.j(r)).add(o(c))}return i},oc=cc.Integer=r}).apply("undefined"!==typeof lc?lc:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var uc,hc,dc,fc,pc,mc,gc,yc,vc,wc="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},_c={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof wc&&wc];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var o=e[s];if(!(o in i))break e;i=i[o]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function o(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function h(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function d(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(s(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var y=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function w(e){const t={};for(const n in e)t[n]=e[n];return t}const _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<_.length;t++)n=_[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function x(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function C(e){i.setTimeout((()=>{throw e}),0)}function E(){var e=N;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var S=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new k),(e=>e.reset()));class k{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let T,I=!1,N=new class{constructor(){this.h=this.g=null}add(e,t){const n=S.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},j=()=>{const e=i.Promise.resolve(void 0);T=()=>{e.then(P)}};var P=()=>{for(var e;e=E();){try{e.h.call(e.g)}catch(n){C(n)}var t=S;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}I=!1};function A(){this.s=this.s,this.C=this.C}function R(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}A.prototype.s=!1,A.prototype.ma=function(){this.s||(this.s=!0,this.N())},A.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},R.prototype.h=function(){this.defaultPrevented=!0};var L=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function D(e,t){if(R.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{g(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:O[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&D.aa.h.call(this)}}h(D,R);var O={2:"touch",3:"pen",4:"mouse"};D.prototype.h=function(){D.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var M="closure_listenable_"+(1e6*Math.random()|0),U=0;function F(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++U,this.da=this.fa=!1}function V(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function z(e){this.src=e,this.g={},this.h=0}function q(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(V(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function B(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}z.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=B(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new F(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var H="closure_lm_"+(1e6*Math.random()|0),W={};function K(e,t,n,r,i){if(r&&r.once)return G(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)K(e,t[s],n,r,i);return null}return n=te(n),e&&e[M]?e.K(t,n,o(r)?!!r.capture:!!r,i):Q(e,t,n,!1,r,i)}function Q(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=o(i)?!!i.capture:!!i,l=Z(e);if(l||(e[H]=l=new z(e)),(n=l.add(t,n,r,a,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=$;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)L||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(J(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function G(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)G(e,t[s],n,r,i);return null}return n=te(n),e&&e[M]?e.L(t,n,o(r)?!!r.capture:!!r,i):Q(e,t,n,!0,r,i)}function Y(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Y(e,t[s],n,r,i);else r=o(r)?!!r.capture:!!r,n=te(n),e&&e[M]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=B(s=e.g[t],n,r,i))&&(V(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=B(t,n,r,i)),(n=-1<e?t[e]:null)&&X(n))}function X(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[M])q(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(J(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(q(n,e),0==n.h&&(n.src=null,t[H]=null)):V(e)}}}function J(e){return e in W?W[e]:W[e]="on"+e}function $(e,t){if(e.da)e=!0;else{t=new D(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&X(e),e=n.call(r,t)}return e}function Z(e){return(e=e[H])instanceof z?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){A.call(this),this.i=new z(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new R(t,e);else if(t instanceof R)t.target=t.target||e;else{var i=t;b(t=new R(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=ie(o,r,!0,t)&&i}if(i=ie(o=t.g=e,r,!0,t)&&i,i=ie(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=ie(o=t.g=n[s],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.da&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.fa&&q(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}function se(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function oe(e){e.g=se((()=>{e.g=null,e.i&&(e.i=!1,oe(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}h(ne,A),ne.prototype[M]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Y(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)V(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ae extends A{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:oe(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){A.call(this),this.h=e,this.g={}}h(le,A);var ce=[];function ue(e){v(e.g,(function(e,t){this.g.hasOwnProperty(t)&&X(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var he=i.JSON.stringify,de=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ye={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ve(){R.call(this,"d")}function we(){R.call(this,"c")}h(ve,R),h(we,R);var _e={},be=null;function xe(){return be=be||new ne}function Ce(e){R.call(this,_e.La,e)}function Ee(e){const t=xe();re(t,new Ce(t))}function Se(e,t){R.call(this,_e.STAT_EVENT,e),this.stat=t}function ke(e){const t=xe();re(t,new Se(t,e))}function Te(e,t){R.call(this,_e.Ma,e),this.size=t}function Ie(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function Ne(){this.g=!0}function je(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return he(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}_e.La="serverreachability",h(Ce,R),_e.STAT_EVENT="statevent",h(Se,R),_e.Ma="timingevent",h(Te,R),Ne.prototype.xa=function(){this.g=!1},Ne.prototype.info=function(){};var Pe,Ae={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Re={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Le(){}function De(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Oe}function Oe(){this.i=null,this.g="",this.h=!1}h(Le,pe),Le.prototype.g=function(){return new XMLHttpRequest},Le.prototype.i=function(){return{}},Pe=new Le;var Me={},Ue={};function Fe(e,t,n){e.L=1,e.v=ht(ot(t)),e.m=n,e.P=!0,Ve(e,null)}function Ve(e,t){e.F=Date.now(),Be(e),e.A=ot(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),St(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Oe,e.g=fn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ae(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var s=0;s<i.length;s++){var o=K(n,i[s],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}t=e.H?w(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ee(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function ze(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function qe(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ue:(n=Number(t.substring(n,r)),isNaN(n)?Me:(r+=1)+n>t.length?Ue:(t=t.slice(r,r+n),e.C=r+n,t))}function Be(e){e.S=Date.now()+e.I,He(e,e.I)}function He(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ie(c(e.ba,e),t)}function We(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function Ke(e){0==e.j.G||e.J||ln(e.j,e)}function Qe(e){We(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ge(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;an(n),Xt(n)}rn(n),ke(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ie(c(n.Za,n),6e3));if(1>=$e(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else un(n,11)}else if((e.K||n.g==e)&&an(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(et(s,s.h),s.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var o=e;if((r=n).qa=dn(r,r.J?r.ia:null,r.W),o.K){tt(r.h,o);var a=o,l=r.L;l&&(a.I=l),a.B&&(We(a),Be(a)),r.g=o}else nn(r);0<n.i.length&&$t(n)}else"stop"!=c[0]&&"close"!=c[0]||un(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?un(n,7):Yt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Ee()}catch(u){}}De.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Wt(e)?t.j():this.Y(e)},De.prototype.Y=function(e){try{if(e==this.g)e:{const d=Wt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||Kt(this.g)))){this.J||4!=d||7==t||Ee(),We(this);var n=this.g.Z();this.X=n;t:if(ze(this)){var r=Kt(this.g);e="";var s=r.length,o=4==Wt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Qe(this),Ke(this);var a="";break t}this.h.i=new i.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(o&&t==s-1)});r.length=0,this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.i,this.u,this.A,this.l,this.R,d,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,ke(12),Qe(this),Ke(this);break e}je(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ge(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<a.length;){if(e=qe(this,a),e==Ue){4==d&&(this.s=4,ke(14),n=!1),je(this.i,this.l,null,"[Incomplete Response]");break}if(e==Me){this.s=4,ke(15),je(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}je(this.i,this.l,e,null),Ge(this,e)}if(ze(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=a.length||this.h.h||(this.s=1,ke(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var h=this.j;h.g==this&&h.ba&&!h.M&&(h.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),sn(h),h.M=!0,ke(11))}}else je(this.i,this.l,a,"[Invalid Chunked Response]"),Qe(this),Ke(this)}else je(this.i,this.l,a,null),Ge(this,a);4==d&&Qe(this),this.o&&!this.J&&(4==d?ln(this.j,this):(this.o=!1,Be(this)))}else(function(e){const t={};e=(e.g&&2<=Wt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=x(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,ke(12)):(this.s=0,ke(13)),Qe(this),Ke(this)}}}catch(d){}},De.prototype.cancel=function(){this.J=!0,Qe(this)},De.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(Ee(),ke(17)),Qe(this),this.s=2,Ke(this)):He(this,this.S-e)};var Ye=class{constructor(e,t){this.g=e,this.map=t}};function Xe(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Je(e){return!!e.h||!!e.g&&e.g.size>=e.j}function $e(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return d(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(s(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}Xe.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function st(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof st){this.h=e.h,at(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new bt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,at(this,t[1]||"",!0),this.o=dt(t[2]||""),this.g=dt(t[3]||"",!0),lt(this,t[4]),this.l=dt(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=dt(t[7]||"")):(this.h=!1,this.i=new bt(null,this.h))}function ot(e){return new st(e)}function at(e,t,n){e.j=n?dt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof bt?(e.i=t,function(e,t){t&&!e.j&&(xt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Ct(this,t),St(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,wt)),e.i=new bt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function ht(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function dt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}st.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?vt:yt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,_t)),e.join("")};var mt,gt=/[#\/\?@]/g,yt=/[#\?:]/g,vt=/[#\?]/g,wt=/[#\?@]/g,_t=/#/g;function bt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function xt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Ct(e,t){xt(e),t=kt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Et(e,t){return xt(e),t=kt(e,t),e.g.has(t)}function St(e,t,n){Ct(e,t),0<n.length&&(e.i=null,e.g.set(kt(e,t),d(n)),e.h+=n.length)}function kt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Tt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(s){}}function It(){this.g=new fe}function Nt(e,t,n){const r=n||"";try{rt(e,(function(e,n){let i=e;o(e)&&(i=he(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(kS){throw t.push(r+"type="+encodeURIComponent("_badmap")),kS}}function jt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Pt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function At(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Rt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Lt(e)}function Lt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Dt(e){let t="";return v(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Ot(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Dt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Mt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=bt.prototype).add=function(e,t){xt(this),this.i=null,e=kt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){xt(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){xt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){xt(this);let t=[];if("string"===typeof e)Et(this,e)&&(t=t.concat(this.g.get(kt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return xt(this),this.i=null,Et(this,e=kt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.V(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")},h(jt,pe),jt.prototype.g=function(){return new Pt(this.l,this.j)},jt.prototype.i=(mt={},function(){return mt}),h(Pt,ne),(e=Pt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Lt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Rt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Lt(this)),this.g&&(this.readyState=3,Lt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;At(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Rt(this):Lt(this),3==this.readyState&&At(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Rt(this))},e.Qa=function(e){this.g&&(this.response=e,Rt(this))},e.ga=function(){this.g&&Rt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Pt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),h(Mt,ne);var Ut=/^https?$/i,Ft=["POST","PUT"];function Vt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,zt(e),Bt(e)}function zt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function qt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Wt(e)||2!=e.Z()))if(e.u&&4==Wt(e))se(e.Ea,0,e);else if(re(e,"readystatechange"),4==Wt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===r){var o=String(e.D).match(it)[1]||null;!o&&i.self&&i.self.location&&(o=i.self.location.protocol.slice(0,-1)),s=!Ut.test(o?o.toLowerCase():"")}n=s}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var a=2<Wt(e)?e.g.statusText:""}catch(l){a=""}e.l=a+" ["+e.Z()+"]",zt(e)}}finally{Bt(e)}}}function Bt(e,t){if(e.g){Ht(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(kS){}}}function Ht(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Wt(e){return e.g?e.g.readyState:0}function Kt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Cc){return null}}function Qt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Gt(e){this.Aa=0,this.i=[],this.j=new Ne,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qt("baseRetryDelayMs",5e3,e),this.cb=Qt("retryDelaySeedMs",1e4,e),this.Wa=Qt("forwardChannelMaxRetries",2,e),this.wa=Qt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Xe(e&&e.concurrentRequestLimit),this.Da=new It,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Yt(e){if(Jt(e),3==e.G){var t=e.U++,n=ot(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),en(e,n),(t=new De(e,e.j,t)).L=2,t.v=ht(ot(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=fn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),Be(t)}hn(e)}function Xt(e){e.g&&(sn(e),e.g.cancel(),e.g=null)}function Jt(e){Xt(e),e.u&&(i.clearTimeout(e.u),e.u=null),an(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function $t(e){if(!Je(e.h)&&!e.s){e.s=!0;var t=e.Ga;T||j(),I||(T(),I=!0),N.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const r=ot(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),en(e,r),e.m&&e.o&&Ot(r,e.m,e.o),n=new De(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Fe(n,r,t)}function en(e,t){e.H&&v(e.H,(function(e,n){ut(t,n,e)})),e.l&&rt({},(function(e,n){ut(t,n,e)}))}function tn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let a=0;a<n;a++){let n=i[a].g;const l=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),o=!1;else try{Nt(l,e,"req"+n+"_")}catch(s){r&&r(l)}}if(o){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;T||j(),I||(T(),I=!0),N.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ie(c(e.Fa,e),cn(e,e.v)),e.v++,!0)}function sn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function on(e){e.g=new De(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=ot(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&Ot(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=ht(ot(t)),n.m=null,n.P=!0,Ve(n,e)}function an(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){an(e),sn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=xe(),new Te(r,n)),$t(e)}else nn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!($e(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ie(c(e.Ga,e,t),cn(e,e.B)),e.B++,!0))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:un(e,5);break;case 4:un(e,10);break;case 3:un(e,6);break;default:un(e,2)}}function cn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function un(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new st(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||at(r,"https"),ht(r),t?function(e,t){const n=new Ne;if(i.Image){const r=new Image;r.onload=u(Tt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Tt,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Tt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Tt,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ne;const n=new AbortController,r=setTimeout((()=>{n.abort(),Tt(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?Tt(0,0,!0,t):Tt(0,0,!1,t)})).catch((()=>{clearTimeout(r),Tt(0,0,!1,t)}))}(r.toString(),n)}else ke(2);e.G=0,e.l&&e.l.sa(t),hn(e),Jt(e)}function hn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,d(e.i),e.i.length=0),e.l.ra()}}function dn(e,t,n){var r=n instanceof st?ot(n):new st(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var s=i.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var o=new st(null);r&&at(o,r),t&&(o.g=t),s&&lt(o,s),n&&(o.l=n),r=o}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),en(e,r),r}function fn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Mt(new jt({eb:n})):new Mt(e.pa)).Ha(e.J),t}function pn(){}function mn(){}function gn(e,t){ne.call(this),this.g=new Gt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new wn(this)}function yn(e){ve.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function vn(){we.call(this),this.status=1}function wn(e){this.g=e}(e=Mt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pe.g(),this.v=this.o?me(this.o):me(Pe),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(o){return void Vt(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),s=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Ft,t,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,a]of n)this.g.setRequestHeader(i,a);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ht(this),this.u=!0,this.g.send(e),this.u=!1}catch(o){Vt(this,o)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),Bt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bt(this,!0)),Mt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?qt(this):this.bb())},e.bb=function(){qt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Wt(this)?this.g.status:-1}catch(mt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(mt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),de(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Gt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){ke(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=dn(this,null,this.W),$t(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new De(this,this.j,e);let s=this.o;if(this.S&&(s?(s=w(s),b(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,i,t),ut(n=ot(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),en(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Dt(s)))+"&"+t:this.m&&Ot(n,this.m,s)),et(this.h,i),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),i.T=!0,Fe(i,n,null)):Fe(i,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||Je(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,on(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ie(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ke(10),Xt(this),on(this))},e.Za=function(){null!=this.C&&(this.C=null,Xt(this),rn(this),ke(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),ke(2)):(this.j.info("Failed to ping google.com"),ke(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=pn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},mn.prototype.g=function(e,t){return new gn(e,t)},h(gn,ne),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Yt(this.g)},gn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=he(e),e=n);t.i.push(new Ye(t.Ya++,e)),3==t.G&&$t(t)},gn.prototype.N=function(){this.g.l=null,delete this.j,Yt(this.g),delete this.g,gn.aa.N.call(this)},h(yn,ve),h(vn,we),h(wn,pn),wn.prototype.ua=function(){re(this.g,"a")},wn.prototype.ta=function(e){re(this.g,new yn(e))},wn.prototype.sa=function(e){re(this.g,new vn)},wn.prototype.ra=function(){re(this.g,"b")},mn.prototype.createWebChannel=mn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,vc=_c.createWebChannelTransport=function(){return new mn},yc=_c.getStatEventTarget=function(){return xe()},gc=_c.Event=_e,mc=_c.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ae.NO_ERROR=0,Ae.TIMEOUT=8,Ae.HTTP_ERROR=6,pc=_c.ErrorCode=Ae,Re.COMPLETE="complete",fc=_c.EventType=Re,ge.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",ne.prototype.listen=ne.prototype.K,dc=_c.WebChannel=ge,hc=_c.FetchXmlHttpFactory=jt,Mt.prototype.listenOnce=Mt.prototype.L,Mt.prototype.getLastError=Mt.prototype.Ka,Mt.prototype.getLastErrorCode=Mt.prototype.Ba,Mt.prototype.getStatus=Mt.prototype.Z,Mt.prototype.getResponseJson=Mt.prototype.Oa,Mt.prototype.getResponseText=Mt.prototype.oa,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Ha,uc=_c.XhrIo=Mt}).apply("undefined"!==typeof wc?wc:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const bc="@firebase/firestore";class xc{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xc.UNAUTHENTICATED=new xc(null),xc.GOOGLE_CREDENTIALS=new xc("google-credentials-uid"),xc.FIRST_PARTY=new xc("first-party-uid"),xc.MOCK_USER=new xc("mock-user");let Cc="10.12.1";const Ec=new Fn("@firebase/firestore");function Sc(){return Ec.logLevel}function kc(e){if(Ec.logLevel<=Ln.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Nc);Ec.debug("Firestore (".concat(Cc,"): ").concat(e),...i)}}function Tc(e){if(Ec.logLevel<=Ln.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Nc);Ec.error("Firestore (".concat(Cc,"): ").concat(e),...i)}}function Ic(e){if(Ec.logLevel<=Ln.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Nc);Ec.warn("Firestore (".concat(Cc,"): ").concat(e),...i)}}function Nc(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function jc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(Cc,") INTERNAL ASSERTION FAILED: ")+e;throw Tc(t),new Error(t)}function Pc(e,t){e||jc()}function Ac(e,t){return e}const Rc={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Lc extends nn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Dc{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Oc{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Mc{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(xc.UNAUTHENTICATED)))}shutdown(){}}class Uc{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Fc{constructor(e){this.t=e,this.currentUser=xc.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Dc;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Dc,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{kc("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(kc("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Dc)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(kc("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Pc("string"==typeof t.accessToken),new Oc(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Pc(null===e||"string"==typeof e),new xc(e)}}class Vc{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=xc.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class zc{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Vc(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(xc.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class qc{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Bc{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&kc("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,kc("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{kc("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):kc("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Pc("string"==typeof e.token),this.R=e.token,new qc(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Hc(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Wc{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Hc(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Kc(e,t){return e<t?-1:e>t?1:0}function Qc(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class Gc{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Lc(Rc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Lc(Rc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Lc(Rc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Lc(Rc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Gc.fromMillis(Date.now())}static fromDate(e){return Gc.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Gc(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Kc(this.nanoseconds,e.nanoseconds):Kc(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Yc{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Yc(e)}static min(){return new Yc(new Gc(0,0))}static max(){return new Yc(new Gc(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Xc{constructor(e,t,n){void 0===t?t=0:t>e.length&&jc(),void 0===n?n=e.length-t:n>e.length-t&&jc(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Xc.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Xc?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Jc extends Xc{construct(e,t,n){return new Jc(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Lc(Rc.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new Jc(e)}static emptyPath(){return new Jc([])}}const $c=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zc extends Xc{construct(e,t,n){return new Zc(e,t,n)}static isValidIdentifier(e){return $c.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zc.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Zc(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Lc(Rc.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Lc(Rc.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Lc(Rc.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new Lc(Rc.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zc(t)}static emptyPath(){return new Zc([])}}class eu{constructor(e){this.path=e}static fromPath(e){return new eu(Jc.fromString(e))}static fromName(e){return new eu(Jc.fromString(e).popFirst(5))}static empty(){return new eu(Jc.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Jc.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Jc.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new eu(new Jc(e.slice()))}}class tu{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}tu.UNKNOWN_ID=-1;function nu(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Yc.fromTimestamp(1e9===r?new Gc(n+1,0):new Gc(n,r));return new iu(i,eu.empty(),t)}function ru(e){return new iu(e.readTime,e.key,-1)}class iu{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new iu(Yc.min(),eu.empty(),-1)}static max(){return new iu(Yc.max(),eu.empty(),-1)}}function su(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=eu.comparator(e.documentKey,t.documentKey),0!==n?n:Kc(e.largestBatchId,t.largestBatchId))}const ou="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class au{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function lu(e){if(e.code!==Rc.FAILED_PRECONDITION||e.message!==ou)throw e;kc("LocalStore","Unexpectedly lost primary lease")}class cu{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&jc(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new cu(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof cu?t:cu.resolve(t)}catch(e){return cu.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):cu.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):cu.reject(t)}static resolve(e){return new cu(((t,n)=>{t(e)}))}static reject(e){return new cu(((t,n)=>{n(e)}))}static waitFor(e){return new cu(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=cu.resolve(!1);for(const n of e)t=t.next((e=>e?cu.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new cu(((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{s[l]=e,++o,o===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new cu(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function uu(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function hu(e){return"IndexedDbTransactionError"===e.name}class du{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function fu(e){return null==e}function pu(e){return 0===e&&1/e==-1/0}function mu(e){return"number"==typeof e&&Number.isInteger(e)&&!pu(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}du.oe=-1;const gu=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],yu=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],vu=yu;function wu(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function _u(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function bu(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class xu{constructor(e,t){this.comparator=e,this.root=t||Eu.EMPTY}insert(e,t){return new xu(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Eu.BLACK,null,null))}remove(e){return new xu(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Eu.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cu(this.root,e,this.comparator,!0)}}class Cu{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Eu{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Eu.RED,this.left=null!=r?r:Eu.EMPTY,this.right=null!=i?i:Eu.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Eu(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Eu.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Eu.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Eu.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Eu.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw jc();if(this.right.isRed())throw jc();const e=this.left.check();if(e!==this.right.check())throw jc();return e+(this.isRed()?0:1)}}Eu.EMPTY=null,Eu.RED=!0,Eu.BLACK=!1,Eu.EMPTY=new class{constructor(){this.size=0}get key(){throw jc()}get value(){throw jc()}get color(){throw jc()}get left(){throw jc()}get right(){throw jc()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Eu(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Su{constructor(e){this.comparator=e,this.data=new xu(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ku(this.data.getIterator())}getIteratorFrom(e){return new ku(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Su))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Su(this.comparator);return t.data=e,t}}class ku{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Tu{constructor(e){this.fields=e,e.sort(Zc.comparator)}static empty(){return new Tu([])}unionWith(e){let t=new Su(Zc.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Tu(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Qc(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Iu extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Nu{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Iu("Invalid base64 string: "+e):e}}(e);return new Nu(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Nu(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Kc(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nu.EMPTY_BYTE_STRING=new Nu("");const ju=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pu(e){if(Pc(!!e),"string"==typeof e){let t=0;const n=ju.exec(e);if(Pc(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Au(e.seconds),nanos:Au(e.nanos)}}function Au(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ru(e){return"string"==typeof e?Nu.fromBase64String(e):Nu.fromUint8Array(e)}function Lu(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Du(e){const t=e.mapValue.fields.__previous_value__;return Lu(t)?Du(t):t}function Ou(e){const t=Pu(e.mapValue.fields.__local_write_time__.timestampValue);return new Gc(t.seconds,t.nanos)}class Mu{constructor(e,t,n,r,i,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l}}class Uu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Uu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Uu&&e.projectId===this.projectId&&e.database===this.database}}const Fu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Vu(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Lu(e)?4:eh(e)?9007199254740991:10:jc()}function zu(e,t){if(e===t)return!0;const n=Vu(e);if(n!==Vu(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ou(e).isEqual(Ou(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Pu(e.timestampValue),r=Pu(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ru(e.bytesValue).isEqual(Ru(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Au(e.geoPointValue.latitude)===Au(t.geoPointValue.latitude)&&Au(e.geoPointValue.longitude)===Au(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Au(e.integerValue)===Au(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Au(e.doubleValue),r=Au(t.doubleValue);return n===r?pu(n)===pu(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Qc(e.arrayValue.values||[],t.arrayValue.values||[],zu);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(wu(n)!==wu(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!zu(n[i],r[i])))return!1;return!0}(e,t);default:return jc()}}function qu(e,t){return void 0!==(e.values||[]).find((e=>zu(e,t)))}function Bu(e,t){if(e===t)return 0;const n=Vu(e),r=Vu(t);if(n!==r)return Kc(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Kc(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Au(e.integerValue||e.doubleValue),r=Au(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Hu(e.timestampValue,t.timestampValue);case 4:return Hu(Ou(e),Ou(t));case 5:return Kc(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Ru(e),r=Ru(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Kc(n[i],r[i]);if(0!==e)return e}return Kc(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Kc(Au(e.latitude),Au(t.latitude));return 0!==n?n:Kc(Au(e.longitude),Au(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Bu(n[i],r[i]);if(e)return e}return Kc(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Fu.mapValue&&t===Fu.mapValue)return 0;if(e===Fu.mapValue)return 1;if(t===Fu.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=Kc(r[o],s[o]);if(0!==e)return e;const t=Bu(n[r[o]],i[s[o]]);if(0!==t)return t}return Kc(r.length,s.length)}(e.mapValue,t.mapValue);default:throw jc()}}function Hu(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Kc(e,t);const n=Pu(e),r=Pu(t),i=Kc(n.seconds,r.seconds);return 0!==i?i:Kc(n.nanos,r.nanos)}function Wu(e){return Ku(e)}function Ku(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Pu(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Ru(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return eu.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Ku(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Ku(e.fields[i]));return n+"}"}(e.mapValue):jc()}function Qu(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Gu(e){return!!e&&"integerValue"in e}function Yu(e){return!!e&&"arrayValue"in e}function Xu(e){return!!e&&"nullValue"in e}function Ju(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function $u(e){return!!e&&"mapValue"in e}function Zu(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return _u(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Zu(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Zu(e.arrayValue.values[n]);return t}return Object.assign({},e)}function eh(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class th{constructor(e){this.value=e}static empty(){return new th({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!$u(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zu(t)}setAll(e){let t=Zc.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Zu(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());$u(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return zu(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];$u(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){_u(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new th(Zu(this.value))}}function nh(e){const t=[];return _u(e.fields,((e,n)=>{const r=new Zc([e]);if($u(n)){const e=nh(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Tu(t)}class rh{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new rh(e,0,Yc.min(),Yc.min(),Yc.min(),th.empty(),0)}static newFoundDocument(e,t,n,r){return new rh(e,1,t,Yc.min(),n,r,0)}static newNoDocument(e,t){return new rh(e,2,t,Yc.min(),Yc.min(),th.empty(),0)}static newUnknownDocument(e,t){return new rh(e,3,t,Yc.min(),Yc.min(),th.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Yc.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=th.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=th.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Yc.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof rh&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rh(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class ih{constructor(e,t){this.position=e,this.inclusive=t}}function sh(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?eu.comparator(eu.fromName(o.referenceValue),n.key):Bu(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function oh(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!zu(e.position[n],t.position[n]))return!1;return!0}class ah{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function lh(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class ch{}class uh extends ch{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new vh(e,t,n):"array-contains"===t?new xh(e,n):"in"===t?new Ch(e,n):"not-in"===t?new Eh(e,n):"array-contains-any"===t?new Sh(e,n):new uh(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new wh(e,n):new _h(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Bu(t,this.value)):null!==t&&Vu(this.value)===Vu(t)&&this.matchesComparison(Bu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return jc()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hh extends ch{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new hh(e,t)}matches(e){return dh(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function dh(e){return"and"===e.op}function fh(e){return ph(e)&&dh(e)}function ph(e){for(const t of e.filters)if(t instanceof hh)return!1;return!0}function mh(e){if(e instanceof uh)return e.field.canonicalString()+e.op.toString()+Wu(e.value);if(fh(e))return e.filters.map((e=>mh(e))).join(",");{const t=e.filters.map((e=>mh(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function gh(e,t){return e instanceof uh?function(e,t){return t instanceof uh&&e.op===t.op&&e.field.isEqual(t.field)&&zu(e.value,t.value)}(e,t):e instanceof hh?function(e,t){return t instanceof hh&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&gh(n,t.filters[r])),!0)}(e,t):void jc()}function yh(e){return e instanceof uh?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Wu(e.value))}(e):e instanceof hh?function(e){return e.op.toString()+" {"+e.getFilters().map(yh).join(" ,")+"}"}(e):"Filter"}class vh extends uh{constructor(e,t,n){super(e,t,n),this.key=eu.fromName(n.referenceValue)}matches(e){const t=eu.comparator(e.key,this.key);return this.matchesComparison(t)}}class wh extends uh{constructor(e,t){super(e,"in",t),this.keys=bh("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class _h extends uh{constructor(e,t){super(e,"not-in",t),this.keys=bh("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function bh(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>eu.fromName(e.referenceValue)))}class xh extends uh{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Yu(t)&&qu(t.arrayValue,this.value)}}class Ch extends uh{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&qu(this.value.arrayValue,t)}}class Eh extends uh{constructor(e,t){super(e,"not-in",t)}matches(e){if(qu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!qu(this.value.arrayValue,t)}}class Sh extends uh{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Yu(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>qu(this.value.arrayValue,e)))}}class kh{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.ue=null}}function Th(e){return new kh(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Ih(e){const t=Ac(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>mh(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),fu(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Wu(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Wu(e))).join(",")),t.ue=e}return t.ue}function Nh(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!lh(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!gh(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!oh(e.startAt,t.startAt)&&oh(e.endAt,t.endAt)}function jh(e){return eu.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Ph{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Ah(e,t,n,r,i,s,o,a){return new Ph(e,t,n,r,i,s,o,a)}function Rh(e){return new Ph(e)}function Lh(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Dh(e){return null!==e.collectionGroup}function Oh(e){const t=Ac(e);if(null===t.ce){t.ce=[];const e=new Set;for(const i of t.explicitOrderBy)t.ce.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Su(Zc.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new ah(r,n))})),e.has(Zc.keyField().canonicalString())||t.ce.push(new ah(Zc.keyField(),n))}return t.ce}function Mh(e){const t=Ac(e);return t.le||(t.le=Uh(t,Oh(e))),t.le}function Uh(e,t){if("F"===e.limitType)return Th(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new ah(e.field,t)}));const n=e.endAt?new ih(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new ih(e.startAt.position,e.startAt.inclusive):null;return Th(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Fh(e,t){const n=e.filters.concat([t]);return new Ph(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Vh(e,t,n){return new Ph(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function zh(e,t){return Nh(Mh(e),Mh(t))&&e.limitType===t.limitType}function qh(e){return"".concat(Ih(Mh(e)),"|lt:").concat(e.limitType)}function Bh(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>yh(e))).join(", "),"]")),fu(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Wu(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Wu(e))).join(",")),"Target(".concat(t,")")}(Mh(e)),"; limitType=").concat(e.limitType,")")}function Hh(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):eu.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Oh(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=sh(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Oh(e),t))&&!(e.endAt&&!function(e,t,n){const r=sh(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Oh(e),t))}(e,t)}function Wh(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Kh(e){return(t,n)=>{let r=!1;for(const i of Oh(e)){const e=Qh(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Qh(e,t,n){const r=e.field.isKeyField()?eu.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Bu(r,i):jc()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return jc()}}class Gh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){_u(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return bu(this.inner)}size(){return this.innerSize}}const Yh=new xu(eu.comparator);function Xh(){return Yh}const Jh=new xu(eu.comparator);function $h(){let e=Jh;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Zh(e){let t=Jh;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function ed(){return nd()}function td(){return nd()}function nd(){return new Gh((e=>e.toString()),((e,t)=>e.isEqual(t)))}const rd=new xu(eu.comparator),id=new Su(eu.comparator);function sd(){let e=id;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const od=new Su(Kc);function ad(){return od}function ld(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pu(t)?"-0":t}}function cd(e){return{integerValue:""+e}}function ud(e,t){return mu(t)?cd(t):ld(e,t)}class hd{constructor(){this._=void 0}}function dd(e,t,n){return e instanceof md?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Lu(t)&&(t=Du(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof gd?yd(e,t):e instanceof vd?wd(e,t):function(e,t){const n=pd(e,t),r=bd(n)+bd(e.Pe);return Gu(n)&&Gu(e.Pe)?cd(r):ld(e.serializer,r)}(e,t)}function fd(e,t,n){return e instanceof gd?yd(e,t):e instanceof vd?wd(e,t):n}function pd(e,t){return e instanceof _d?function(e){return Gu(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class md extends hd{}class gd extends hd{constructor(e){super(),this.elements=e}}function yd(e,t){const n=xd(t);for(const r of e.elements)n.some((e=>zu(e,r)))||n.push(r);return{arrayValue:{values:n}}}class vd extends hd{constructor(e){super(),this.elements=e}}function wd(e,t){let n=xd(t);for(const r of e.elements)n=n.filter((e=>!zu(e,r)));return{arrayValue:{values:n}}}class _d extends hd{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function bd(e){return Au(e.integerValue||e.doubleValue)}function xd(e){return Yu(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Cd{constructor(e,t){this.field=e,this.transform=t}}class Ed{constructor(e,t){this.version=e,this.transformResults=t}}class Sd{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Sd}static exists(e){return new Sd(void 0,e)}static updateTime(e){return new Sd(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kd(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Td{}function Id(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Ud(e.key,Sd.none()):new Rd(e.key,e.data,Sd.none());{const n=e.data,r=th.empty();let i=new Su(Zc.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Ld(e.key,r,new Tu(i.toArray()),Sd.none())}}function Nd(e,t,n){e instanceof Rd?function(e,t,n){const r=e.value.clone(),i=Od(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Ld?function(e,t,n){if(!kd(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Od(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Dd(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function jd(e,t,n,r){return e instanceof Rd?function(e,t,n,r){if(!kd(e.precondition,t))return n;const i=e.value.clone(),s=Md(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ld?function(e,t,n,r){if(!kd(e.precondition,t))return n;const i=Md(e.fieldTransforms,r,t),s=t.data;return s.setAll(Dd(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return kd(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Pd(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=pd(r.transform,e||null);null!=i&&(null===n&&(n=th.empty()),n.set(r.field,i))}return n||null}function Ad(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Qc(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof gd&&t instanceof gd||e instanceof vd&&t instanceof vd?Qc(e.elements,t.elements,zu):e instanceof _d&&t instanceof _d?zu(e.Pe,t.Pe):e instanceof md&&t instanceof md}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Rd extends Td{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ld extends Td{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Dd(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Od(e,t,n){const r=new Map;Pc(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,fd(o,a,n[i]))}return r}function Md(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,dd(e,s,t))}return r}class Ud extends Td{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Fd extends Td{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Vd{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Nd(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=jd(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=jd(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=td();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=Id(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(Yc.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),sd())}isEqual(e){return this.batchId===e.batchId&&Qc(this.mutations,e.mutations,((e,t)=>Ad(e,t)))&&Qc(this.baseMutations,e.baseMutations,((e,t)=>Ad(e,t)))}}class zd{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Pc(e.mutations.length===n.length);let r=rd;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new zd(e,t,n,r)}}class qd{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Bd{constructor(e,t){this.count=e,this.unchangedNames=t}}var Hd,Wd;function Kd(e){switch(e){default:return jc();case Rc.CANCELLED:case Rc.UNKNOWN:case Rc.DEADLINE_EXCEEDED:case Rc.RESOURCE_EXHAUSTED:case Rc.INTERNAL:case Rc.UNAVAILABLE:case Rc.UNAUTHENTICATED:return!1;case Rc.INVALID_ARGUMENT:case Rc.NOT_FOUND:case Rc.ALREADY_EXISTS:case Rc.PERMISSION_DENIED:case Rc.FAILED_PRECONDITION:case Rc.ABORTED:case Rc.OUT_OF_RANGE:case Rc.UNIMPLEMENTED:case Rc.DATA_LOSS:return!0}}function Qd(e){if(void 0===e)return Tc("GRPC error has no .code"),Rc.UNKNOWN;switch(e){case Hd.OK:return Rc.OK;case Hd.CANCELLED:return Rc.CANCELLED;case Hd.UNKNOWN:return Rc.UNKNOWN;case Hd.DEADLINE_EXCEEDED:return Rc.DEADLINE_EXCEEDED;case Hd.RESOURCE_EXHAUSTED:return Rc.RESOURCE_EXHAUSTED;case Hd.INTERNAL:return Rc.INTERNAL;case Hd.UNAVAILABLE:return Rc.UNAVAILABLE;case Hd.UNAUTHENTICATED:return Rc.UNAUTHENTICATED;case Hd.INVALID_ARGUMENT:return Rc.INVALID_ARGUMENT;case Hd.NOT_FOUND:return Rc.NOT_FOUND;case Hd.ALREADY_EXISTS:return Rc.ALREADY_EXISTS;case Hd.PERMISSION_DENIED:return Rc.PERMISSION_DENIED;case Hd.FAILED_PRECONDITION:return Rc.FAILED_PRECONDITION;case Hd.ABORTED:return Rc.ABORTED;case Hd.OUT_OF_RANGE:return Rc.OUT_OF_RANGE;case Hd.UNIMPLEMENTED:return Rc.UNIMPLEMENTED;case Hd.DATA_LOSS:return Rc.DATA_LOSS;default:return jc()}}(Wd=Hd||(Hd={}))[Wd.OK=0]="OK",Wd[Wd.CANCELLED=1]="CANCELLED",Wd[Wd.UNKNOWN=2]="UNKNOWN",Wd[Wd.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Wd[Wd.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Wd[Wd.NOT_FOUND=5]="NOT_FOUND",Wd[Wd.ALREADY_EXISTS=6]="ALREADY_EXISTS",Wd[Wd.PERMISSION_DENIED=7]="PERMISSION_DENIED",Wd[Wd.UNAUTHENTICATED=16]="UNAUTHENTICATED",Wd[Wd.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Wd[Wd.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Wd[Wd.ABORTED=10]="ABORTED",Wd[Wd.OUT_OF_RANGE=11]="OUT_OF_RANGE",Wd[Wd.UNIMPLEMENTED=12]="UNIMPLEMENTED",Wd[Wd.INTERNAL=13]="INTERNAL",Wd[Wd.UNAVAILABLE=14]="UNAVAILABLE",Wd[Wd.DATA_LOSS=15]="DATA_LOSS";let Gd=null;function Yd(){return new TextEncoder}const Xd=new oc([4294967295,4294967295],0);function Jd(e){const t=Yd().encode(e),n=new ac;return n.update(t),new Uint8Array(n.digest())}function $d(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new oc([n,r],0),new oc([i,s],0)]}class Zd{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new ef("Invalid padding: ".concat(t));if(n<0)throw new ef("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new ef("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new ef("Invalid padding when bitmap length is 0: ".concat(t));this.Ie=8*e.length-t,this.Te=oc.fromNumber(this.Ie)}Ee(e,t,n){let r=e.add(t.multiply(oc.fromNumber(n)));return 1===r.compare(Xd)&&(r=new oc([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=Jd(e),[n,r]=$d(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Zd(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Ie)return;const t=Jd(e),[n,r]=$d(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class ef extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class tf{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,nf.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new tf(Yc.min(),r,new xu(Kc),Xh(),sd())}}class nf{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new nf(n,t,sd(),sd(),sd())}}class rf{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class sf{constructor(e,t){this.targetId=e,this.me=t}}class of{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Nu.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class af{constructor(){this.fe=0,this.ge=uf(),this.pe=Nu.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=sd(),t=sd(),n=sd();return this.ge.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:jc()}})),new nf(this.pe,this.ye,e,t,n)}ve(){this.we=!1,this.ge=uf()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Pc(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class lf{constructor(e){this.Le=e,this.Be=new Map,this.ke=Xh(),this.qe=cf(),this.Qe=new xu(Kc)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.ve(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:jc()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((e,n)=>{this.ze(n)&&t(n)}))}He(e){const t=e.targetId,n=e.me.count,r=this.Je(t);if(r){const i=r.target;if(jh(i))if(0===n){const e=new eu(i.path);this.Ue(t,e,rh.newNoDocument(e,Yc.min()))}else Pc(1===n);else{const r=this.Ye(t);if(r!==n){const n=this.Ze(e),i=n?this.Xe(n,e,r):1;if(0!==i){this.je(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}null==Gd||Gd.et(function(e,t,n,r,i){var s,o,a,l,c,u;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(s=null==d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(a=null===(o=null==d?void 0:d.bits)||void 0===o?void 0:o.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==d?void 0:d.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.me,this.Le.tt(),n,i))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,o;try{s=Ru(n).toUint8Array()}catch(e){if(e instanceof Iu)return Ic("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new Zd(s,r,i)}catch(e){return Ic(e instanceof ef?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.Ie?null:o}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.tt(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.Ue(t,n,null),r++)})),r}rt(e){const t=new Map;this.Be.forEach(((n,r)=>{const i=this.Je(r);if(i){if(n.current&&jh(i.target)){const t=new eu(i.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,rh.newNoDocument(t,e))}n.be&&(t.set(r,n.Ce()),n.ve())}}));let n=sd();this.qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.ke.forEach(((t,n)=>n.setReadTime(e)));const r=new tf(e,t,this.Qe,this.ke,n);return this.ke=Xh(),this.qe=cf(),this.Qe=new xu(Kc),r}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new af,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Su(Kc),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||kc("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new af),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function cf(){return new xu(eu.comparator)}function uf(){return new xu(eu.comparator)}const hf={asc:"ASCENDING",desc:"DESCENDING"},df={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ff={and:"AND",or:"OR"};class pf{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function mf(e,t){return e.useProto3Json||fu(t)?t:{value:t}}function gf(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function yf(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function vf(e,t){return gf(e,t.toTimestamp())}function wf(e){return Pc(!!e),Yc.fromTimestamp(function(e){const t=Pu(e);return new Gc(t.seconds,t.nanos)}(e))}function _f(e,t){return bf(e,t).canonicalString()}function bf(e,t){const n=function(e){return new Jc(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function xf(e){const t=Jc.fromString(e);return Pc(qf(t)),t}function Cf(e,t){return _f(e.databaseId,t.path)}function Ef(e,t){const n=xf(t);if(n.get(1)!==e.databaseId.projectId)throw new Lc(Rc.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Lc(Rc.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new eu(If(n))}function Sf(e,t){return _f(e.databaseId,t)}function kf(e){const t=xf(e);return 4===t.length?Jc.emptyPath():If(t)}function Tf(e){return new Jc(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function If(e){return Pc(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Nf(e,t,n){return{name:Cf(e,t),fields:n.value.mapValue.fields}}function jf(e,t){let n;if(t instanceof Rd)n={update:Nf(e,t.key,t.value)};else if(t instanceof Ud)n={delete:Cf(e,t.key)};else if(t instanceof Ld)n={update:Nf(e,t.key,t.data),updateMask:zf(t.fieldMask)};else{if(!(t instanceof Fd))return jc();n={verify:Cf(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof md)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof gd)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof vd)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof _d)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw jc()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:vf(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:jc()}(e,t.precondition)),n}function Pf(e,t){return{documents:[Sf(e,t.path)]}}function Af(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Sf(e,i);const s=function(e){if(0!==e.length)return Vf(hh.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Uf(e.field),direction:Df(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=mf(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:i}}function Rf(e){let t=kf(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Pc(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=Lf(e);return t instanceof hh&&fh(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new ah(Ff(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,fu(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new ih(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new ih(n,t)}(n.endAt)),Ah(t,i,o,s,a,"F",l,c)}function Lf(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Ff(e.unaryFilter.field);return uh.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Ff(e.unaryFilter.field);return uh.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ff(e.unaryFilter.field);return uh.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Ff(e.unaryFilter.field);return uh.create(i,"!=",{nullValue:"NULL_VALUE"});default:return jc()}}(e):void 0!==e.fieldFilter?function(e){return uh.create(Ff(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return jc()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return hh.create(e.compositeFilter.filters.map((e=>Lf(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return jc()}}(e.compositeFilter.op))}(e):jc()}function Df(e){return hf[e]}function Of(e){return df[e]}function Mf(e){return ff[e]}function Uf(e){return{fieldPath:e.canonicalString()}}function Ff(e){return Zc.fromServerFormat(e.fieldPath)}function Vf(e){return e instanceof uh?function(e){if("=="===e.op){if(Ju(e.value))return{unaryFilter:{field:Uf(e.field),op:"IS_NAN"}};if(Xu(e.value))return{unaryFilter:{field:Uf(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ju(e.value))return{unaryFilter:{field:Uf(e.field),op:"IS_NOT_NAN"}};if(Xu(e.value))return{unaryFilter:{field:Uf(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Uf(e.field),op:Of(e.op),value:e.value}}}(e):e instanceof hh?function(e){const t=e.getFilters().map((e=>Vf(e)));return 1===t.length?t[0]:{compositeFilter:{op:Mf(e.op),filters:t}}}(e):jc()}function zf(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function qf(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Bf{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Yc.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Yc.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Nu.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new Bf(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Bf(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Bf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Bf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Hf{constructor(e){this.ct=e}}function Wf(e){const t=Rf({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Vh(t,t.limit,"L"):t}class Kf{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(Au(e.integerValue));else if("doubleValue"in e){const n=Au(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),pu(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Et(t,20),"string"==typeof n&&(n=Pu(n)),t.At("".concat(n.seconds||"")),t.dt(n.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(Ru(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Et(t,45),t.dt(n.latitude||0),t.dt(n.longitude||0)}else"mapValue"in e?eh(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):jc()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const n=e.fields||{};this.Et(t,55);for(const r of Object.keys(n))this.Rt(r,t),this.It(n[r],t)}wt(e,t){const n=e.values||[];this.Et(t,50);for(const r of n)this.It(r,t)}gt(e,t){this.Et(t,37),eu.fromName(e).path.forEach((e=>{this.Et(t,60),this.St(e,t)}))}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}Kf.bt=new Kf;class Qf{constructor(){this._n=new Gf}addToCollectionParentIndex(e,t){return this._n.add(t),cu.resolve()}getCollectionParents(e,t){return cu.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return cu.resolve()}deleteFieldIndex(e,t){return cu.resolve()}deleteAllFieldIndexes(e){return cu.resolve()}createTargetIndexes(e,t){return cu.resolve()}getDocumentsMatchingTarget(e,t){return cu.resolve(null)}getIndexType(e,t){return cu.resolve(0)}getFieldIndexes(e,t){return cu.resolve([])}getNextCollectionGroupToUpdate(e){return cu.resolve(null)}getMinOffset(e,t){return cu.resolve(iu.min())}getMinOffsetFromCollectionGroup(e,t){return cu.resolve(iu.min())}updateCollectionGroup(e,t,n){return cu.resolve()}updateIndexEntries(e,t){return cu.resolve()}}class Gf{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Su(Jc.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Su(Jc.comparator)).toArray()}}new Uint8Array(0);class Yf{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Yf(e,Yf.DEFAULT_COLLECTION_PERCENTILE,Yf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Yf.DEFAULT_COLLECTION_PERCENTILE=10,Yf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yf.DEFAULT=new Yf(41943040,Yf.DEFAULT_COLLECTION_PERCENTILE,Yf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yf.DISABLED=new Yf(-1,0,0);class Xf{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Xf(0)}static Ln(){return new Xf(-1)}}class Jf{constructor(){this.changes=new Gh((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,rh.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?cu.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class $f{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Zf{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&jd(n.mutation,e,Tu.empty(),Gc.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,sd()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:sd();const r=ed();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=$h();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=ed();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,sd())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Xh();const s=nd(),o=nd();return t.forEach(((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Ld)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),jd(o.mutation,t,o.mutation.getFieldMask(),Gc.now())):s.set(t.key,Tu.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new $f(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=nd();let r=new xu(((e,t)=>e-t)),i=sd();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||Tu.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||sd()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,l=r.value,c=td();l.forEach((e=>{if(!i.has(e)){const r=Id(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,a,c))}return cu.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return eu.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Dh(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):cu.resolve(ed());let o=-1,a=i;return s.next((t=>cu.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?cu.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,sd()))).next((e=>({batchId:o,changes:Zh(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new eu(t)).next((e=>{let t=$h();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=$h();return this.indexManager.getCollectionParents(e,i).next((o=>cu.forEach(o,(o=>{const a=function(e,t){return new Ph(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,rh.newInvalidDocument(r)))}));let n=$h();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&jd(s.mutation,r,Tu.empty(),Gc.now()),Hh(t,r)&&(n=n.insert(e,r))})),n}))}}class ep{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return cu.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:wf(e.createTime)}}(t)),cu.resolve()}getNamedQuery(e,t){return cu.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:Wf(e.bundledQuery),readTime:wf(e.readTime)}}(t)),cu.resolve()}}class tp{constructor(){this.overlays=new xu(eu.comparator),this.hr=new Map}getOverlay(e,t){return cu.resolve(this.overlays.get(t))}getOverlays(e,t){const n=ed();return cu.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),cu.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.hr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.hr.delete(n)),cu.resolve()}getOverlaysForCollection(e,t,n){const r=ed(),i=t.length+1,s=new eu(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return cu.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new xu(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=ed(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=ed(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return cu.resolve(o)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new qd(t,n));let i=this.hr.get(t);void 0===i&&(i=sd(),this.hr.set(t,i)),this.hr.set(t,i.add(n.key))}}class np{constructor(){this.Pr=new Su(rp.Ir),this.Tr=new Su(rp.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const n=new rp(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Ar(new rp(e,t))}Rr(e,t){e.forEach((e=>this.removeReference(e,t)))}Vr(e){const t=new eu(new Jc([])),n=new rp(t,e),r=new rp(t,e+1),i=[];return this.Tr.forEachInRange([n,r],(e=>{this.Ar(e),i.push(e.key)})),i}mr(){this.Pr.forEach((e=>this.Ar(e)))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new eu(new Jc([])),n=new rp(t,e),r=new rp(t,e+1);let i=sd();return this.Tr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new rp(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class rp{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return eu.comparator(e.key,t.key)||Kc(e.pr,t.pr)}static Er(e,t){return Kc(e.pr,t.pr)||eu.comparator(e.key,t.key)}}class ip{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new Su(rp.Ir)}checkEmpty(e){return cu.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Vd(i,t,n,r);this.mutationQueue.push(s);for(const o of r)this.wr=this.wr.add(new rp(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return cu.resolve(s)}lookupMutationBatch(e,t){return cu.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.br(n),i=r<0?0:r;return cu.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return cu.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return cu.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new rp(t,0),r=new rp(t,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([n,r],(e=>{const t=this.Sr(e.pr);i.push(t)})),cu.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Su(Kc);return t.forEach((e=>{const t=new rp(e,0),r=new rp(e,Number.POSITIVE_INFINITY);this.wr.forEachInRange([t,r],(e=>{n=n.add(e.pr)}))})),cu.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;eu.isDocumentKey(i)||(i=i.child(""));const s=new rp(new eu(i),0);let o=new Su(Kc);return this.wr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.pr)),!0)}),s),cu.resolve(this.Dr(o))}Dr(e){const t=[];return e.forEach((e=>{const n=this.Sr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Pc(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.wr;return cu.forEach(t.mutations,(r=>{const i=new rp(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.wr=n}))}Mn(e){}containsKey(e,t){const n=new rp(t,0),r=this.wr.firstAfterOrEqual(n);return cu.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,cu.resolve()}Cr(e,t){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class sp{constructor(e){this.vr=e,this.docs=new xu(eu.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return cu.resolve(n?n.document.mutableCopy():rh.newInvalidDocument(t))}getEntries(e,t){let n=Xh();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():rh.newInvalidDocument(e))})),cu.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Xh();const s=t.path,o=new eu(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||su(ru(o),n)<=0||(r.has(o.key)||Hh(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return cu.resolve(i)}getAllFromCollectionGroup(e,t,n,r){jc()}Fr(e,t){return cu.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new op(this)}getSize(e){return cu.resolve(this.size)}}class op extends Jf{constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.ar.addEntry(e,r)):this.ar.removeEntry(n)})),cu.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}class ap{constructor(e){this.persistence=e,this.Mr=new Gh((e=>Ih(e)),Nh),this.lastRemoteSnapshotVersion=Yc.min(),this.highestTargetId=0,this.Or=0,this.Nr=new np,this.targetCount=0,this.Lr=Xf.Nn()}forEachTarget(e,t){return this.Mr.forEach(((e,n)=>t(n))),cu.resolve()}getLastRemoteSnapshotVersion(e){return cu.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return cu.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),cu.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),cu.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Lr=new Xf(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,cu.resolve()}updateTargetData(e,t){return this.qn(t),cu.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,cu.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Mr.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Mr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),cu.waitFor(i).next((()=>r))}getTargetCount(e){return cu.resolve(this.targetCount)}getTargetData(e,t){const n=this.Mr.get(t)||null;return cu.resolve(n)}addMatchingKeys(e,t,n){return this.Nr.dr(t,n),cu.resolve()}removeMatchingKeys(e,t,n){this.Nr.Rr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),cu.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),cu.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Nr.gr(t);return cu.resolve(n)}containsKey(e,t){return cu.resolve(this.Nr.containsKey(t))}}class lp{constructor(e,t){this.Br={},this.overlays={},this.kr=new du(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new ap(this),this.indexManager=new Qf,this.remoteDocumentCache=function(e){return new sp(e)}((e=>this.referenceDelegate.Kr(e))),this.serializer=new Hf(t),this.$r=new ep(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new tp,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Br[e.toKey()];return n||(n=new ip(t,this.referenceDelegate),this.Br[e.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,n){kc("MemoryPersistence","Starting transaction:",e);const r=new cp(this.kr.next());return this.referenceDelegate.Ur(),n(r).next((e=>this.referenceDelegate.Wr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gr(e,t){return cu.or(Object.values(this.Br).map((n=>()=>n.containsKey(e,t))))}}class cp extends au{constructor(e){super(),this.currentSequenceNumber=e}}class up{constructor(e){this.persistence=e,this.zr=new np,this.jr=null}static Hr(e){return new up(e)}get Jr(){if(this.jr)return this.jr;throw jc()}addReference(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),cu.resolve()}removeReference(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),cu.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),cu.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach((e=>this.Jr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Jr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return cu.forEach(this.Jr,(n=>{const r=eu.fromPath(n);return this.Yr(e,r).next((e=>{e||t.removeEntry(r,Yc.min())}))})).next((()=>(this.jr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Yr(e,t).next((e=>{e?this.Jr.delete(t.toString()):this.Jr.add(t.toString())}))}Kr(e){return 0}Yr(e,t){return cu.or([()=>cu.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}class hp{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.qi=n,this.Qi=r}static Ki(e,t){let n=sd(),r=sd();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new hp(e,t.fromCache,n,r)}}class dp{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class fp{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=Zt()?8:uu(Gt())>0?6:4}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ji(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Hi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new dp;return this.Ji(e,t,n).next((r=>{if(i.result=r,this.Ui)return this.Yi(e,t,n,r.size)}))})).next((()=>i.result))}Yi(e,t,n,r){return n.documentReadCount<this.Wi?(Sc()<=Ln.DEBUG&&kc("QueryEngine","SDK will not create cache indexes for query:",Bh(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),cu.resolve()):(Sc()<=Ln.DEBUG&&kc("QueryEngine","Query:",Bh(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(Sc()<=Ln.DEBUG&&kc("QueryEngine","The SDK decides to create cache indexes for query:",Bh(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mh(t))):cu.resolve())}ji(e,t){if(Lh(t))return cu.resolve(null);let n=Mh(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Vh(t,null,"F"),n=Mh(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=sd(...r);return this.zi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.Zi(t,r);return this.Xi(t,s,i,n.readTime)?this.ji(e,Vh(t,null,"F")):this.es(e,s,t,n)}))))})))))}Hi(e,t,n,r){return Lh(t)||r.isEqual(Yc.min())?cu.resolve(null):this.zi.getDocuments(e,n).next((i=>{const s=this.Zi(t,i);return this.Xi(t,s,n,r)?cu.resolve(null):(Sc()<=Ln.DEBUG&&kc("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Bh(t)),this.es(e,s,t,nu(r,-1)).next((e=>e)))}))}Zi(e,t){let n=new Su(Kh(e));return t.forEach(((t,r)=>{Hh(e,r)&&(n=n.add(r))})),n}Xi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ji(e,t,n){return Sc()<=Ln.DEBUG&&kc("QueryEngine","Using full collection scan to execute query:",Bh(t)),this.zi.getDocumentsMatchingQuery(e,t,iu.min(),n)}es(e,t,n,r){return this.zi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class pp{constructor(e,t,n,r){this.persistence=e,this.ts=t,this.serializer=r,this.ns=new xu(Kc),this.rs=new Gh((e=>Ih(e)),Nh),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(n)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Zf(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ns)))}}function mp(e,t,n,r){return new pp(e,t,n,r)}async function gp(e,t){const n=Ac(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n._s(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let o=sd();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({us:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function yp(e){const t=Ac(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Qr.getLastRemoteSnapshotVersion(e)))}function vp(e,t,n){let r=sd(),i=sd();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Xh();return n.forEach(((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(Yc.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):kc("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{cs:r,ls:i}}))}function wp(e,t){const n=Ac(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function _p(e,t){const n=Ac(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Qr.getTargetData(e,t).next((i=>i?(r=i,cu.resolve(r)):n.Qr.allocateTargetId(e).next((i=>(r=new Bf(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ns.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(e.targetId,e),n.rs.set(t,e.targetId)),e}))}async function bp(e,t,n){const r=Ac(e),i=r.ns.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!hu(e))throw e;kc("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ns=r.ns.remove(t),r.rs.delete(i.target)}function xp(e,t,n){const r=Ac(e);let i=Yc.min(),s=sd();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=Ac(e),i=r.rs.get(n);return void 0!==i?cu.resolve(r.ns.get(i)):r.Qr.getTargetData(t,n)}(r,e,Mh(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.ts.getDocumentsMatchingQuery(e,t,n?i:Yc.min(),n?s:sd()))).next((e=>(Cp(r,Wh(t),e),{documents:e,hs:s})))))}function Cp(e,t,n){let r=e.ss.get(t)||Yc.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ss.set(t,r)}class Ep{constructor(){this.activeTargetIds=ad()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Sp{constructor(){this.no=new Ep,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,n){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Ep,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class kp{io(e){}shutdown(){}}class Tp{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){kc("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){kc("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ip=null;function Np(){return null===Ip?Ip=268435456+Math.round(2147483648*Math.random()):Ip++,"0x"+Ip.toString(16)}const jp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Pp{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}const Ap="WebChannelConnection";class Rp extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.wo=t+"://"+e.host,this.So="projects/".concat(n,"/databases/").concat(r),this.bo="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get Do(){return!1}Co(e,t,n,r,i){const s=Np(),o=this.vo(e,t.toUriEncodedString());kc("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),o,n);const a={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(a,r,i),this.Mo(e,o,a,n).then((t=>(kc("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t)),(t=>{throw Ic("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",o,"request:",n),t}))}xo(e,t,n,r,i,s){return this.Co(e,t,n,r,i)}Fo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Cc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}vo(e,t){const n=jp[e];return"".concat(this.wo,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,t,n,r){const i=Np();return new Promise(((s,o)=>{const a=new uc;a.setWithCredentials(!0),a.listenOnce(fc.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case pc.NO_ERROR:const t=a.getResponseJson();kc(Ap,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case pc.TIMEOUT:kc(Ap,"RPC '".concat(e,"' ").concat(i," timed out")),o(new Lc(Rc.DEADLINE_EXCEEDED,"Request time out"));break;case pc.HTTP_ERROR:const n=a.getStatus();if(kc(Ap,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Rc).indexOf(t)>=0?t:Rc.UNKNOWN}(t.status);o(new Lc(e,t.message))}else o(new Lc(Rc.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Lc(Rc.UNAVAILABLE,"Connection failed."));break;default:jc()}}finally{kc(Ap,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);kc(Ap,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",l,n,15)}))}Oo(e,t,n){const r=Np(),i=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=vc(),o=yc(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.xmlHttpFactory=new hc({})),this.Fo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");kc(Ap,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),a);const u=s.createWebChannel(c,a);let h=!1,d=!1;const f=new Pp({lo:t=>{d?kc(Ap,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(kc(Ap,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),kc(Ap,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},ho:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,dc.EventType.OPEN,(()=>{d||(kc(Ap,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.mo())})),p(u,dc.EventType.CLOSE,(()=>{d||(d=!0,kc(Ap,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.po())})),p(u,dc.EventType.ERROR,(t=>{d||(d=!0,Ic(Ap,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.po(new Lc(Rc.UNAVAILABLE,"The operation could not be completed")))})),p(u,dc.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];Pc(!!i);const s=i,o=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){kc(Ap,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);const t=o.status;let n=function(e){const t=Hd[e];if(void 0!==t)return Qd(t)}(t),i=o.message;void 0===n&&(n=Rc.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),d=!0,f.po(new Lc(n,i)),u.close()}else kc(Ap,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.yo(i)}})),p(o,gc.STAT_EVENT,(t=>{t.stat===mc.PROXY?kc(Ap,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===mc.NOPROXY&&kc(Ap,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.fo()}),0),f}}function Lp(){return"undefined"!=typeof document?document:null}function Dp(e){return new pf(e,!0)}class Op{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.oi=e,this.timerId=t,this.No=n,this.Lo=r,this.Bo=i,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const t=Math.floor(this.ko+this.Uo()),n=Math.max(0,Date.now()-this.Qo),r=Math.max(0,t-n);r>0&&kc("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.ko," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.qo=this.oi.enqueueAfterDelay(this.timerId,r,(()=>(this.Qo=Date.now(),e()))),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class Mp{constructor(e,t,n,r,i,s,o,a){this.oi=e,this.Go=n,this.zo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new Op(e,t)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,(()=>this.r_())))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,t){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,4!==e?this.Yo.reset():t&&t.code===Rc.RESOURCE_EXHAUSTED?(Tc(t.toString()),Tc("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):t&&t.code===Rc.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(t)}__(){}auth(){this.state=1;const e=this.a_(this.jo),t=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.jo===t&&this.u_(n,r)}),(t=>{e((()=>{const e=new Lc(Rc.UNKNOWN,"Fetching auth token failed: "+t.message);return this.c_(e)}))}))}u_(e,t){const n=this.a_(this.jo);this.stream=this.l_(e,t),this.stream.Po((()=>{n((()=>this.listener.Po()))})),this.stream.To((()=>{n((()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,(()=>(this.Xo()&&(this.state=3),Promise.resolve()))),this.listener.To())))})),this.stream.Ao((e=>{n((()=>this.c_(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}e_(){this.state=5,this.Yo.$o((async()=>{this.state=0,this.start()}))}c_(e){return kc("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}a_(e){return t=>{this.oi.enqueueAndForget((()=>this.jo===e?t():(kc("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Up extends Mp{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}l_(e,t){return this.connection.Oo("Listen",e,t)}onMessage(e){this.Yo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:jc()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(Pc(void 0===t||"string"==typeof t),Nu.fromBase64String(t||"")):(Pc(void 0===t||t instanceof Buffer||t instanceof Uint8Array),Nu.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?Rc.UNKNOWN:Qd(e.code);return new Lc(t,e.message||"")}(o);n=new of(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ef(e,r.document.name),s=wf(r.document.updateTime),o=r.document.createTime?wf(r.document.createTime):Yc.min(),a=new th({mapValue:{fields:r.document.fields}}),l=rh.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new rf(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Ef(e,r.document),s=r.readTime?wf(r.readTime):Yc.min(),o=rh.newNoDocument(i,s),a=r.removedTargetIds||[];n=new rf([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Ef(e,r.document),s=r.removedTargetIds||[];n=new rf([],s,i,null)}else{if(!("filter"in t))return jc();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new Bd(r,i),o=e.targetId;n=new sf(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Yc.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Yc.min():t.readTime?wf(t.readTime):Yc.min()}(e);return this.listener.h_(t,n)}P_(e){const t={};t.database=Tf(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=jh(r)?{documents:Pf(e,r)}:{query:Af(e,r)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=yf(e,t.resumeToken);const r=mf(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Yc.min())>0){n.readTime=gf(e,t.snapshotVersion.toTimestamp());const r=mf(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return jc()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.i_(t)}I_(e){const t={};t.database=Tf(this.serializer),t.removeTarget=e,this.i_(t)}}class Fp extends Mp{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,t){return this.connection.Oo("Write",e,t)}onMessage(e){if(Pc(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const t=function(e,t){return e&&e.length>0?(Pc(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?wf(e.updateTime):wf(t);return n.isEqual(Yc.min())&&(n=wf(t)),new Ed(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=wf(e.commitTime);return this.listener.A_(n,t)}return Pc(!e.writeResults||0===e.writeResults.length),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=Tf(this.serializer),this.i_(e)}d_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>jf(this.serializer,e)))};this.i_(t)}}class Vp extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.m_=!1}f_(){if(this.m_)throw new Lc(Rc.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,t,n,r){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,o]=i;return this.connection.Co(e,bf(t,n),r,s,o)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Rc.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Lc(Rc.UNKNOWN,e.toString())}))}xo(e,t,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[o,a]=s;return this.connection.xo(e,bf(t,n),r,o,a,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Rc.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Lc(Rc.UNKNOWN,e.toString())}))}terminate(){this.m_=!0,this.connection.terminate()}}class zp{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve()))))}D_(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.S_("Offline")))}set(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.y_?(Tc(t),this.y_=!1):kc("OnlineStateTracker",t)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class qp{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=i,this.O_.io((e=>{n.enqueueAndForget((async()=>{Jp(this)&&(kc("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Ac(e);t.M_.add(4),await Hp(t),t.N_.set("Unknown"),t.M_.delete(4),await Bp(t)}(this))}))})),this.N_=new zp(n,r)}}async function Bp(e){if(Jp(e))for(const t of e.x_)await t(!0)}async function Hp(e){for(const t of e.x_)await t(!1)}function Wp(e,t){const n=Ac(e);n.F_.has(t.targetId)||(n.F_.set(t.targetId,t),Xp(n)?Yp(n):gm(n).Xo()&&Qp(n,t))}function Kp(e,t){const n=Ac(e),r=gm(n);n.F_.delete(t),r.Xo()&&Gp(n,t),0===n.F_.size&&(r.Xo()?r.n_():Jp(n)&&n.N_.set("Unknown"))}function Qp(e,t){if(e.L_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Yc.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}gm(e).P_(t)}function Gp(e,t){e.L_.xe(t),gm(e).I_(t)}function Yp(e){e.L_=new lf({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.F_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),gm(e).start(),e.N_.w_()}function Xp(e){return Jp(e)&&!gm(e).Zo()&&e.F_.size>0}function Jp(e){return 0===Ac(e).M_.size}function $p(e){e.L_=void 0}async function Zp(e){e.N_.set("Online")}async function em(e){e.F_.forEach(((t,n)=>{Qp(e,t)}))}async function tm(e,t){$p(e),Xp(e)?(e.N_.D_(t),Yp(e)):e.N_.set("Unknown")}async function nm(e,t,n){if(e.N_.set("Online"),t instanceof of&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.F_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.F_.delete(r),e.L_.removeTarget(r))}(e,t)}catch(n){kc("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await rm(e,n)}else if(t instanceof rf?e.L_.Ke(t):t instanceof sf?e.L_.He(t):e.L_.We(t),!n.isEqual(Yc.min()))try{const t=await yp(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.L_.rt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.F_.get(r);i&&e.F_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.F_.get(t);if(!r)return;e.F_.set(t,r.withResumeToken(Nu.EMPTY_BYTE_STRING,r.snapshotVersion)),Gp(e,t);const i=new Bf(r.target,t,n,r.sequenceNumber);Qp(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){kc("RemoteStore","Failed to raise snapshot:",t),await rm(e,t)}}async function rm(e,t,n){if(!hu(t))throw t;e.M_.add(1),await Hp(e),e.N_.set("Offline"),n||(n=()=>yp(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{kc("RemoteStore","Retrying IndexedDB access"),await n(),e.M_.delete(1),await Bp(e)}))}function im(e,t){return t().catch((n=>rm(e,n,t)))}async function sm(e){const t=Ac(e),n=ym(t);let r=t.v_.length>0?t.v_[t.v_.length-1].batchId:-1;for(;om(t);)try{const e=await wp(t.localStore,r);if(null===e){0===t.v_.length&&n.n_();break}r=e.batchId,am(t,e)}catch(e){await rm(t,e)}lm(t)&&cm(t)}function om(e){return Jp(e)&&e.v_.length<10}function am(e,t){e.v_.push(t);const n=ym(e);n.Xo()&&n.E_&&n.d_(t.mutations)}function lm(e){return Jp(e)&&!ym(e).Zo()&&e.v_.length>0}function cm(e){ym(e).start()}async function um(e){ym(e).V_()}async function hm(e){const t=ym(e);for(const n of e.v_)t.d_(n.mutations)}async function dm(e,t,n){const r=e.v_.shift(),i=zd.from(r,t,n);await im(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await sm(e)}async function fm(e,t){t&&ym(e).E_&&await async function(e,t){if(function(e){return Kd(e)&&e!==Rc.ABORTED}(t.code)){const n=e.v_.shift();ym(e).t_(),await im(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await sm(e)}}(e,t),lm(e)&&cm(e)}async function pm(e,t){const n=Ac(e);n.asyncQueue.verifyOperationInProgress(),kc("RemoteStore","RemoteStore received new credentials");const r=Jp(n);n.M_.add(3),await Hp(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.M_.delete(3),await Bp(n)}async function mm(e,t){const n=Ac(e);t?(n.M_.delete(2),await Bp(n)):t||(n.M_.add(2),await Hp(n),n.N_.set("Unknown"))}function gm(e){return e.B_||(e.B_=function(e,t,n){const r=Ac(e);return r.f_(),new Up(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:Zp.bind(null,e),To:em.bind(null,e),Ao:tm.bind(null,e),h_:nm.bind(null,e)}),e.x_.push((async t=>{t?(e.B_.t_(),Xp(e)?Yp(e):e.N_.set("Unknown")):(await e.B_.stop(),$p(e))}))),e.B_}function ym(e){return e.k_||(e.k_=function(e,t,n){const r=Ac(e);return r.f_(),new Fp(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:()=>Promise.resolve(),To:um.bind(null,e),Ao:fm.bind(null,e),R_:hm.bind(null,e),A_:dm.bind(null,e)}),e.x_.push((async t=>{t?(e.k_.t_(),await sm(e)):(await e.k_.stop(),e.v_.length>0&&(kc("RemoteStore","Stopping write stream with ".concat(e.v_.length," pending writes")),e.v_=[]))}))),e.k_}class vm{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Dc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new vm(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Lc(Rc.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wm(e,t){if(Tc("AsyncQueue","".concat(t,": ").concat(e)),hu(e))return new Lc(Rc.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class _m{constructor(e){this.comparator=e?(t,n)=>e(t,n)||eu.comparator(t.key,n.key):(e,t)=>eu.comparator(e.key,t.key),this.keyedMap=$h(),this.sortedSet=new xu(this.comparator)}static emptySet(e){return new _m(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof _m))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new _m;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class bm{constructor(){this.q_=new xu(eu.comparator)}track(e){const t=e.doc.key,n=this.q_.get(t);n?0!==e.type&&3===n.type?this.q_=this.q_.insert(t,e):3===e.type&&1!==n.type?this.q_=this.q_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.q_=this.q_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.q_=this.q_.remove(t):1===e.type&&2===n.type?this.q_=this.q_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):jc():this.q_=this.q_.insert(t,e)}Q_(){const e=[];return this.q_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class xm{constructor(e,t,n,r,i,s,o,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new xm(e,t,_m.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Cm{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some((e=>e.G_()))}}class Em{constructor(){this.queries=new Gh((e=>qh(e)),zh),this.onlineState="Unknown",this.z_=new Set}}async function Sm(e,t){const n=Ac(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.W_()&&t.G_()&&(r=2):(s=new Cm,r=t.G_()?0:1);try{switch(r){case 0:s.K_=await n.onListen(i,!0);break;case 1:s.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=wm(e,"Initialization of query '".concat(Bh(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,s),s.U_.push(t),t.j_(n.onlineState),s.K_&&t.H_(s.K_)&&Nm(n)}async function km(e,t){const n=Ac(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.U_.indexOf(t);e>=0&&(s.U_.splice(e,1),0===s.U_.length?i=t.G_()?0:1:!s.W_()&&t.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Tm(e,t){const n=Ac(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.U_)e.H_(i)&&(r=!0);t.K_=i}}r&&Nm(n)}function Im(e,t,n){const r=Ac(e),i=r.queries.get(t);if(i)for(const s of i.U_)s.onError(n);r.queries.delete(t)}function Nm(e){e.z_.forEach((e=>{e.next()}))}var jm,Pm;(Pm=jm||(jm={})).J_="default",Pm.Cache="cache";class Am{constructor(e,t,n){this.query=e,this.Y_=t,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=n||{}}H_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new xm(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),t=!0):this.ta(e,this.onlineState)&&(this.na(e),t=!0),this.X_=e,t}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let t=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),t=!0),t}ta(e,t){if(!e.fromCache)return!0;if(!this.G_())return!0;const n="Offline"!==t;return(!this.options.ra||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ea(e){if(e.docChanges.length>0)return!0;const t=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}na(e){e=xm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==jm.Cache}}class Rm{constructor(e){this.key=e}}class Lm{constructor(e){this.key=e}}class Dm{constructor(e,t){this.query=e,this.la=t,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=sd(),this.mutatedKeys=sd(),this.Ia=Kh(e),this.Ta=new _m(this.Ia)}get Ea(){return this.la}da(e,t){const n=t?t.Aa:new bm,r=t?t.Ta:this.Ta;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=Hh(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.Ra(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.Ia(u,a)>0||l&&this.Ia(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(o=!0)),f&&(u?(s=s.add(u),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ta:s,Aa:n,Xi:o,mutatedKeys:i}}Ra(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const s=e.Aa.Q_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return jc()}};return n(e)-n(t)}(e.type,t.type)||this.Ia(e.doc,t.doc))),this.Va(n),r=null!=r&&r;const o=t&&!r?this.ma():[],a=0===this.Pa.size&&this.current&&!r?1:0,l=a!==this.ha;return this.ha=a,0!==s.length||l?{snapshot:new xm(this.query,e.Ta,i,s,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),fa:o}:{fa:o}}j_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new bm,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach((e=>this.la=this.la.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.la=this.la.delete(e))),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=sd(),this.Ta.forEach((e=>{this.ga(e.key)&&(this.Pa=this.Pa.add(e.key))}));const t=[];return e.forEach((e=>{this.Pa.has(e)||t.push(new Lm(e))})),this.Pa.forEach((n=>{e.has(n)||t.push(new Rm(n))})),t}pa(e){this.la=e.hs,this.Pa=sd();const t=this.da(e.documents);return this.applyChanges(t,!0)}ya(){return xm.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class Om{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Mm{constructor(e){this.key=e,this.wa=!1}}class Um{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Sa={},this.ba=new Gh((e=>qh(e)),zh),this.Da=new Map,this.Ca=new Set,this.va=new xu(eu.comparator),this.Fa=new Map,this.Ma=new np,this.xa={},this.Oa=new Map,this.Na=Xf.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}async function Fm(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=og(e);let i;const s=r.ba.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=await zm(r,t,n,!0),i}async function Vm(e,t){const n=og(e);await zm(n,t,!0,!1)}async function zm(e,t,n,r){const i=await _p(e.localStore,Mh(t)),s=i.targetId,o=n?e.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await qm(e,t,s,"current"===o,i.resumeToken)),e.isPrimaryClient&&n&&Wp(e.remoteStore,i),a}async function qm(e,t,n,r,i){e.Ba=(t,n,r)=>async function(e,t,n,r){let i=t.view.da(n);i.Xi&&(i=await xp(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.da(n,i)})));const s=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s,o);return eg(e,t.targetId,a.fa),a.snapshot}(e,t,n,r);const s=await xp(e.localStore,t,!0),o=new Dm(t,s.hs),a=o.da(s.documents),l=nf.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=o.applyChanges(a,e.isPrimaryClient,l);eg(e,n,c.fa);const u=new Om(t,n,o);return e.ba.set(t,u),e.Da.has(n)?e.Da.get(n).push(t):e.Da.set(n,[t]),c.snapshot}async function Bm(e,t,n){const r=Ac(e),i=r.ba.get(t),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter((e=>!zh(e,t)))),void r.ba.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await bp(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Kp(r.remoteStore,i.targetId),$m(r,i.targetId)})).catch(lu)):($m(r,i.targetId),await bp(r.localStore,i.targetId,!0))}async function Hm(e,t){const n=Ac(e),r=n.ba.get(t),i=n.Da.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Kp(n.remoteStore,r.targetId))}async function Wm(e,t){const n=Ac(e);try{const e=await function(e,t){const n=Ac(e),r=t.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const o=[];t.targetChanges.forEach(((s,a)=>{const l=i.get(a);if(!l)return;o.push(n.Qr.removeMatchingKeys(e,s.removedDocuments,a).next((()=>n.Qr.addMatchingKeys(e,s.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(Nu.EMPTY_BYTE_STRING,Yc.min()).withLastLimboFreeSnapshotVersion(Yc.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&o.push(n.Qr.updateTargetData(e,c))}));let a=Xh(),l=sd();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(vp(e,s,t.documentUpdates).next((e=>{a=e.cs,l=e.ls}))),!r.isEqual(Yc.min())){const t=n.Qr.getLastRemoteSnapshotVersion(e).next((t=>n.Qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return cu.waitFor(o).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.ns=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Fa.get(t);r&&(Pc(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.wa=!0:e.modifiedDocuments.size>0?Pc(r.wa):e.removedDocuments.size>0&&(Pc(r.wa),r.wa=!1))})),await rg(n,e,t)}catch(e){await lu(e)}}function Km(e,t,n){const r=Ac(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ba.forEach(((n,r)=>{const i=r.view.j_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Ac(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.U_)i.j_(t)&&(r=!0)})),r&&Nm(n)}(r.eventManager,t),e.length&&r.Sa.h_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Qm(e,t,n){const r=Ac(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Fa.get(t),s=i&&i.key;if(s){let e=new xu(eu.comparator);e=e.insert(s,rh.newNoDocument(s,Yc.min()));const n=sd().add(s),i=new tf(Yc.min(),new Map,new xu(Kc),e,n);await Wm(r,i),r.va=r.va.remove(s),r.Fa.delete(t),ng(r)}else await bp(r.localStore,t,!1).then((()=>$m(r,t,n))).catch(lu)}async function Gm(e,t){const n=Ac(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Ac(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=cu.resolve();return s.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);Pc(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=sd();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Jm(n,r,null),Xm(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await rg(n,e)}catch(e){await lu(e)}}async function Ym(e,t,n){const r=Ac(e);try{const e=await function(e,t){const n=Ac(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Pc(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Jm(r,t,n),Xm(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await rg(r,e)}catch(n){await lu(n)}}function Xm(e,t){(e.Oa.get(t)||[]).forEach((e=>{e.resolve()})),e.Oa.delete(t)}function Jm(e,t,n){const r=Ac(e);let i=r.xa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.xa[r.currentUser.toKey()]=i}}function $m(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Da.get(t))e.ba.delete(r),n&&e.Sa.ka(r,n);e.Da.delete(t),e.isPrimaryClient&&e.Ma.Vr(t).forEach((t=>{e.Ma.containsKey(t)||Zm(e,t)}))}function Zm(e,t){e.Ca.delete(t.path.canonicalString());const n=e.va.get(t);null!==n&&(Kp(e.remoteStore,n),e.va=e.va.remove(t),e.Fa.delete(n),ng(e))}function eg(e,t,n){for(const r of n)r instanceof Rm?(e.Ma.addReference(r.key,t),tg(e,r)):r instanceof Lm?(kc("SyncEngine","Document no longer in limbo: "+r.key),e.Ma.removeReference(r.key,t),e.Ma.containsKey(r.key)||Zm(e,r.key)):jc()}function tg(e,t){const n=t.key,r=n.path.canonicalString();e.va.get(n)||e.Ca.has(r)||(kc("SyncEngine","New document in limbo: "+n),e.Ca.add(r),ng(e))}function ng(e){for(;e.Ca.size>0&&e.va.size<e.maxConcurrentLimboResolutions;){const t=e.Ca.values().next().value;e.Ca.delete(t);const n=new eu(Jc.fromString(t)),r=e.Na.next();e.Fa.set(r,new Mm(n)),e.va=e.va.insert(n,r),Wp(e.remoteStore,new Bf(Mh(Rh(n.path)),r,"TargetPurposeLimboResolution",du.oe))}}async function rg(e,t,n){const r=Ac(e),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach(((e,a)=>{o.push(r.Ba(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient){const t=e&&!e.fromCache;r.sharedClientState.updateQueryState(a.targetId,t?"current":"not-current")}if(e){i.push(e);const t=hp.Ki(a.targetId,e);s.push(t)}})))})),await Promise.all(o),r.Sa.h_(i),await async function(e,t){const n=Ac(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>cu.forEach(t,(t=>cu.forEach(t.qi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>cu.forEach(t.Qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!hu(e))throw e;kc("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ns.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ns=n.ns.insert(e,i)}}}(r.localStore,s))}async function ig(e,t){const n=Ac(e);if(!n.currentUser.isEqual(t)){kc("SyncEngine","User change. New user:",t.toKey());const e=await gp(n.localStore,t);n.currentUser=t,function(e,t){e.Oa.forEach((e=>{e.forEach((e=>{e.reject(new Lc(Rc.CANCELLED,t))}))})),e.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await rg(n,e.us)}}function sg(e,t){const n=Ac(e),r=n.Fa.get(t);if(r&&r.wa)return sd().add(r.key);{let e=sd();const r=n.Da.get(t);if(!r)return e;for(const t of r){const r=n.ba.get(t);e=e.unionWith(r.view.Ea)}return e}}function og(e){const t=Ac(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Wm.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=sg.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Qm.bind(null,t),t.Sa.h_=Tm.bind(null,t.eventManager),t.Sa.ka=Im.bind(null,t.eventManager),t}function ag(e){const t=Ac(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Gm.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Ym.bind(null,t),t}class lg{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Dp(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return mp(this.persistence,new fp,e.initialUser,this.serializer)}createPersistence(e){return new lp(up.Hr,this.serializer)}createSharedClientState(e){return new Sp}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class cg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Km(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=ig.bind(null,this.syncEngine),await mm(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Em}createDatastore(e){const t=Dp(e.databaseInfo.databaseId),n=function(e){return new Rp(e)}(e.databaseInfo);return function(e,t,n,r){return new Vp(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new qp(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Km(this.syncEngine,e,0)),Tp.D()?new Tp:new kp)}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new Um(e,t,n,r,i,s);return o&&(a.La=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await async function(e){const t=Ac(e);kc("RemoteStore","RemoteStore shutting down."),t.M_.add(5),await Hp(t),t.O_.shutdown(),t.N_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate()}}class ug{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Tc("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class hg{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=xc.UNAUTHENTICATED,this.clientId=Wc.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{kc("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(kc("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Lc(Rc.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Dc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=wm(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function dg(e,t){e.asyncQueue.verifyOperationInProgress(),kc("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await gp(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function fg(e,t){e.asyncQueue.verifyOperationInProgress();const n=await mg(e);kc("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>pm(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>pm(t.remoteStore,n))),e._onlineComponents=t}function pg(e){return"FirebaseError"===e.name?e.code===Rc.FAILED_PRECONDITION||e.code===Rc.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function mg(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){kc("FirestoreClient","Using user provided OfflineComponentProvider");try{await dg(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!pg(n))throw n;Ic("Error using user provided cache. Falling back to memory cache: "+n),await dg(e,new lg)}}else kc("FirestoreClient","Using default OfflineComponentProvider"),await dg(e,new lg);return e._offlineComponents}async function gg(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(kc("FirestoreClient","Using user provided OnlineComponentProvider"),await fg(e,e._uninitializedComponentsProvider._online)):(kc("FirestoreClient","Using default OnlineComponentProvider"),await fg(e,new cg))),e._onlineComponents}function yg(e){return gg(e).then((e=>e.syncEngine))}async function vg(e){const t=await gg(e),n=t.eventManager;return n.onListen=Fm.bind(null,t.syncEngine),n.onUnlisten=Bm.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Vm.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Hm.bind(null,t.syncEngine),n}function wg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Dc;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new ug({next:s=>{t.enqueueAndForget((()=>km(e,o)));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new Lc(Rc.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new Lc(Rc.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new Am(Rh(n.path),s,{includeMetadataChanges:!0,ra:!0});return Sm(e,o)}(await vg(e),e.asyncQueue,t,n,r))),r.promise}function _g(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Dc;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new ug({next:n=>{t.enqueueAndForget((()=>km(e,o))),n.fromCache&&"server"===r.source?i.reject(new Lc(Rc.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new Am(n,s,{includeMetadataChanges:!0,ra:!0});return Sm(e,o)}(await vg(e),e.asyncQueue,t,n,r))),r.promise}function bg(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const xg=new Map;function Cg(e,t,n){if(!n)throw new Lc(Rc.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Eg(e){if(!eu.isDocumentKey(e))throw new Lc(Rc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Sg(e){if(eu.isDocumentKey(e))throw new Lc(Rc.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function kg(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":jc()}function Tg(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Lc(Rc.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=kg(e);throw new Lc(Rc.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class Ig{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Lc(Rc.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Lc(Rc.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Lc(Rc.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bg(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Lc(Rc.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Lc(Rc.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Lc(Rc.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ng{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ig({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Lc(Rc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Lc(Rc.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ig(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Mc;switch(e.type){case"firstParty":return new zc(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Lc(Rc.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=xg.get(e);t&&(kc("ComponentProvider","Removing Datastore"),xg.delete(e),t.terminate())}(this),Promise.resolve()}}class jg{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new jg(this.firestore,e,this._query)}}class Pg{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ag(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pg(this.firestore,e,this._key)}}class Ag extends jg{constructor(e,t,n){super(e,t,Rh(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pg(this.firestore,null,new eu(e))}withConverter(e){return new Ag(this.firestore,e,this._path)}}function Rg(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=In(e),Cg("collection","path",t),e instanceof Ng){const n=Jc.fromString(t,...r);return Sg(n),new Ag(e,null,n)}{if(!(e instanceof Pg||e instanceof Ag))throw new Lc(Rc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Jc.fromString(t,...r));return Sg(n),new Ag(e.firestore,null,n)}}function Lg(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=In(e),1===arguments.length&&(t=Wc.newId()),Cg("doc","path",t),e instanceof Ng){const n=Jc.fromString(t,...r);return Eg(n),new Pg(e,null,new eu(n))}{if(!(e instanceof Pg||e instanceof Ag))throw new Lc(Rc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Jc.fromString(t,...r));return Eg(n),new Pg(e.firestore,e instanceof Ag?e.converter:null,new eu(n))}}class Dg{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new Op(this,"async_queue_retry"),this.hu=()=>{const e=Lp();e&&kc("AsyncQueue","Visibility state changed to "+e.visibilityState),this.Yo.Wo()};const e=Lp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const t=Lp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise((()=>{}));const t=new Dc;return this.Iu((()=>this.ou&&this.cu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.su.push(e),this.Tu())))}async Tu(){if(0!==this.su.length){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(kS){if(!hu(kS))throw kS;kc("AsyncQueue","Operation failed with retryable error: "+kS)}this.su.length>0&&this.Yo.$o((()=>this.Tu()))}}Iu(e){const t=this.iu.then((()=>(this.uu=!0,e().catch((e=>{this.au=e,this.uu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Tc("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.uu=!1,e))))));return this.iu=t,t}enqueueAfterDelay(e,t,n){this.Pu(),this.lu.indexOf(e)>-1&&(t=0);const r=vm.createAndSchedule(this,e,t,n,(e=>this.Eu(e)));return this._u.push(r),r}Pu(){this.au&&jc()}verifyOperationInProgress(){}async du(){let e;do{e=this.iu,await e}while(e!==this.iu)}Au(e){for(const t of this._u)if(t.timerId===e)return!0;return!1}Ru(e){return this.du().then((()=>{this._u.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this._u)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.du()}))}Vu(e){this.lu.push(e)}Eu(e){const t=this._u.indexOf(e);this._u.splice(t,1)}}function Og(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class Mg extends Ng{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Dg,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Vg(this),this._firestoreClient.terminate()}}function Ug(e,t){const n="string"==typeof e?e:t||"(default)",r=Vr("object"==typeof e?e:Kr(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=Bt("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=Tg(e,Ng))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==o&&Ic("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=xc.MOCK_USER;else{t=Qt(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Lc(Rc.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new xc(s)}e._authCredentials=new Uc(new Oc(t,n))}}(r,...e)}return r}function Fg(e){return e._firestoreClient||Vg(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Vg(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new Mu(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,bg(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new hg(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class zg{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zg(Nu.fromBase64String(e))}catch(e){throw new Lc(Rc.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new zg(Nu.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class qg{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Lc(Rc.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zc(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Bg{constructor(e){this._methodName=e}}class Hg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Lc(Rc.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Lc(Rc.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Kc(this._lat,e._lat)||Kc(this._long,e._long)}}const Wg=/^__.*__$/;class Kg{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Ld(e,this.data,this.fieldMask,t,this.fieldTransforms):new Rd(e,this.data,t,this.fieldTransforms)}}class Qg{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Ld(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Gg(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw jc()}}class Yg{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.mu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new Yg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.gu({path:n,yu:!1});return r.wu(e),r}Su(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.gu({path:n,yu:!1});return r.mu(),r}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return hy(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(0===e.length)throw this.Du("Document fields must not be empty");if(Gg(this.fu)&&Wg.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class Xg{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Dp(e)}Fu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Yg({fu:e,methodName:t,vu:n,path:Zc.emptyPath(),yu:!1,Cu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jg(e){const t=e._freezeSettings(),n=Dp(e._databaseId);return new Xg(e._databaseId,!!t.ignoreUndefinedProperties,n)}function $g(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.Fu(s.merge||s.mergeFields?2:0,t,n,i);ay("Data must be an object, but it was:",o,r);const a=sy(r,o);let l,c;if(s.merge)l=new Tu(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=ly(t,r,n);if(!o.contains(i))throw new Lc(Rc.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));dy(e,i)||e.push(i)}l=new Tu(e),c=o.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=o.fieldTransforms;return new Kg(new th(a),l,c)}class Zg extends Bg{_toFieldTransform(e){if(2!==e.fu)throw 1===e.fu?e.Du("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Du("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zg}}class ey extends Bg{constructor(e,t){super(e),this.xu=t}_toFieldTransform(e){const t=new _d(e.serializer,ud(e.serializer,this.xu));return new Cd(e.path,t)}isEqual(e){return e instanceof ey&&this.xu===e.xu}}function ty(e,t,n,r){const i=e.Fu(1,t,n);ay("Data must be an object, but it was:",i,r);const s=[],o=th.empty();_u(r,((e,r)=>{const a=uy(t,e,n);r=In(r);const l=i.Su(a);if(r instanceof Zg)s.push(a);else{const e=iy(r,l);null!=e&&(s.push(a),o.set(a,e))}}));const a=new Tu(s);return new Qg(o,a,i.fieldTransforms)}function ny(e,t,n,r,i,s){const o=e.Fu(1,t,n),a=[ly(t,r,n)],l=[i];if(s.length%2!=0)throw new Lc(Rc.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<s.length;d+=2)a.push(ly(t,s[d])),l.push(s[d+1]);const c=[],u=th.empty();for(let d=a.length-1;d>=0;--d)if(!dy(c,a[d])){const e=a[d];let t=l[d];t=In(t);const n=o.Su(e);if(t instanceof Zg)c.push(e);else{const r=iy(t,n);null!=r&&(c.push(e),u.set(e,r))}}const h=new Tu(c);return new Qg(u,h,o.fieldTransforms)}function ry(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return iy(n,e.Fu(r?4:3,t))}function iy(e,t){if(oy(e=In(e)))return ay("Unsupported field value:",t,e),sy(e,t);if(e instanceof Bg)return function(e,t){if(!Gg(t.fu))throw t.Du("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Du("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.yu&&4!==t.fu)throw t.Du("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=iy(i,t.bu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=In(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ud(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Gc.fromDate(e);return{timestampValue:gf(t.serializer,n)}}if(e instanceof Gc){const n=new Gc(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:gf(t.serializer,n)}}if(e instanceof Hg)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof zg)return{bytesValue:yf(t.serializer,e._byteString)};if(e instanceof Pg){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Du("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:_f(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Du("Unsupported field value: ".concat(kg(e)))}(e,t)}function sy(e,t){const n={};return bu(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):_u(e,((e,r)=>{const i=iy(r,t.pu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function oy(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Gc||e instanceof Hg||e instanceof zg||e instanceof Pg||e instanceof Bg)}function ay(e,t,n){if(!oy(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=kg(n);throw"an object"===r?t.Du(e+" a custom object"):t.Du(e+" "+r)}}function ly(e,t,n){if((t=In(t))instanceof qg)return t._internalPath;if("string"==typeof t)return uy(e,t);throw hy("Field path arguments must be of type string or ",e,!1,void 0,n)}const cy=new RegExp("[~\\*/\\[\\]]");function uy(e,t,n){if(t.search(cy)>=0)throw hy("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new qg(...t.split("."))._internalPath}catch(r){throw hy("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function hy(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=" in field ".concat(r)),o&&(l+=" in document ".concat(i)),l+=")"),new Lc(Rc.INVALID_ARGUMENT,a+e+l)}function dy(e,t){return e.some((e=>e.isEqual(t)))}class fy{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Pg(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new py(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(my("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class py extends fy{data(){return super.data()}}function my(e,t){return"string"==typeof t?uy(e,t):t instanceof qg?t._internalPath:t._delegate._internalPath}function gy(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Lc(Rc.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yy{}class vy extends yy{}function wy(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof yy&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof xy)).length,n=e.filter((e=>e instanceof _y)).length;if(t>1||t>0&&n>0)throw new Lc(Rc.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)e=o._apply(e);return e}class _y extends vy{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new _y(e,t,n)}_apply(e){const t=this._parse(e);return ky(e._query,t),new jg(e.firestore,e.converter,Fh(e._query,t))}_parse(e){const t=Jg(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Lc(Rc.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){Sy(o,s);const t=[];for(const n of o)t.push(Ey(r,e,n));a={arrayValue:{values:t}}}else a=Ey(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Sy(o,s),a=ry(n,t,o,"in"===s||"not-in"===s);return uh.create(i,s,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function by(e,t,n){const r=t,i=my("where",e);return _y._create(i,r,n)}class xy extends yy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new xy(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:hh.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)ky(n,i),n=Fh(n,i)}(e._query,t),new jg(e.firestore,e.converter,Fh(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Cy extends vy{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Cy(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Lc(Rc.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Lc(Rc.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ah(t,n)}(e._query,this._field,this._direction);return new jg(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Ph(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function Ey(e,t,n){if("string"==typeof(n=In(n))){if(""===n)throw new Lc(Rc.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Dh(t)&&-1!==n.indexOf("/"))throw new Lc(Rc.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(Jc.fromString(n));if(!eu.isDocumentKey(r))throw new Lc(Rc.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Qu(e,new eu(r))}if(n instanceof Pg)return Qu(e,n._key);throw new Lc(Rc.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(kg(n),"."))}function Sy(e,t){if(!Array.isArray(e)||0===e.length)throw new Lc(Rc.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function ky(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Lc(Rc.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Lc(Rc.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class Ty{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Vu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Au(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ru(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw jc()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return _u(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new Hg(Au(e.latitude),Au(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Du(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ou(e));default:return null}}convertTimestamp(e){const t=Pu(e);return new Gc(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Jc.fromString(e);Pc(qf(n));const r=new Uu(n.get(1),n.get(3)),i=new eu(n.popFirst(5));return r.isEqual(t)||Tc("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function Iy(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Ny{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class jy extends fy{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Py(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(my("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Py extends jy{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Ay{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Ny(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Py(this._firestore,this._userDataWriter,n.key,n,new Ny(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Lc(Rc.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new Py(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Ny(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Py(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Ny(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:Ry(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Ry(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return jc()}}function Ly(e){e=Tg(e,Pg);const t=Tg(e.firestore,Mg);return wg(Fg(t),e._key).then((n=>qy(t,e,n)))}class Dy extends Ty{constructor(e){super(),this.firestore=e}convertBytes(e){return new zg(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Pg(this.firestore,null,t)}}function Oy(e){e=Tg(e,jg);const t=Tg(e.firestore,Mg),n=Fg(t),r=new Dy(t);return gy(e._query),_g(n,e._query).then((n=>new Ay(t,r,e,n)))}function My(e,t,n){e=Tg(e,Pg);const r=Tg(e.firestore,Mg),i=Iy(e.converter,t,n);return zy(r,[$g(Jg(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Sd.none())])}function Uy(e,t,n){e=Tg(e,Pg);const r=Tg(e.firestore,Mg),i=Jg(r);let s;for(var o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];return s="string"==typeof(t=In(t))||t instanceof qg?ny(i,"updateDoc",e._key,t,n,a):ty(i,"updateDoc",e._key,t),zy(r,[s.toMutation(e._key,Sd.exists(!0))])}function Fy(e){return zy(Tg(e.firestore,Mg),[new Ud(e._key,Sd.none())])}function Vy(e,t){const n=Tg(e.firestore,Mg),r=Lg(e),i=Iy(e.converter,t);return zy(n,[$g(Jg(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Sd.exists(!1))]).then((()=>r))}function zy(e,t){return function(e,t){const n=new Dc;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=ag(e);try{const e=await function(e,t){const n=Ac(e),r=Gc.now(),i=t.reduce(((e,t)=>e.add(t.key)),sd());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=Xh(),l=sd();return n.os.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{s=i;const o=[];for(const e of t){const t=Pd(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new Ld(e.key,t,nh(t.value.mapValue),Sd.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:Zh(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.xa[e.currentUser.toKey()];r||(r=new xu(Kc)),r=r.insert(t,n),e.xa[e.currentUser.toKey()]=r}(r,e.batchId,n),await rg(r,e.changes),await sm(r.remoteStore)}catch(e){const t=wm(e,"Failed to persist write");n.reject(t)}}(await yg(e),t,n))),n.promise}(Fg(e),t)}function qy(e,t,n){const r=n.docs.get(t._key),i=new Dy(e);return new jy(e,i,t._key,r,new Ny(n.hasPendingWrites,n.fromCache),t.converter)}function By(e){return new ey("increment",e)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Cc=e}(Hr),Fr(new Nn("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),o=new Mg(new Fc(e.getProvider("auth-internal")),new Bc(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Lc(Rc.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Uu(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Qr(bc,"4.6.3",e),Qr(bc,"4.6.3","esm2017")}();const Hy="firebasestorage.googleapis.com",Wy="storageBucket";class Ky extends nn{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(Yy(e),"Firebase Storage: ".concat(t," (").concat(Yy(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ky.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Yy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var Qy,Gy;function Yy(e){return"storage/"+e}function Xy(){return new Ky(Qy.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Jy(){return new Ky(Qy.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function $y(){return new Ky(Qy.CANCELED,"User canceled the upload/download.")}function Zy(){return new Ky(Qy.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function ev(e){return new Ky(Qy.INVALID_ARGUMENT,e)}function tv(){return new Ky(Qy.APP_DELETED,"The Firebase app was deleted.")}function nv(e,t){return new Ky(Qy.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function rv(e){throw new Ky(Qy.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Qy||(Qy={}));class iv{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=iv.makeFromUrl(e,t)}catch(kS){return new iv(e,"")}if(""===n.path)return n;throw r=e,new Ky(Qy.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}const o=t.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(o,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://".concat(t===Hy?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:s}];for(let l=0;l<a.length;l++){const t=a[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new iv(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new Ky(Qy.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class sv{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function ov(e){return"string"===typeof e||e instanceof String}function av(e){return lv()&&e instanceof Blob}function lv(){return"undefined"!==typeof Blob}function cv(e,t,n,r){if(r<t)throw ev("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw ev("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function uv(e,t,n){let r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function hv(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function dv(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Gy||(Gy={}));class fv{constructor(e,t,n,r,i,s,o,a,l,c,u){let h=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new pv(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===Gy.NO_ERROR,i=n.getStatus();if(!t||dv(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===Gy.ABORT;return void e(!1,new pv(!1,null,t))}const s=-1!==this.successCodes_.indexOf(i);e(!0,new pv(s,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(kS){r(kS)}else if(null!==i){const e=Xy();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?tv():$y())}else{r(Jy())}};this.canceled_?t(0,new pv(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return 2===a}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function h(t){i=setTimeout((()=>{i=null,e(f,l())}),t)}function d(){s&&clearTimeout(s)}function f(e){if(c)return void d();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return d(),void u.call(null,e,...n);if(l()||o)return d(),void u.call(null,e,...n);let s;r<64&&(r*=2),1===a?(a=2,s=0):s=1e3*(r+Math.random()),h(s)}let p=!1;function m(e){p||(p=!0,d(),c||(null!==i?(e||(a=2),clearTimeout(i),h(0)):e||(a=1)))}return h(0),s=setTimeout((()=>{o=!0,m(!0)}),n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class pv{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function mv(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function gv(){const e=mv();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(lv())return new Blob(n);throw new Ky(Qy.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function yv(e){if("undefined"===typeof atob)throw t="base-64",new Ky(Qy.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const vv={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class wv{constructor(e,t){this.data=e,this.contentType=t||null}}function _v(e,t){switch(e){case vv.RAW:return new wv(bv(t));case vv.BASE64:case vv.BASE64URL:return new wv(xv(e,t));case vv.DATA_URL:return new wv(function(e){const t=new Cv(e);return t.base64?xv(vv.BASE64,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(kS){throw nv(vv.DATA_URL,"Malformed data URL.")}return bv(t)}(t.rest)}(t),new Cv(t).contentType)}throw Xy()}function bv(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function xv(e,t){switch(e){case vv.BASE64:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw nv(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case vv.BASE64URL:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw nv(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=yv(t)}catch(kS){if(kS.message.includes("polyfill"))throw kS;throw nv(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class Cv{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw nv(vv.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class Ev{constructor(e,t){let n=0,r="";av(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(av(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new Ev(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new Ev(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(lv()){const e=t.map((e=>e instanceof Ev?e.data_:e));return new Ev(gv.apply(null,e))}{const e=t.map((e=>ov(e)?_v(vv.RAW,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new Ev(r,!0)}}uploadData(){return this.data_}}function Sv(e){let t;try{t=JSON.parse(e)}catch(kS){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function kv(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Tv(e,t){return t}class Iv{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||Tv}}let Nv=null;function jv(){if(Nv)return Nv;const e=[];e.push(new Iv("bucket")),e.push(new Iv("generation")),e.push(new Iv("metageneration")),e.push(new Iv("name","fullPath",!0));const t=new Iv("name");t.xform=function(e,t){return function(e){return!ov(e)||e.length<2?e:kv(e)}(t)},e.push(t);const n=new Iv("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Iv("timeCreated")),e.push(new Iv("updated")),e.push(new Iv("md5Hash",null,!0)),e.push(new Iv("cacheControl",null,!0)),e.push(new Iv("contentDisposition",null,!0)),e.push(new Iv("contentEncoding",null,!0)),e.push(new Iv("contentLanguage",null,!0)),e.push(new Iv("contentType",null,!0)),e.push(new Iv("metadata","customMetadata",!0)),Nv=e,Nv}function Pv(e,t,n){const r={type:"file"},i=n.length;for(let s=0;s<i;s++){const e=n[s];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new iv(n,r);return t._makeStorageReference(i)}})}(r,e),r}function Av(e,t,n){const r=Sv(t);if(null===r)return null;return Pv(e,r,n)}function Rv(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class Lv{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Dv(e){if(!e)throw Xy()}function Ov(e,t){return function(n,r){const i=Av(e,r,t);return Dv(null!==i),i}}function Mv(e,t){return function(n,r){const i=Av(e,r,t);return Dv(null!==i),function(e,t,n,r){const i=Sv(t);if(null===i)return null;if(!ov(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const o=encodeURIComponent;return s.split(",").map((t=>{const i=e.bucket,s=e.fullPath;return uv("/b/"+o(i)+"/o/"+o(s),n,r)+hv({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function Uv(e){return function(t,n){let r;var i,s;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new Ky(Qy.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new Ky(Qy.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(s=e.bucket,r=new Ky(Qy.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new Ky(Qy.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function Fv(e){const t=Uv(e);return function(n,r){let i=t(n,r);var s;return 404===n.getStatus()&&(s=e.path,i=new Ky(Qy.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function Vv(e,t,n){const r=uv(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new Lv(r,"GET",Ov(e,n),i);return s.errorHandler=Fv(t),s}function zv(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function qv(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};const a=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+a;const l=zv(t,r,i),c="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Rv(l,n)+"\r\n--"+a+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+a+"--",h=Ev.getBlob(c,r,u);if(null===h)throw Zy();const d={name:l.fullPath},f=uv(s,e.host,e._protocol),p=e.maxUploadRetryTime,m=new Lv(f,"POST",Ov(e,n),p);return m.urlParams=d,m.headers=o,m.body=h.uploadData(),m.errorHandler=Uv(t),m}class Bv{constructor(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null}}function Hv(e,t){let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(kS){Dv(!1)}return Dv(!!n&&-1!==(t||["active"]).indexOf(n)),n}const Wv=262144;function Kv(e,t,n,r,i,s,o,a){const l=new Bv(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw new Ky(Qy.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");const c=l.total-l.current;let u=c;i>0&&(u=Math.min(u,i));const h=l.current,d=h+u;let f="";f=0===u?"finalize":c===u?"upload, finalize":"upload";const p={"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":"".concat(l.current)},m=r.slice(h,d);if(null===m)throw Zy();const g=t.maxUploadRetryTime,y=new Lv(n,"POST",(function(e,n){const i=Hv(e,["active","final"]),o=l.current+u,a=r.size();let c;return c="final"===i?Ov(t,s)(e,n):null,new Bv(o,a,"final"===i,c)}),g);return y.headers=p,y.body=m.uploadData(),y.progressCallback=a||null,y.errorHandler=Uv(e),y}const Qv="running",Gv="paused",Yv="success",Xv="canceled",Jv="error";function $v(e){switch(e){case"running":case"pausing":case"canceling":return Qv;case"paused":return Gv;case"success":return Yv;case"canceled":return Xv;default:return Jv}}class Zv{constructor(e,t,n){const r=function(e){return"function"===typeof e}(e)||null!=t||null!=n;if(r)this.next=e,this.error=null!==t&&void 0!==t?t:void 0,this.complete=null!==n&&void 0!==n?n:void 0;else{const t=e;this.next=t.next,this.error=t.error,this.complete=t.complete}}}function ew(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((()=>e(...n)))}}let tw=null;class nw{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Gy.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=Gy.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=Gy.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw rv("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw rv("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw rv("cannot .getStatus() before sending");try{return this.xhr_.status}catch(kS){return-1}}getResponse(){if(!this.sent_)throw rv("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw rv("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class rw extends nw{initXhr(){this.xhr_.responseType="text"}}function iw(){return tw?tw():new rw}class sw{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=jv(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=e=>{if(this._request=void 0,this._chunkMultiplier=1,e._codeEquals(Qy.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const t=this.isExponentialBackoffExpired();if(dv(e.status,[])){if(!t)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();e=Jy()}this._error=e,this._transition("error")}},this._metadataErrorHandler=e=>{this._request=void 0,e._codeEquals(Qy.CANCELED)?this.completeTransitions_():(this._error=e,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t,this._start()})),this._promise.then(null,(()=>{}))}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((()=>{this.pendingTimeout=void 0,this._continueUpload()}),this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((t=>{let[n,r]=t;switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}}))}_createResumable(){this._resolveToken(((e,t)=>{const n=function(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o=zv(t,r,i),a={name:o.fullPath},l=uv(s,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},u=Rv(o,n),h=e.maxUploadRetryTime,d=new Lv(l,"POST",(function(e){let t;Hv(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(kS){Dv(!1)}return Dv(ov(t)),t}),h);return d.urlParams=a,d.headers=c,d.body=u,d.errorHandler=Uv(t),d}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,iw,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._uploadUrl=e,this._needToFetchStatus=!1,this.completeTransitions_()}),this._errorHandler)}))}_fetchStatus(){const e=this._uploadUrl;this._resolveToken(((t,n)=>{const r=function(e,t,n,r){const i=e.maxUploadRetryTime,s=new Lv(n,"POST",(function(e){const t=Hv(e,["active","final"]);let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(kS){Dv(!1)}n||Dv(!1);const i=Number(n);return Dv(!isNaN(i)),new Bv(i,r.size(),"final"===t)}),i);return s.headers={"X-Goog-Upload-Command":"query"},s.errorHandler=Uv(t),s}(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(r,iw,t,n);this._request=i,i.getPromise().then((e=>{this._request=void 0,this._updateProgress(e.current),this._needToFetchStatus=!1,e.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()}),this._errorHandler)}))}_continueUpload(){const e=Wv*this._chunkMultiplier,t=new Bv(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken(((r,i)=>{let s;try{s=Kv(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(kS){return this._error=kS,void this._transition("error")}const o=this._ref.storage._makeRequest(s,iw,r,i,!1);this._request=o,o.getPromise().then((e=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(e.current),e.finalized?(this._metadata=e.metadata,this._transition("success")):this.completeTransitions_()}),this._errorHandler)}))}_increaseMultiplier(){2*(Wv*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken(((e,t)=>{const n=Vv(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(n,iw,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._transition("success")}),this._metadataErrorHandler)}))}_oneShotUpload(){this._resolveToken(((e,t)=>{const n=qv(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,iw,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._updateProgress(this._blob.size()),this._transition("success")}),this._errorHandler)}))}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=$y(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=$v(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,n,r){const i=new Zv(t||void 0,n||void 0,r||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise();this._observers.slice().forEach((e=>{this._notifyObserver(e)}))}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch($v(this._state)){case Yv:ew(this._resolve.bind(null,this.snapshot))();break;case Xv:case Jv:ew(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch($v(this._state)){case Qv:case Gv:e.next&&ew(e.next.bind(e,this.snapshot))();break;case Yv:e.complete&&ew(e.complete.bind(e))();break;default:e.error&&ew(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class ow{constructor(e,t){this._service=e,this._location=t instanceof iv?t:iv.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new ow(e,t)}get root(){const e=new iv(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return kv(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new iv(this._location.bucket,e);return new ow(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new Ky(Qy.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function aw(e,t,n){e._throwIfRoot("uploadBytes");const r=qv(e.storage,e._location,jv(),new Ev(t,!0),n);return e.storage.makeRequestWithTokens(r,iw).then((t=>({metadata:t,ref:e})))}function lw(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=uv(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new Lv(r,"GET",Mv(e,n),i);return s.errorHandler=Fv(t),s}(e.storage,e._location,jv());return e.storage.makeRequestWithTokens(t,iw).then((e=>{if(null===e)throw new Ky(Qy.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function cw(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new iv(e._location.bucket,n);return new ow(e.storage,r)}function uw(e,t){if(e instanceof fw){const n=e;if(null==n._bucket)throw new Ky(Qy.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Wy+"' property when initializing the app?");const r=new ow(n,n._bucket);return null!=t?uw(r,t):r}return void 0!==t?cw(e,t):e}function hw(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof fw)return new ow(e,t);throw ev("To use ref(service, url), the first argument must be a Storage instance.")}return uw(e,t)}function dw(e,t){const n=null===t||void 0===t?void 0:t[Wy];return null==n?null:iv.makeFromBucketSpec(n,e)}class fw{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=Hy,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?iv.makeFromBucketSpec(r,this._host):dw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=iv.makeFromBucketSpec(this._url,e):this._bucket=dw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){cv("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){cv("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ow(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new sv(tv());{const s=function(e,t,n,r,i,s){let o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const a=hv(e.urlParams),l=e.url+a,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,s),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new fv(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then((()=>this._requests.delete(s)),(()=>this._requests.delete(s))),s}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const pw="@firebase/storage",mw="0.12.5",gw="storage";function yw(e,t,n){return aw(e=In(e),t,n)}function vw(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new sw(e,new Ev(t),n)}(e=In(e),t,n)}function ww(e){return lw(e=In(e))}function _w(e,t){return hw(e=In(e),t)}function bw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kr(),t=arguments.length>1?arguments[1]:void 0;e=In(e);const n=Vr(e,gw).getImmediate({identifier:t}),r=Bt("storage");return r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:Qt(i,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}function xw(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new fw(r,i,s,n,Hr)}Fr(new Nn(gw,xw,"PUBLIC").setMultipleInstances(!0)),Qr(pw,mw,""),Qr(pw,mw,"esm2017");const Cw=Wr({apiKey:"AIzaSyB8ubed1ynMOgPDQnfGmY9y0hVg9tuaUKk",authDomain:"tekmiz-5e01f.firebaseapp.com",projectId:"tekmiz-5e01f",storageBucket:"tekmiz-5e01f.appspot.com",messagingSenderId:"632570377499",appId:"1:632570377499:web:e9094a5ed5dbc518d0cfbe",measurementId:"G-NKTXB35L9Y"}),Ew=(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kr();e=In(e);const t=Vr(e,Cl);t.isInitialized()?t.getImmediate():function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Vr(e,Cl);if(n.isInitialized()){const e=n.getImmediate();if(fn(t,n.getOptions()))return e;throw jl.create("already-initialized")}const r=n.initialize({options:t})}(e)}(Cw),Ug(Cw),bw(Cw));var Sw=n(579);const kw=()=>{const[e,t]=(0,i.useState)(null),[n,r]=(0,i.useState)(""),[s,o]=(0,i.useState)([]),[a,l]=(0,i.useState)([]),[c,u]=(0,i.useState)(new Set),h=te();(0,i.useEffect)((()=>{const e=lo(Ia(Cw),(e=>{t(e||null)}));return()=>e()}),[]),(0,i.useEffect)((()=>{const e=Ug(Cw);return(()=>{const t=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s,o;e=In(e);let a={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof n[l]||Og(n[l])||(a=n[l],l++);const c={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(Og(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[l+2]=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}let u,h,d;if(e instanceof Pg)h=Tg(e.firestore,Mg),d=Rh(e._key.path),u={next:t=>{n[l]&&n[l](qy(h,e,t))},error:n[l+1],complete:n[l+2]};else{const t=Tg(e,jg);h=Tg(t.firestore,Mg),d=t._query;const r=new Dy(h);u={next:e=>{n[l]&&n[l](new Ay(h,r,t,e))},error:n[l+1],complete:n[l+2]},gy(e._query)}return function(e,t,n,r){const i=new ug(r),s=new Am(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>Sm(await vg(e),s))),()=>{i.$a(),e.asyncQueue.enqueueAndForget((async()=>km(await vg(e),s)))}}(Fg(h),d,c,u)}(Rg(e,"playlists"),(e=>{const t=e.docs.map((e=>({id:e.id,...e.data()}))),n=t.filter((e=>!c.has(e.id)));l((e=>[...n,...e])),o(t),u((e=>new Set([...e,...t.map((e=>e.id))])))}));return t})()}),[s,c]);(0,i.useEffect)((()=>{const e=()=>{let e=document.querySelector(".Userheader .flex .profile"),t=document.querySelector(".Userheader .flex .notification"),n=document.querySelector(".Userheader .flex .search-form"),r=document.querySelector(".side-bar");e&&n&&r&&(e.classList.remove("active"),n.classList.remove("active"),t.classList.remove("active"),window.innerWidth<1200&&(t.classList.remove("active"),r.classList.remove("active"),document.body.classList.remove("active")))};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}}),[]);let d=localStorage.getItem("dark-mode");const f=()=>{document.body.classList.add("dark"),localStorage.setItem("dark-mode","enabled")};"enabled"===d&&f();const p=()=>{let e=document.querySelector(".Userheader .flex .profile"),t=document.querySelector(".Userheader .flex .search-form"),n=document.querySelector(".Userheader .flex .notification");e.classList.remove("active"),t.classList.remove("active"),n.classList.remove("active")};return(0,Sw.jsxs)(Sw.Fragment,{children:[(0,Sw.jsx)("header",{className:"Userheader",children:(0,Sw.jsxs)("section",{className:"flex",children:[(0,Sw.jsx)(Te,{to:"/",className:"logo",children:"Tekmiz - Modern Learning Platform"}),(0,Sw.jsxs)("form",{className:"search-form",onSubmit:t=>{if(t.preventDefault(),!e)return alert("Please log in to search for courses."),void h("/");h("/User/SearchCourse?query=".concat(n))},children:[(0,Sw.jsx)("input",{type:"text",name:"search_course",placeholder:"Search Courses....",required:!0,maxLength:100,value:n,onChange:e=>{r(e.target.value)}}),(0,Sw.jsx)("button",{type:"submit",name:"search_course_btn",children:(0,Sw.jsx)(Be,{})})]}),(0,Sw.jsxs)("div",{className:"icons",children:[(0,Sw.jsx)("div",{id:"menu-btn",onClick:()=>{document.querySelector(".side-bar").classList.toggle("active"),document.body.classList.toggle("active")},children:(0,Sw.jsx)(Ye,{})}),(0,Sw.jsx)("div",{id:"notification-btn",onClick:()=>{let e=document.querySelector(".Userheader .flex .profile"),t=document.querySelector(".Userheader .flex .notification"),n=document.querySelector(".Userheader .flex .search-form");e.classList.remove("active"),n.classList.remove("active"),t.classList.toggle("active")},children:(0,Sw.jsx)(qe,{})}),(0,Sw.jsx)("div",{id:"search-btn",onClick:()=>{let e=document.querySelector(".Userheader .flex .search-form"),t=document.querySelector(".Userheader .flex .profile");e.classList.toggle("active"),t.classList.remove("active")},children:(0,Sw.jsx)(Be,{})}),(0,Sw.jsx)("div",{id:"user-btn",onClick:()=>{let e=document.querySelector(".Userheader .flex .profile"),t=document.querySelector(".Userheader .flex .search-form");document.querySelector(".Userheader .flex .notification").classList.remove("active"),e.classList.toggle("active"),t.classList.remove("active")},children:(0,Sw.jsx)(Et,{})}),(0,Sw.jsx)("div",{id:"toggle-btn",onClick:()=>{"disabled"===localStorage.getItem("dark-mode")?f():(document.body.classList.remove("dark"),localStorage.setItem("dark-mode","disabled"))},children:(0,Sw.jsx)(bt,{})})]}),e?(0,Sw.jsxs)("div",{className:"profile",id:"profile",children:[(0,Sw.jsx)("img",{src:e.photoURL,alt:""}),(0,Sw.jsx)("h3",{children:e.displayName}),(0,Sw.jsx)("span",{children:"Student"}),(0,Sw.jsx)(Te,{to:"/User/UserProfile",className:"btn",children:"View Profile"}),(0,Sw.jsx)(Te,{onClick:async()=>{try{const e=Ia(Cw);await co(e),h("/")}catch(l_){alert("Failed to logout")}},className:"option-btn",children:"Logout"})]}):(0,Sw.jsx)("div",{className:"profile",children:(0,Sw.jsxs)("div",{className:"box",children:[(0,Sw.jsx)("h3",{className:"title",children:"Please Login Your Account"}),(0,Sw.jsxs)("div",{className:"flex-btn",children:[(0,Sw.jsx)(Te,{to:"/UserLogin",className:"option-btn",children:"Log In"}),(0,Sw.jsx)(Te,{to:"/UserRegister",className:"option-btn",children:"Register"})]})]})}),(0,Sw.jsx)("div",{className:"notifyBar",children:a.length>0?(0,Sw.jsx)("h3",{children:a.length}):(0,Sw.jsx)("h3",{children:""})}),(0,Sw.jsx)("div",{className:"notification",id:"notification",children:a.length>0?a.map((e=>(0,Sw.jsxs)("div",{className:"notify",children:[(0,Sw.jsxs)("div",{className:"head",children:[(0,Sw.jsx)("img",{src:null===e||void 0===e?void 0:e.userProfilePhoto,alt:""}),(0,Sw.jsx)("h3",{children:e.userName})]}),(0,Sw.jsx)(Te,{to:"/User/ViewPlaylist/".concat(e.id),onClick:p,children:e.title}),(0,Sw.jsx)("p",{children:e.description.substring(0,50)})]},e.id))):(0,Sw.jsx)("div",{className:"notify",children:(0,Sw.jsx)("h3",{children:"No new notifications found"})})})]})}),(0,Sw.jsxs)("div",{className:"side-bar",children:[(0,Sw.jsx)("div",{className:"close-side-bar",onClick:()=>{document.querySelector(".side-bar").classList.remove("active"),document.body.classList.remove("active")},children:(0,Sw.jsx)(xt,{})}),e?(0,Sw.jsxs)(Sw.Fragment,{children:[(0,Sw.jsxs)("div",{className:"profile",id:"profile",children:[(0,Sw.jsx)("img",{src:e.photoURL,alt:""}),(0,Sw.jsx)("h3",{children:e.displayName}),(0,Sw.jsx)("span",{children:"Student"}),(0,Sw.jsx)(Te,{to:"/User/UserProfile",className:"btn",children:"View Profile"})]}),(0,Sw.jsxs)("nav",{className:"navbar",children:[(0,Sw.jsxs)(Te,{to:"/",children:[(0,Sw.jsx)(kt,{className:"side"}),(0,Sw.jsx)("span",{children:"Home"})]}),(0,Sw.jsxs)(Te,{to:"/About",children:[(0,Sw.jsx)(wt,{className:"side"}),(0,Sw.jsx)("span",{children:"About Us"})]}),(0,Sw.jsxs)(Te,{to:"/ViewCourses",children:[(0,Sw.jsx)(lt,{className:"side"}),(0,Sw.jsx)("span",{children:"Courses"})]}),(0,Sw.jsxs)(Te,{to:"/Teacher",children:[(0,Sw.jsx)(et,{className:"side"}),(0,Sw.jsx)("span",{children:"Teachers"})]}),(0,Sw.jsxs)(Te,{to:"/Contact",children:[(0,Sw.jsx)(ct,{className:"side"}),(0,Sw.jsx)("span",{children:"Contact Us"})]}),(0,Sw.jsxs)(Te,{to:"/Translator",children:[(0,Sw.jsx)(dt,{className:"side"}),(0,Sw.jsx)("span",{children:"Language"})]}),(0,Sw.jsxs)(Te,{to:"/Advanced/LearnMate",children:[(0,Sw.jsx)(dt,{className:"side"}),(0,Sw.jsx)("span",{children:"LearnMate"})]}),(0,Sw.jsxs)(Te,{to:"/Advanced/TekmizCompiler",children:[(0,Sw.jsx)(dt,{className:"side"}),(0,Sw.jsx)("span",{children:"Tekmiz Compiler"})]}),(0,Sw.jsxs)(Te,{to:"/Advanced/Meeting",children:[(0,Sw.jsx)(dt,{className:"side"}),(0,Sw.jsx)("span",{children:"Meeting"})]}),(0,Sw.jsxs)(Te,{to:"/Advanced/Assignments",children:[(0,Sw.jsx)(dt,{className:"side"}),(0,Sw.jsx)("span",{children:"Assignments"})]})]})]}):(0,Sw.jsxs)(Sw.Fragment,{children:[(0,Sw.jsx)("div",{className:"profile",children:(0,Sw.jsxs)("div",{className:"box",children:[(0,Sw.jsx)("h3",{className:"title",children:"Please Login Your Account"}),(0,Sw.jsx)("div",{className:"flex-btn",children:(0,Sw.jsx)(Te,{to:"/UserLogin",className:"option-btn",children:"Log In"})})]})}),(0,Sw.jsxs)("nav",{className:"navbar",children:[(0,Sw.jsxs)(Te,{to:"/",children:[(0,Sw.jsx)(kt,{}),(0,Sw.jsx)("span",{children:"Home"})]}),(0,Sw.jsxs)(Te,{to:"/About",children:[(0,Sw.jsx)(wt,{}),(0,Sw.jsx)("span",{children:"About Us"})]}),(0,Sw.jsxs)(Te,{to:"/",children:[(0,Sw.jsx)(lt,{}),(0,Sw.jsx)("span",{children:"Courses"})]}),(0,Sw.jsxs)(Te,{to:"/",children:[(0,Sw.jsx)(et,{}),(0,Sw.jsx)("span",{children:"Teachers"})]}),(0,Sw.jsxs)(Te,{to:"/Contact",children:[(0,Sw.jsx)(ct,{}),(0,Sw.jsx)("span",{children:"Contact Us"})]}),(0,Sw.jsxs)(Te,{to:"/Translator",children:[(0,Sw.jsx)(dt,{}),(0,Sw.jsx)("span",{children:"Language"})]})]})]})]})]})},Tw=()=>{const[e,t]=(0,i.useState)(null),[n,r]=(0,i.useState)(0),[s,o]=(0,i.useState)(0),[a,l]=(0,i.useState)(0),c=te();(0,i.useEffect)((()=>{const e=lo(Ia(Cw),(async e=>{e?(t(e),await u(e.uid),await h(e.uid),await d(e.uid)):(t(null),r(0),o(0),l(0))}));return()=>e()}),[]);const u=async e=>{try{const t=Ug(Cw),n=wy(Rg(t,"savedPlaylists"),by("userId","==",e)),i=await Oy(n);r(i.size)}catch(l_){console.error("Error fetching saved playlist count:",l_)}},h=async e=>{try{const t=Ug(Cw),n=wy(Rg(t,"likes"),by("userId","==",e)),r=await Oy(n);o(r.size)}catch(l_){console.error("Error fetching saved playlist count:",l_)}},d=async e=>{try{const t=Ug(Cw),n=wy(Rg(t,"comments"),by("userId","==",e)),r=await Oy(n);l(r.size)}catch(l_){console.error("Error fetching saved playlist count:",l_)}},f=e=>"undefined"===typeof e||null===e?0:0===e?e:e<10?"0".concat(e):e>=1e3?"".concat(Math.floor(e/1e3),"k"):e;return(0,Sw.jsxs)("section",{className:"quick-select",children:[(0,Sw.jsx)("h1",{className:"heading",children:"Quick Options"}),(0,Sw.jsxs)("div",{className:"box-container",children:[(0,Sw.jsx)("div",{className:"box",children:e?(0,Sw.jsxs)(Sw.Fragment,{children:[(0,Sw.jsx)("h2",{className:"titles",children:"Likes and Comments"}),(0,Sw.jsxs)("p",{children:["Total Likes: ",(0,Sw.jsx)("span",{children:f(s)})]}),(0,Sw.jsx)(Te,{to:"/User/Likes",className:"inline-btn",children:"View Likes"}),(0,Sw.jsxs)("p",{children:["Total Comments: ",(0,Sw.jsx)("span",{children:f(a)})]}),(0,Sw.jsx)(Te,{to:"/User/UserComment",className:"inline-btn",children:"View Comments"}),(0,Sw.jsxs)("p",{children:["Saved Playlists: ",(0,Sw.jsx)("span",{children:f(n)})]}),(0,Sw.jsx)(Te,{to:"/User/Bookmark/".concat(e.uid),className:"inline-btn",children:"View Playlists"})]}):(0,Sw.jsxs)(Sw.Fragment,{children:[(0,Sw.jsx)("h3",{className:"heading",children:"Please !! Login First"}),(0,Sw.jsx)(Te,{to:"/UserLogin",className:"option-btn",children:"Login"})]})}),(0,Sw.jsxs)("div",{className:"box",children:[(0,Sw.jsx)("h2",{className:"titles",children:"Top Categaries"}),(0,Sw.jsxs)("div",{className:"flex",children:[(0,Sw.jsxs)(Te,{to:"#",children:[(0,Sw.jsx)("i",{children:(0,Sw.jsx)(rt,{})}),(0,Sw.jsx)("span",{children:"Development"})]}),(0,Sw.jsxs)(Te,{to:"#",children:[(0,Sw.jsx)("i",{children:(0,Sw.jsx)(tt,{})}),(0,Sw.jsx)("span",{children:"Business"})]}),(0,Sw.jsxs)(Te,{to:"#",children:[(0,Sw.jsx)("i",{children:(0,Sw.jsx)(gt,{})}),(0,Sw.jsx)("span",{children:"Design"})]}),(0,Sw.jsxs)(Te,{to:"#",children:[(0,Sw.jsx)("i",{children:(0,Sw.jsx)(nt,{})}),(0,Sw.jsx)("span",{children:"Marketing"})]}),(0,Sw.jsxs)(Te,{to:"#",children:[(0,Sw.jsx)("i",{children:(0,Sw.jsx)(mt,{})}),(0,Sw.jsx)("span",{children:"Music"})]}),(0,Sw.jsxs)(Te,{to:"#",children:[(0,Sw.jsx)("i",{children:(0,Sw.jsx)(Ze,{})}),(0,Sw.jsx)("span",{children:"Photography"})]}),(0,Sw.jsxs)(Te,{to:"#",children:[(0,Sw.jsx)("i",{children:(0,Sw.jsx)(it,{})}),(0,Sw.jsx)("span",{children:"Software"})]}),(0,Sw.jsxs)(Te,{to:"#",children:[(0,Sw.jsx)("i",{children:(0,Sw.jsx)(St,{})}),(0,Sw.jsx)("span",{children:"Science"})]})]})]}),(0,Sw.jsxs)("div",{className:"box",children:[(0,Sw.jsx)("h2",{className:"titles",children:"Popular Categaries"}),(0,Sw.jsxs)("div",{className:"flex",children:[(0,Sw.jsxs)(Te,{to:"#",children:[(0,Sw.jsx)("i",{children:(0,Sw.jsx)(Ke,{})}),(0,Sw.jsx)("span",{children:"HTML"})]}),(0,Sw.jsxs)(Te,{to:"#",children:[(0,Sw.jsx)("i",{children:(0,Sw.jsx)(We,{})}),(0,Sw.jsx)("span",{children:"CSS"})]}),(0,Sw.jsxs)(Te,{to:"#",children:[(0,Sw.jsx)("i",{children:(0,Sw.jsx)(ze,{})}),(0,Sw.jsx)("span",{children:"Javascript"})]}),(0,Sw.jsxs)(Te,{to:"#",children:[(0,Sw.jsx)("i",{children:(0,Sw.jsx)(Ge,{})}),(0,Sw.jsx)("span",{children:"React"})]}),(0,Sw.jsxs)(Te,{to:"#",children:[(0,Sw.jsx)("i",{children:(0,Sw.jsx)(Qe,{})}),(0,Sw.jsx)("span",{children:"PHP"})]}),(0,Sw.jsxs)(Te,{to:"#",children:[(0,Sw.jsx)("i",{children:(0,Sw.jsx)(He,{})}),(0,Sw.jsx)("span",{children:"Boostrap"})]})]})]}),(0,Sw.jsxs)("div",{className:"box tutor",children:[(0,Sw.jsx)("h2",{className:"titles",children:"Become Teacher"}),(0,Sw.jsx)("p",{children:"To share your knowledge and expertise with learners worldwide on our dynamic Tekmiz platform. Join our community of educators today !!"}),(0,Sw.jsx)(Te,{onClick:async()=>{try{const e=Ia(Cw);await co(e),c("/Admin/AdminLogin")}catch(l_){alert("Failed"),c("/")}},className:"inline-btn",children:"Get Started"})]})]})]})},Iw=()=>{const e={translator:{padding:"3rem",height:"auto",display:"flex",justifyContent:"center",alignItems:"center"},container:{padding:"1rem",width:"56.25rem",backgroundColor:"#f5f5f5",boxShadow:"0 0.125rem 1.25rem rgba(0, 0, 0, 0.3)",borderRadius:"0.5rem",overflow:"hidden"},translatorProperty:{border:"1px solid #c7c7c7"},emptyText:{backgroundColor:"#ffffff",borderRadius:"0.5rem",padding:"1.5rem",textAlign:"center",width:"100%",fontSize:"2rem",color:"#ff0000"}};return(0,Sw.jsx)("div",{style:e.translator,children:(0,Sw.jsx)("div",{style:e.container,children:(0,Sw.jsx)("div",{style:e.translatorProperty,children:(0,Sw.jsx)("p",{style:e.emptyText,children:"!! Not Found Anything !!..."})})})})},Nw=()=>{const[e,t]=(0,i.useState)(null);(0,i.useEffect)((()=>{const e=lo(Ia(Cw),(async e=>{t(e)}));return()=>e()}),[]);const[n,r]=(0,i.useState)(null);(0,i.useEffect)((()=>{const e=Ug(Cw);(async()=>{try{const t=Rg(e,"playlists"),n=await Oy(t),i=[];n.forEach((e=>{i.push({id:e.id,...e.data()})})),r(i)}catch(l_){console.error("Error fetching playlists:",l_)}})()}),[]);return(0,Sw.jsxs)("section",{className:"Courses",children:[(0,Sw.jsx)("h1",{className:"heading",children:"Our Courses"}),e?(0,Sw.jsx)(Sw.Fragment,{children:n&&n.length>0?(0,Sw.jsx)("div",{className:"box-container",children:n.map(((t,n)=>{return(0,Sw.jsxs)("div",{className:"box",children:[(0,Sw.jsxs)("div",{className:"tutor",children:[(0,Sw.jsx)("img",{src:t.userProfilePhoto,alt:"Tutor Profile"}),(0,Sw.jsxs)("div",{children:[(0,Sw.jsx)("h3",{children:t.userName}),(0,Sw.jsx)("span",{children:(r=t.date,new Date(r).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}))})]})]}),(0,Sw.jsx)("img",{src:t.thumbnail,alt:"Courses",className:"thumb"}),(0,Sw.jsx)("h3",{className:"title",children:t.title}),(0,Sw.jsx)(Te,{to:"/User/ViewPlaylist/".concat(t.id),className:"inline-btn",onClick:()=>(async(t,n)=>{try{const t=Rg(Ug(Cw),"playlistView"),r=Gc.now();await Vy(t,{userId:e.uid,playlistId:n,date:r})}catch(l_){console.error("Error adding document:",l_)}})(e.uid,t.id),children:"View Playlist"})]},n);var r}))}):(0,Sw.jsx)(Iw,{})}):(0,Sw.jsxs)("p",{className:"empty",children:["Please ",(0,Sw.jsx)(Te,{to:"/UserLogin",children:"Login"})," first to view courses."]})]})},jw=()=>((0,i.useEffect)((()=>{document.title="Tekmiz"})),(0,Sw.jsxs)(Sw.Fragment,{children:[(0,Sw.jsx)(kw,{}),(0,Sw.jsx)(Tw,{}),(0,Sw.jsx)(Nw,{})]})),Pw=()=>(0,Sw.jsx)(Sw.Fragment,{children:(0,Sw.jsx)("footer",{className:"footer",children:(0,Sw.jsxs)("p",{children:["\xa9CopyRight @",(new Date).getFullYear()," By",(0,Sw.jsxs)("span",{children:[(0,Sw.jsx)(Te,{to:"/",children:"Tekmiz - A Modern Learning Platform"})," | All Right Reserved"]})]})})});const Aw=n.p+"static/media/about-img.cd92bb45f601f21e240c193d57c3aeae.svg",Rw=()=>((0,i.useEffect)((()=>{document.title="Tekmiz - About"})),(0,Sw.jsxs)(Sw.Fragment,{children:[(0,Sw.jsx)(kw,{}),(0,Sw.jsxs)("section",{className:"about",children:[(0,Sw.jsxs)("div",{className:"row",children:[(0,Sw.jsx)("div",{className:"image",children:(0,Sw.jsx)("img",{src:Aw,alt:""})}),(0,Sw.jsxs)("div",{className:"content",children:[(0,Sw.jsx)("h3",{children:"Why Choose Us ?"}),(0,Sw.jsx)("p",{children:"Tekmiz empowers both tutors and users in a seamless e-learning journey. Tutors curate content-rich playlists, each thoughtfully crafted, while users explore diverse courses and save beloved playlists. Engage with content by liking, commenting, and accessing valuable insights into content performance."}),(0,Sw.jsx)(Te,{to:"/ViewCourses",className:"inline-btn",children:"Our Courses"})]})]}),(0,Sw.jsxs)("div",{className:"box-container",children:[(0,Sw.jsxs)("div",{className:"box",children:[(0,Sw.jsx)("i",{children:(0,Sw.jsx)(lt,{})}),(0,Sw.jsxs)("div",{children:[(0,Sw.jsx)("h3",{children:"+1k"}),(0,Sw.jsx)("span",{children:"Online Courses"})]})]}),(0,Sw.jsxs)("div",{className:"box",children:[(0,Sw.jsx)("i",{children:(0,Sw.jsx)(Ct,{})}),(0,Sw.jsxs)("div",{children:[(0,Sw.jsx)("h3",{children:"+25k"}),(0,Sw.jsx)("span",{children:"Brilliant Students"})]})]}),(0,Sw.jsxs)("div",{className:"box",children:[(0,Sw.jsx)("i",{children:(0,Sw.jsx)(et,{})}),(0,Sw.jsxs)("div",{children:[(0,Sw.jsx)("h3",{children:"+5k"}),(0,Sw.jsx)("span",{children:"Expert Teachers"})]})]}),(0,Sw.jsxs)("div",{className:"box",children:[(0,Sw.jsx)("i",{children:(0,Sw.jsx)(Je,{})}),(0,Sw.jsxs)("div",{children:[(0,Sw.jsx)("h3",{children:"100%"}),(0,Sw.jsx)("span",{children:"Jobs Placements"})]})]})]})]})]}));const Lw=n.p+"static/media/contact-img.cffa2ee132a64ebe8edf97c9b2976e25.svg",Dw=()=>{(0,i.useEffect)((()=>{document.title="Tekmiz-Contact"}));const e=te(),[t,n]=(0,i.useState)({name:"",email:"",mobile:"",msg:""});let r,s;const o=e=>{r=e.target.name,s=e.target.value,n({...t,[r]:s})};return(0,Sw.jsxs)(Sw.Fragment,{children:[(0,Sw.jsx)(kw,{}),(0,Sw.jsxs)("section",{className:"contact",children:[(0,Sw.jsxs)("div",{className:"row",children:[(0,Sw.jsx)("div",{className:"image",children:(0,Sw.jsx)("img",{src:Lw,alt:"ContactImg"})}),(0,Sw.jsxs)("form",{method:"POST",children:[(0,Sw.jsx)("h3",{children:"Get In Touch"}),(0,Sw.jsx)("input",{type:"text",placeholder:"Enter Your Name ",required:!0,maxLength:100,name:"name",className:"box",onChange:o}),(0,Sw.jsx)("input",{type:"email",placeholder:"Enter Your Email ",required:!0,maxLength:100,name:"email",className:"box",onChange:o}),(0,Sw.jsx)("input",{type:"number",placeholder:"Enter Your Number ",required:!0,maxLength:100,name:"mobile",className:"box",onChange:o}),(0,Sw.jsx)("textarea",{name:"msg",className:"box",placeholder:"Enter Your Message",required:!0,cols:"30",rows:"10",onChange:o}),(0,Sw.jsx)("input",{type:"submit",value:"Send-Message",className:"inline-btn",name:"submit",onClick:r=>{r.preventDefault();const{name:i,email:s,mobile:o,msg:a}=t;if(i&&s&&o&&a){fetch("https://tekmiz-5e01f-default-rtdb.firebaseio.com/contactMessage.json",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:i,email:s,mobile:o,msg:a})})?(n({name:"",email:"",mobile:"",msg:""}),alert("Message Sent !!"),e("/")):alert("Message Re-Enter Please !!")}else alert("Message Re-Enter Please")}})]})]}),(0,Sw.jsxs)("div",{className:"box-container",children:[(0,Sw.jsxs)("div",{className:"box",children:[(0,Sw.jsx)("i",{children:(0,Sw.jsx)(yt,{})}),(0,Sw.jsx)("h3",{children:"Phone Number"}),(0,Sw.jsx)(Te,{to:"tel:1234567890",children:"123-456-7890"}),(0,Sw.jsx)(Te,{to:"tel:1112223333",children:"111-222-3333"})]}),(0,Sw.jsxs)("div",{className:"box",children:[(0,Sw.jsx)("i",{children:(0,Sw.jsx)(at,{})}),(0,Sw.jsx)("h3",{children:"Email Address"}),(0,Sw.jsx)(Te,{to:"mailto:wstatus925@gmail.com",children:"wstatus925@gmail.com"}),(0,Sw.jsx)(Te,{to:"mailto:wstatus925@gmail.com",children:"wstatus925@gmail.com"})]}),(0,Sw.jsxs)("div",{className:"box",children:[(0,Sw.jsx)("i",{children:(0,Sw.jsx)(ft,{})}),(0,Sw.jsx)("h3",{children:"Address"}),(0,Sw.jsx)(Te,{to:"#",children:"College Road, Nashik , Maharashtra 422005"})]})]})]})]})},Ow=()=>{(0,i.useEffect)((()=>{document.title="Tekmiz - Teachers"}));const[e,t]=(0,i.useState)([]),n=te(),[r,s]=(0,i.useState)(null),[o,a]=(0,i.useState)("");(0,i.useEffect)((()=>{(async()=>{const e=Ug(Cw);try{const n=Rg(e,"tutor"),r=await Oy(n),i=[];for(const e of r.docs){const t=e.data(),n=await l(t.userId),r=await c(t.userId),s=await u(t.userId),o=await h(t.userId);i.push({id:e.id,...t,playlistsCount:n,videosCount:r,likesCount:s,commentsCount:o})}t(i)}catch(l_){console.error("Error fetching tutors: ",l_)}})()}),[]),(0,i.useEffect)((()=>{const e=lo(Ia(Cw),(async e=>{s(e||null)}));return()=>e()}),[r]);const l=async e=>{const t=wy(Rg(Ug(Cw),"playlists"),by("userId","==",e));return(await Oy(t)).size},c=async e=>{const t=wy(Rg(Ug(Cw),"videos"),by("userId","==",e));return(await Oy(t)).size},u=async e=>{const t=wy(Rg(Ug(Cw),"likes"),by("tutorId","==",e));return(await Oy(t)).size},h=async e=>{const t=wy(Rg(Ug(Cw),"comments"),by("tutorId","==",e));return(await Oy(t)).size},d=e=>"undefined"===typeof e||null===e?0:0===e?e:e<10?"0".concat(e):e>=1e3?"".concat(Math.floor(e/1e3),"k"):e;return(0,Sw.jsxs)(Sw.Fragment,{children:[(0,Sw.jsx)(kw,{}),(0,Sw.jsxs)("section",{className:"teachers",children:[(0,Sw.jsx)("h1",{className:"heading",children:"Expert Tutors"}),(0,Sw.jsxs)("form",{onSubmit:e=>{e.preventDefault(),n("/User/SearchTutor?query=".concat(o))},className:"search-tutor",children:[(0,Sw.jsx)("input",{type:"text",name:"search_box",maxLength:"100",placeholder:"Search Tutor...",required:!0,value:o,onChange:e=>{a(e.target.value)}}),(0,Sw.jsx)("button",{type:"submit",name:"search-tutor",children:(0,Sw.jsx)(_t,{})})]}),(0,Sw.jsxs)("div",{className:"box-container",children:[(0,Sw.jsxs)("div",{className:"box offer",children:[(0,Sw.jsx)("h3",{children:"Become a Tutor"}),(0,Sw.jsx)("p",{children:"To share your knowledge and expertise with learners worldwide on our dynamic Tekmiz platform. Join our community of educators today !!"}),(0,Sw.jsx)(Te,{onClick:async()=>{try{const e=Ia(Cw);await co(e),n("/Admin/AdminLogin")}catch(l_){alert("Failed"),n("/Teacher")}},className:"inline-btn",children:"Get Started"})]}),e&&e.length>0?e.map(((e,t)=>(0,Sw.jsxs)("div",{className:"box",children:[(0,Sw.jsxs)("div",{className:"tutor",children:[(0,Sw.jsx)("img",{src:e.photoURL,alt:"Tutor_Profile_Photo"}),(0,Sw.jsxs)("div",{children:[(0,Sw.jsx)("h3",{children:e.displayName}),(0,Sw.jsx)("span",{children:e.profession})]})]}),(0,Sw.jsxs)("p",{children:["Playlists: ",(0,Sw.jsx)("span",{children:d(e.playlistsCount)})]}),(0,Sw.jsxs)("p",{children:["Total Videos: ",(0,Sw.jsx)("span",{children:d(e.videosCount)})]}),(0,Sw.jsxs)("p",{children:["Total Likes: ",(0,Sw.jsx)("span",{children:d(e.likesCount)})]}),(0,Sw.jsxs)("p",{children:["Total Comments: ",(0,Sw.jsx)("span",{children:d(e.commentsCount)})]}),(0,Sw.jsx)(Te,{to:"/User/TeacherProfile/".concat(e.userId),className:"inline-btn",children:"View Profile"})]},t))):(0,Sw.jsx)(Iw,{})]})]})]})},Mw=()=>{const[e,t]=(0,i.useState)(null),[n,r]=(0,i.useState)(null),[s,o]=(0,i.useState)(!0);(0,i.useEffect)((()=>{document.title="Tekmiz - Courses"})),(0,i.useEffect)((()=>{const e=lo(Ia(Cw),(async e=>{e?(r(e),o(!0)):(r(null),o(!1))}));return()=>e()}),[]),(0,i.useEffect)((()=>{const e=Ug(Cw);(async()=>{try{const n=Rg(e,"playlists"),r=await Oy(n),i=[];r.forEach((e=>{i.push({id:e.id,...e.data()})})),t(i)}catch(l_){}})()}),[]);return(0,Sw.jsxs)(Sw.Fragment,{children:[(0,Sw.jsx)(kw,{}),(0,Sw.jsxs)("section",{className:"Viewcourses",children:[(0,Sw.jsx)("h1",{className:"heading",children:"Our Courses"}),s?(0,Sw.jsx)(Sw.Fragment,{children:e&&e.length>0?(0,Sw.jsx)("div",{className:"box-container",children:e.map(((e,t)=>{return(0,Sw.jsxs)("div",{className:"box",children:[(0,Sw.jsxs)("div",{className:"tutor",children:[(0,Sw.jsx)("img",{src:e.userProfilePhoto,alt:"Tutor Profile"}),(0,Sw.jsxs)("div",{children:[(0,Sw.jsx)("h3",{children:e.userName}),(0,Sw.jsx)("span",{children:(r=e.date,new Date(r).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}))})]})]}),(0,Sw.jsx)("img",{src:e.thumbnail,alt:"Courses",className:"thumb"}),(0,Sw.jsx)("h3",{className:"title",children:e.title}),(0,Sw.jsx)(Te,{to:"/User/ViewPlaylist/".concat(e.id),className:"inline-btn",onClick:()=>(async(e,t)=>{try{const n=Rg(Ug(Cw),"playlistView"),r=Gc.now();await Vy(n,{userId:e,playlistId:t,date:r})}catch(l_){}})(n.uid,e.id),children:"View Playlist"})]},t);var r}))}):(0,Sw.jsx)(Iw,{})}):(0,Sw.jsxs)("p",{className:"empty",children:["Please ",(0,Sw.jsx)(Te,{to:"/UserLogin",children:"Login"})," first to view courses."]})]})]})},Uw=()=>{const e=te();return(0,Sw.jsxs)("div",{children:[(0,Sw.jsx)(kw,{}),(0,Sw.jsx)("section",{className:"form-container",children:(0,Sw.jsxs)("form",{onSubmit:async t=>{t.preventDefault();const n=t.target.email.value,r=t.target.pass.value;try{const t=Ia(Cw),i=await io(t,n,r);alert(i.user.displayName+" Login Successfully"),e("/")}catch(l_){alert("Login Failed. Please Signup First")}},className:"login",children:[(0,Sw.jsx)("h3",{children:"Welcome Back!"}),(0,Sw.jsxs)("p",{children:["Your Email ",(0,Sw.jsx)("span",{children:"*"})]}),(0,Sw.jsx)("input",{type:"email",name:"email",placeholder:"Enter Your Email",maxLength:"80",required:!0,className:"box"}),(0,Sw.jsxs)("p",{children:["Your Password ",(0,Sw.jsx)("span",{children:"*"})]}),(0,Sw.jsx)("input",{type:"password",name:"pass",placeholder:"Enter Your Password",maxLength:"20",required:!0,className:"box"}),(0,Sw.jsx)("input",{type:"submit",name:"submit",value:"Login Now",className:"btn"}),(0,Sw.jsxs)("p",{className:"link",children:["Don't have an account? ",(0,Sw.jsx)(Te,{to:"/UserRegister",children:"Register Now"})]})]})})]})},Fw=()=>{const e=te(),[t,n]=(0,i.useState)({email:"",password:"",confirmPassword:"",displayName:"",photo:null}),r=e=>{if("email"===e.target.name){if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.target.value))return void n({...t,[e.target.name]:e.target.value})}n({...t,[e.target.name]:e.target.value})};return(0,Sw.jsxs)("div",{children:[(0,Sw.jsx)(kw,{}),(0,Sw.jsx)("section",{className:"form-container",children:(0,Sw.jsxs)("form",{className:"register",onSubmit:async r=>{if(r.preventDefault(),t.password.length<6)alert("Password must be at least 6 characters");else if(t.password===t.confirmPassword)try{const r=Ia(Cw),i=Ug(Cw),s=bw(Cw),o=await ro(r,t.email,t.password);if(!o||!o.user)throw new Error("User authentication failed !! Try After Sometimes");{const r=_w(s,"user_images/".concat(t.photo.name));await yw(r,t.photo);const a=await ww(r);await so(o.user,{displayName:t.displayName,photoURL:a}),await My(Lg(i,"users",o.user.uid),{email:t.email,displayName:t.displayName,photoURL:a}),n({email:"",password:"",confirmPassword:"",displayName:"",photo:null}),alert("Signup Successful!"),e("/UserLogin")}}catch(l_){console.error(l_),alert("Signup Failed User Already Exists"),e("/Login")}else alert("Passwords do not match")},encType:"multipart/form-data",children:[(0,Sw.jsx)("h3",{children:"New Registration"}),(0,Sw.jsxs)("div",{className:"flex",children:[(0,Sw.jsxs)("div",{className:"cols",children:[(0,Sw.jsxs)("p",{children:["Your Name ",(0,Sw.jsx)("span",{children:"*"})]}),(0,Sw.jsx)("input",{type:"text",name:"displayName",placeholder:"Enter Your Name",maxLength:"50",required:!0,onChange:r,className:"box"}),(0,Sw.jsxs)("p",{children:["Your Email ",(0,Sw.jsx)("span",{children:"*"})]}),(0,Sw.jsx)("input",{type:"email",name:"email",placeholder:"Enter Your Email",maxLength:"80",required:!0,onChange:r,className:"box"})]}),(0,Sw.jsxs)("div",{className:"cols",children:[(0,Sw.jsxs)("p",{children:["Your Password ",(0,Sw.jsx)("span",{children:"*"})]}),(0,Sw.jsx)("input",{type:"password",name:"password",placeholder:"Enter Your Password",maxLength:"20",required:!0,onChange:r,className:"box",id:"pass"}),(0,Sw.jsxs)("p",{children:["Confirm Password ",(0,Sw.jsx)("span",{children:"*"})]}),(0,Sw.jsx)("input",{type:"password",name:"confirmPassword",placeholder:"Confirm Your Password",maxLength:"20",required:!0,onChange:r,className:"box",id:"cpass"})]})]}),(0,Sw.jsxs)("p",{children:["Select Picture ",(0,Sw.jsx)("span",{children:"*"})]}),(0,Sw.jsx)("input",{type:"file",name:"image",accept:"image/*",required:!0,onChange:e=>{e.target.files[0]&&n({...t,photo:e.target.files[0]})},className:"box"}),(0,Sw.jsx)("input",{type:"submit",name:"submit",value:"Register Now",className:"btn"}),(0,Sw.jsxs)("p",{className:"link",children:["Already have an account? ",(0,Sw.jsx)(Te,{to:"/UserLogin",children:"Login Now"})]})]})})]})};function Vw(e){return Fe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM64 256c0-17.7 14.3-32 32-32H480c17.7 0 32 14.3 32 32s-14.3 32-32 32H96c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"},child:[]}]})(e)}function zw(e){return Fe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zm0-352a96 96 0 1 1 0 192 96 96 0 1 1 0-192z"},child:[]}]})(e)}function qw(e){return Fe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M377.9 105.9L500.7 228.7c7.2 7.2 11.3 17.1 11.3 27.3s-4.1 20.1-11.3 27.3L377.9 406.1c-6.4 6.4-15 9.9-24 9.9c-18.7 0-33.9-15.2-33.9-33.9l0-62.1-128 0c-17.7 0-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32l128 0 0-62.1c0-18.7 15.2-33.9 33.9-33.9c9 0 17.6 3.6 24 9.9zM160 96L96 96c-17.7 0-32 14.3-32 32l0 256c0 17.7 14.3 32 32 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-64 0c-53 0-96-43-96-96L0 128C0 75 43 32 96 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32z"},child:[]}]})(e)}const Bw=()=>{const e=te(),[t,n]=(0,i.useState)(""),[r,s]=(0,i.useState)(null),[o,a]=(0,i.useState)("enabled"===localStorage.getItem("dark-mode")),[l,c]=(0,i.useState)("");(0,i.useEffect)((()=>{const e=lo(Ia(Cw),(e=>{e?(s(e),u(e.uid)):s(null)}));return()=>e()}),[]);const u=async e=>{try{const t=Rg(Ug(Cw),"tutor");(await Oy(t)).forEach((t=>{if(t.id===e){const e=t.data();n(e.profession)}}))}catch(l_){console.error("Error getting document:",l_)}},h=async()=>{if(window.confirm("Are You Sure to Logout"))try{const t=Ia(Cw);await co(t),e("/Admin/AdminLogin")}catch(l_){console.error(l_)}else e("/Admin/Dashboard")},d=()=>{document.querySelector(".Adminheader .flex .profile").classList.remove("active"),document.querySelector(".side-bar").classList.remove("active")};return(0,Sw.jsxs)("div",{children:[(0,Sw.jsx)("header",{className:"Adminheader",children:(0,Sw.jsxs)("section",{className:"flex",children:[r?(0,Sw.jsx)(Te,{to:"/Admin/Dashboard",className:"adminlogo",children:"Admin."}):(0,Sw.jsx)(Te,{to:"/Admin/AdminLogin",className:"adminlogo",children:"Admin."}),(0,Sw.jsxs)("form",{className:"search-form",onSubmit:t=>{t.preventDefault(),e(r?"/Admin/SearchPage?query=".concat(encodeURIComponent(l)):"/Admin/AdminLogin")},children:[(0,Sw.jsx)("input",{type:"text",name:"search",placeholder:"Search Here...",value:l,onChange:e=>{c(e.target.value)},required:!0,maxLength:100}),(0,Sw.jsx)("button",{type:"submit",name:"search_btn",children:(0,Sw.jsx)(_t,{})})]}),(0,Sw.jsxs)("div",{className:"icons",children:[(0,Sw.jsx)("div",{id:"menu-btn",onClick:()=>{document.querySelector(".side-bar").classList.toggle("active"),document.body.classList.toggle("active")},children:(0,Sw.jsx)(Ye,{})}),(0,Sw.jsx)("div",{id:"search-btn",onClick:()=>{let e=document.querySelector(".Adminheader .flex .search-form"),t=document.querySelector(".Adminheader .flex .profile");e.classList.toggle("active"),t.classList.remove("active")},children:(0,Sw.jsx)(_t,{})}),(0,Sw.jsx)("div",{id:"user-btn",onClick:()=>{let e=document.querySelector(".Adminheader .flex .profile"),t=document.querySelector(".Adminheader .flex .search-form");e.classList.toggle("active"),t.classList.remove("active")},children:(0,Sw.jsx)(Et,{})}),(0,Sw.jsx)("div",{id:"toggle-btn",onClick:()=>{a(!o),o?(document.body.classList.remove("dark"),localStorage.setItem("dark-mode","disabled")):(document.body.classList.add("dark"),localStorage.setItem("dark-mode","enabled"))},children:o?(0,Sw.jsx)(bt,{}):(0,Sw.jsx)(pt,{})})]}),(0,Sw.jsx)("div",{className:"profile",children:r?(0,Sw.jsxs)("div",{children:[(0,Sw.jsx)("img",{src:r.photoURL,alt:""}),(0,Sw.jsx)("h3",{children:r.displayName}),(0,Sw.jsx)("span",{children:t}),(0,Sw.jsx)(Te,{to:"/Admin/ViewProfile",className:"btn",onClick:d,children:"View Profile"}),(0,Sw.jsx)(Te,{to:"/",className:"delete-btn",onClick:h,children:"Logout"})]}):(0,Sw.jsx)(Te,{to:"/Admin/AdminLogin",className:"delete-btn",children:"Login"})})]})}),(0,Sw.jsxs)("div",{className:"side-bar",children:[(0,Sw.jsx)("div",{className:"close-side-bar",onClick:()=>{document.querySelector(".side-bar").classList.remove("active"),document.body.classList.remove("active")},children:(0,Sw.jsx)("i",{children:(0,Sw.jsx)(xt,{})})}),r?(0,Sw.jsxs)(Sw.Fragment,{children:[(0,Sw.jsxs)("div",{className:"profile",children:[(0,Sw.jsx)("img",{src:r.photoURL,alt:""}),(0,Sw.jsx)("h3",{children:r.displayName}),(0,Sw.jsx)("span",{children:t}),(0,Sw.jsx)(Te,{to:"/Admin/ViewProfile",className:"btn",onClick:d,children:"View Profile"})]}),(0,Sw.jsxs)("nav",{className:"navbar",children:[(0,Sw.jsxs)(Te,{to:"/Admin/Dashboard",children:[(0,Sw.jsx)("i",{children:(0,Sw.jsx)(ht,{})}),(0,Sw.jsx)("span",{children:"Home"})]}),(0,Sw.jsxs)(Te,{to:"/Admin/AdminPlaylist",children:[(0,Sw.jsx)("i",{children:(0,Sw.jsx)(Vw,{})}),(0,Sw.jsx)("span",{children:"Playlists"})]}),(0,Sw.jsxs)(Te,{to:"/Admin/AdminContent",children:[(0,Sw.jsx)("i",{children:(0,Sw.jsx)(lt,{})}),(0,Sw.jsx)("span",{children:"Contents"})]}),(0,Sw.jsxs)(Te,{to:"/Admin/Comment",children:[(0,Sw.jsx)("i",{children:(0,Sw.jsx)(st,{})}),(0,Sw.jsx)("span",{children:"Comments"})]}),(0,Sw.jsxs)(Te,{onClick:h,children:[(0,Sw.jsx)("i",{children:(0,Sw.jsx)(qw,{})}),(0,Sw.jsx)("span",{children:"Logout"})]})]})]}):(0,Sw.jsxs)(Sw.Fragment,{children:[(0,Sw.jsxs)("div",{className:"profile",children:[(0,Sw.jsx)("img",{src:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/2wBDAAMCAgMCAgMDAwMEAwMEBQgFBQQEBQoHBwYIDAoMDAsKCwsNDhIQDQ4RDgsLEBYQERMUFRUVDA8XGBYUGBIUFRT/2wBDAQMEBAUEBQkFBQkUDQsNFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBT/wAARCABkAGQDAREAAhEBAxEB/8QAHQAAAgIDAQEBAAAAAAAAAAAAAAcGCAMEBQIBCf/EAEAQAAEDAwIDBQQHBgQHAAAAAAECAwQABREGBxIhQRMxUWFxCDJCkRQVIlKBobEjJDNTYqIJFsHRGDQ1Q3KCkv/EABwBAAEFAQEBAAAAAAAAAAAAAAAEBQYHCAMCAf/EADkRAAEDAgMFBQcDAwUBAAAAAAEAAgMEEQUxQQYSIVFhE3GBobEHFCIykcHRFULhUmLwIzNykvGi/9oADAMBAAIRAxEAPwD9U6EIoQvDrqGG1OOLS22kZUpRwAPM15c5rAXONgF6a0uO60XKT2uvaVsenluRbM39dTE5HaJPCwk+vxfhVYYxt7Q0RMVGO1fz/aPHXwVh4XsXWVgElUezby/d9NPFJbUe/wBrLUClhNyNtYJ5NwR2ZH/t7351VNdtnjFaSBLuN5N4eefmrKo9k8KpACY9883cfLLyUGnXq4XRRVLmyJSj3l10qJ+dRCarqKg3mkLu8kqURUsEAtEwN7hZarbi2VcSFKQodUnBpM15abtKUFocLEXUhs24+p7AtKoN8mspT/2+2JQfVJ5Gnylx3E6MgwVDh0ubfTJM9Tg2H1YtNC09bC/1zTQ0n7U92hLQ1f4TVxZ+J9gBt35e6flVg4b7RKuIhtfGHjmOB/Cg9fsLTSguonlh5HiPyn3o7cGxa7idtaZqXlAfbYX9l1HqmrlwvG6HGI9+kkudRkR3hVTiOEVmFP3KlluR0PcVJKfUzIoQihCKELnag1BA0vaZFyuUhMaIynKlq7z4ADqT4Uhra2DD4HVNS7da3/PqllJSTV0zYIG3cVUXdPem67hSXIzC1wLIlX2IqFYLg8XCO/07v1rM+0W1dVjbzGwlkOjefV3PuyWgsC2apsIYJHjel1PLu5d+aW9QVTJL/cfeK16CzEQn6wu5GRGQrCW/NZ6enf6VOsB2UqMXAnlO5Fz1Pd+fVRHF9ooMNJijG9Jy0Hf+Ei7zvnrC7vKUm5CA0e5mK2lKR+JBP51cFJsthNGBuwhx5u4/x5KtanaDEakm8m6OQ4fz5rxbd19WxEoWi9yFHqHAlYPzFOEuAYVUN3ZKdvgLelkhjxnEIXbzJneJv63TH0d7Q6nZTcbUcZttpR4RMjAjh/8AJJJ+Y+VQDF9g4ywy4Y6zv6Tke46eN781McN2veHCOvbcf1D7j8WTsjSWpkdt9hxLzLiQpDiDkKB6iqZlikgeYpW2cOBB0VoxyMmYJIzcHIrftV2m2Oe1Nt8l2JKaOUOtKwR/uPKulNUzUkomp3lrhkQuc9PFVRmKdoc06FWq2a3zY1wlFpu5RFvaR9hQ5Ikjy8FeXy8K0XsttezFwKSrs2bTk7u69PoqI2j2XfhZNTS/FF5t/jr9U3qsxV8ihC8OuoYaW44oIbQCpSj3ADvNeXODGlzjYBemtLyGtzKptvTum/uFf1sRnFIskRRTHbBwHD3Fw+vTwH41lvavaJ+N1RZGbQs4NHP+49+nRaM2awJmEUwfIP8AVdmeXTw16pcVBVMlDt1tb/5D0i/Na4TOePYRUq++fi88DnUt2YwgYxXiOT/bb8Tu7l4ngo3j2JHDaQvZ87uA/PgqhSZL02Q7IkOqffdUVuOLOVKUe8mtLNa1jQ1osBkFRTnFxLnG5KxV6Xlb8f8Ago9K6jJczmVkr6vidHs+64WzLXpqW5xMuguxFKPuqHvI9D3geRqqNucGbNB+pxD4mcHdRofA8PHorE2SxR0U3uEh+F3FvQ8vFPiqLVuLJHkOxH232HFNPNqCkLQcFJHcQa9se6Jwew2IyK8PY2RpY8XBVxtkd0BuHp4tS1AXmEAiQP5g6OD16+ea1FsltCMbpN2U/wCqzg7ryd469VnXafA/0ip3ov8AafxHTmPD0TJqdqGJN+0trpWntLN2WK5wS7nkLIPNLI7/AJnl86q3b3GDRUQo4j8cuf8Ax1+uSsbYvCxV1Zq5B8MeX/LT6ZqqFZxV9IoQq8+1BcHFXmxweL9iiOt8p/rKsZ+VXnsBAG0c02rnAeACqTbGUuqo4tAL/VJKrSVfooQutaYMm5ux4sOO7KlOkJbZZSVKUT3AAV0uALleCCTYK3Gy3sfsps0u4a7azNmx1NR7ck/8oFD+Is/zB0HT1ponreNokvipuF3pAXvRt52b3Th22egh+LMbLEjGEvtKVwhaT5gnPgcjpXaqDK2ilZmHNd9bfleKcupaqN2ocPVWlUMKOO6sj2I4FaRBuLr5QvqlO2esntC6wg3NCj2IV2chAPvtn3h/r+FSHAMUfg+IR1LcsndQc0xY1hrcUoX05zzHQjJXmjyG5Udp9pQW04kLQodxBGQa14x7ZGh7DcHiFl97HRuLHCxHBU1391EdQbl3MBZUzCIiNg9OHkr+7NZa2zrjW4zKAeDPhHhn53Wjdk6MUmFRm3F/xHxy8rJdVB1MEUIUFu+zcLdfcVYuTkiNAi2vJejEBRdLmEjmCOQ51d+x9U6nwo7ue+VVW0lO2bEBf+kJcao2K0vab7ItNr1Feb5OjH95i2q1fTFx/JxQUhIPlknyqwo6qVzQ5zQAeZtdQmSCJrixriSOQupHtz7NmitZtvvo1XPmLiL4ZUHsExn2Fd+HULBKfUHHnXGetmi4FgF9c12gpYZbkOyzGSs/t1oLQm1+mVXK0MW+EwwyVSrqt5LqkJAPFxOkkpGOmfwpKZZZrB2ui6FkURJbkFp/8ReliyZibfqNdkB/64m0LMLH3uPPFw+fBXb3WTK4vyvxSf3pmdjbnbguT7RGlbbuZtSze7WqPcXYTrE6FNj4X2jRWkKCVeBBBI/przE90Jc13I+i6Pa2UNc3mPVR9CQlCUg5AAGay9IbyOPU+q0DGLMaOgX2ua6IoQrnbCak/wAwbaW0uucT0MqiLKj93mn+0prVGxtf77g0RceLLtPhl5ELN+1dF7pisgaODrOHjn5gqn16nKud4my1HiU+8twnxySazDVzGoqJJj+4k/UrQ9NEIIGRD9oA+gWlSVKUUIXctQfhaXvsuEjjnFpSmh4qSg4FW5skd6kLXZByrnaMFtRvNz3Vg2MiQoW0ml129QWmZBamSHx778hxIU64s9VlZVnPMHl0qdVZcZ372ht4aKI0YaIGbuov46qH7x6Nj6o3X0JGRIeiKuiZLF4TDdLTsyC2lKwlak8+EOdmM8jhwgH7RpTSymOCQ2ytbof/ABJaqISTxi9r3v1H/q3Nf7Oab03e9uHLVHVaLDdruzBvVtQ+sw5iQC4wHEKJHEXkNp6cQUQc5pdT1Ej43bxuQLg69fJN9TTsjlbu8ATYjTp5qyySQkIHugcAR0x3Yx4eVNqcUoNqIMaM9upY7elJ07DvLrcJpP8ADZUuKy682joEh5azgdxJHSlFY49iHuz3T9/sk1IB2pYMt4fb7qLITwISn7oxWXnm7ieq0I0WaAvteV6RQhTvQ24D+l7O5EbdLaVPKcwDjvCR/pUwwjGn4fTmFptxJ8h+FFsUwlldOJXC/C3mVB3W1MurbUMKSSk+tRFzS1xadFJ2kOAcNV4ryvSKEKWaNdCokls94WDjyxVn7JSAwSx6ggqCbRMIljfoRZR1W1110/NlvaK1WvTcSW6p961yoKJsVLijla2kqUkt5JJIGRknuqyfeGPAEzN4jW9j4qCe7PYSYX7oOlrjw5Lq6P27b03c5d6uN0k6j1JLQGXbpMSEcDQOQ002CQ2jPPAJyceFc5Zy9oY0brRp+ea6RQdm4vcd5x1/HJMS76TteuNGqst4j/SYElsBSUq4VpUDlK0KHNKkkAgjuIFKIXujs5uaSTsbIXNdkokNs9dojfViN1Zgs2ODtFWho3EI+79J4+/Hx8OfKlfbRfN2fHv4fRI+xl+XtOHdx+qldn0xadutFLtdpYMeBFZcOXF8bji1ZKnFqPNS1KUSSe8mmrEKjdp5ZpDk0+lgnKhgBmjiZzHrdJ4HIye+s2q90UIRQhbkO1SJzRcaTlIPD+NKoqeSVu81J5J2RHdcuzuTZlWDXd8gqSUpblOFGeqCcpPyIp0x6lNFidRARk427ibjyTbg1SKvDoJhq0X79fNRqmFPSKELq6cuAgXFPGcNOjgUfDwNSXAK4UNYN8/C/gft5pkxekNVTHd+ZvEfdTirmVZJGbwe0BdNO6kOlNG2hd1vaSEPPqaUtLayMhCE9ylYwTnlzp1pqNr2drKbBNs9U5ruziFytaHv3uptLcrcxuFYW7laZKEqD8OOEKSk9/CpsYKh1CqcG09PMy8Jsm1800bz2oVqbPdot+tMO5QXO2hy2kvsuYxxIUMg4prc0tJaUtBDhcKLbmXxMS2Jt7av20k5WB0QP9z+lQLazEBBTCjYfifn3D8n0Uy2bojLOalw+FmXf/A9UrqqBWaihCKEKyOwe3Ea96EM6akpU9KcLfLvQAkZ+YVV7bG4FHV4Z28wzcbd1gPW6pravGZKXEexh0aL9/H7WXE9qfSSod+g6gaR+ymNhh5Q/mJHL+3Hypp9omGmKqjxBg4PFj3jLy9E5bCYgJKd9E48Wm47j/KRNU+rTRQhFCFLdOX5L7aYshfC6nkhZ+IeHrVoYBjbZmikqTZwyJ16d/qoHi+FujcaiAXacxy69y7zbLbLi1obQ2tXvKSkAq9T1qeEnIqJC2YUutqEvWlhtxIcbUgZQoZB9RS1nyhN0nzlat9v0LS8Djc4UqxhqOjAKj5DoKasTxSDC4TJKbuOQ1P8dUvw/D5cQl7OMcNToEmrncn7tOdlSFcTjhz5AdAPKqHq6uWtndPMbk/5ZXDTU0dJE2GIcAtWkaVIoQs8KG7cJjEVhBW88sNoSBkkk4FdYonTyNiYLlxsPFcpZGwsdI82AFyr5aM08jSmlbXaWwAIrCUKx3FXeo//AETWxsKom4dQxUjf2gDx187rK2JVZr6yWpd+4+WnksGvdIR9c6Wm2iRgF1OWnMfw3BzSr51xxnDI8XopKSTXI8joV1wrEZMLrGVLNMxzGoVGr1Z5Wn7tKt01osyozhbcQfEdfQ949ayLV0stFO+nnFnNNitQU1RHVwtnhN2uFwtKkiUooQjOOfdQhTrTzcxNvQqYV/b5tBwYPD4+lXNgArPcw+rJ4/LfO38qssXdTGpLaYDhnbK/8KewkOOWZtLK+zdU1hCiM4PQ1LnB7oi2M2cRwPIqLXa2W7xcX49yS98E9F1kN3Mu/TUK4Vh7kR+HhWfMQ97FS9tbftAeN1dFF7sadrqS24crLQpuS5FCEUIT29mfbhVzuh1ROa/dIpKIgUPfd6qHkn9fSrg2BwI1E36pOPhZwb1dz8PXuVW7a4yIIv06E/E75ug5ePorO1oBUiihCU29+ziNew/rO2IS3fI6MY7hIQPhPmOhqt9rdlhjMfvNMLTNH/Ycu/kp9sxtGcKf7vUG8Tv/AJPPu5qpcyG/b5TsaS0th9pRSttwYUkjoRWbJYnwvMcgs4Zgq/o5GTMEkZuDkQsJ5Ak8gOZPhXunp5quZtPTsLnuNgBxJJ0AXieeKlidPO4NY0XJPAADUrgWzdOw27VlvblMKnWwPBMl8HCEjxA+IA/hitU7OexWoZTGtxlw7W12xDiL/wB5+w7isyY/7Y6d1SKPCWnsr2dIeHD+0fc+Cye0j7Wd02j3Th6fh2G3X/T7lrYmAqUpDpLiljiQtPTCRgd3OpdDg8NZAWyixBt3W0TO/FZaWUPiNwRfvuoOn/EWv9ttcZNm0NbY0tKvtS5rzjoCc9yU4xk9TTrQ7N09KA5zi49UhrMdnqiQAAOis17TutbBbrxaoTcX6RfezDkx1lWC20QClJ6FXXn0pPN7LYNt6WSre7sZALMfbMj+oat0vmFwb7SptjqllKxvaxni9t8gdWnQ62yKWUKYzcYwkR19q0TjIGMHwI6Gsk7VbH4vsdWe6YpHa991w4tcOYPqMxqtP7M7V4XtZSe9YbJe3zNPBzTyI9DkdFmqEqYJhbS7STtxrolxxK41lZUO3k4xxf0J8T+lTXZvZqfHZg5w3YRm77Dr6KI4/tBDg0O63jKch9z0VxrVa4tkt0eDCZTHix0BtttA5ACtR09PFSQtghbZrRYBZ0nnkqZXTTG7nG5K26ULgihCKEJe7nbMWfcZoyD+4XdKcImNp97wCx8Q/PzqE7QbK0eON7Q/BKMnD7jX1UuwTaSqwc7nzR6tP2Onoq66w2suOgNL30T4xdeVFdCZLaSUFOPhPTzr5sRsxFgVXHLPZ0xcBfQC+nfr9F82z2ikxmkkiguIg08NSba92n1VMUkFI61sorG4XTe1DNkRWmHVNOlpoMNyFsoL6Gsk9mHccYRkk8OcczTZ+m0nb+89mN/Px52yv1Tr+qVnu/uvaHc5dOV87dF27DcFwIDaUsxZDS0gqZmRm5DRIPI8CwRkdDjNSp1BTV1PG2oZe2Wh+oTHFX1NBM91O/dvny+iz3G4yrvOfmzX1yZT6itx5xWVKJ6k05xRRwRiKIWaMgE3SyvneZJTdxzJTw9nKzRtQaf1DCktdq2463gJGVJODgjzFUl7TsNpMVhjpa0fAQeOoPMdQrm9m9fVYbLJU0h+IEdxHI9CnBoT2YH5M4ydRyOzgIWeCKycOPJzyKj8I8hz9Kx5hvs7cKlzq+S8YPADNw6nT1WsMQ26aYGtomWkI4k5NPTn6KxdstkSzQWYUGO3Fisp4UNNJwlIq66enipYmwwNDWjIBVHPPLUyGWZxc45krapQuCKEIoQihCKELHIjtS2FsvtIeZWOFTbiQpKh4EHvoQlJrT2UNttbOLefsf1ZKWorVIti+xUSfLBT+VP1LjlfSWDJLgaHiPz5pgqsCw+ruXx2J1HA/jyVMt29lrFoW/y4dvfnuNNLwkyHUqP5JFTzC8cqa0HtA3wB/KgOKYFS0RHZl3iR+FHtP6YiS2mG1rdCcAfZUM/pU+diEsFM1zQMv81UKjw+KaYtcTmrS7ReyvonUdjauly+sZTvHzZVISGzjyCQfzqrq/bLFS50UZa2xzA4+ZPorPodkMM3WyPDndCeHkB6qxOlNBae0PFMexWiNbWieI9kn7ROMc1HJPzqB1VXPXSdrUvLncypxS0kFFH2VOwNb0XfpIlaKEIoQihC/9k=",alt:""}),(0,Sw.jsx)("h3",{children:"No Profile Found"}),(0,Sw.jsx)(Te,{to:"/Admin/AdminLogin",className:"btn",onClick:d,children:"Login"})]}),(0,Sw.jsxs)("nav",{className:"navbar",children:[(0,Sw.jsxs)(Te,{to:"/Admin/AdminLogin",children:[(0,Sw.jsx)("i",{children:(0,Sw.jsx)(ht,{})}),(0,Sw.jsx)("span",{children:"Home"})]}),(0,Sw.jsxs)(Te,{to:"/Admin/AdminLogin",children:[(0,Sw.jsx)("i",{children:(0,Sw.jsx)(Vw,{})}),(0,Sw.jsx)("span",{children:"Playlists"})]}),(0,Sw.jsxs)(Te,{to:"/Admin/AdminLogin",children:[(0,Sw.jsx)("i",{children:(0,Sw.jsx)(lt,{})}),(0,Sw.jsx)("span",{children:"Contents"})]}),(0,Sw.jsxs)(Te,{to:"/Admin/AdminLogin",children:[(0,Sw.jsx)("i",{children:(0,Sw.jsx)(st,{})}),(0,Sw.jsx)("span",{children:"Comments"})]})]})]})]})]})},Hw="@firebase/database",Ww="1.0.5";let Kw="";function Qw(e){Kw=e}class Gw{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),an(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:on(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Yw{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return cn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const Xw=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Gw(t)}}catch(kS){}return new Yw},Jw=Xw("localStorage"),$w=Xw("sessionStorage"),Zw=new Fn("@firebase/database"),e_=function(){let e=1;return function(){return e++}}(),t_=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const t=i-55296;r++,jt(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(t<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new vn;n.update(t);const r=n.digest();return Rt.encodeByteArray(r)},n_=function(){let e="";for(let t=0;t<arguments.length;t++){const n=t<0||arguments.length<=t?void 0:arguments[t];Array.isArray(n)||n&&"object"===typeof n&&"number"===typeof n.length?e+=n_.apply(null,n):e+="object"===typeof n?an(n):n,e+=" "}return e};let r_=null,i_=!0;const s_=function(e,t){jt(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(Zw.logLevel=Ln.VERBOSE,r_=Zw.log.bind(Zw),t&&$w.set("logging_enabled",!0)):"function"===typeof e?r_=e:(r_=null,$w.remove("logging_enabled"))},o_=function(){if(!0===i_&&(i_=!1,null===r_&&!0===$w.get("logging_enabled")&&s_(!0)),r_){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=n_.apply(null,t);r_(r)}},a_=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];o_(e,...n)}},l_=function(){const e="FIREBASE INTERNAL ERROR: "+n_(...arguments);Zw.error(e)},c_=function(){const e="FIREBASE FATAL ERROR: ".concat(n_(...arguments));throw Zw.error(e),new Error(e)},u_=function(){const e="FIREBASE WARNING: "+n_(...arguments);Zw.warn(e)},h_=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},d_="[MIN_NAME]",f_="[MAX_NAME]",p_=function(e,t){if(e===t)return 0;if(e===d_||t===f_)return-1;if(t===d_||e===f_)return 1;{const n=x_(e),r=x_(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},m_=function(e,t){return e===t?0:e<t?-1:1},g_=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+an(t))},y_=function(e){if("object"!==typeof e||null===e)return an(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=an(t[r]),n+=":",n+=y_(e[t[r]]);return n+="}",n},v_=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function w_(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const __=function(e){jt(!h_(e),"Invalid JSON number");const t=1023;let n,r,i,s,o;0===e?(r=0,i=0,n=1/e===-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(s=Math.min(Math.floor(Math.log(e)/Math.LN2),t),r=s+t,i=Math.round(e*Math.pow(2,52-s)-Math.pow(2,52))):(r=0,i=Math.round(e/Math.pow(2,-1074))));const a=[];for(o=52;o;o-=1)a.push(i%2?1:0),i=Math.floor(i/2);for(o=11;o;o-=1)a.push(r%2?1:0),r=Math.floor(r/2);a.push(n?1:0),a.reverse();const l=a.join("");let c="";for(o=0;o<64;o+=8){let e=parseInt(l.substr(o,8),2).toString(16);1===e.length&&(e="0"+e),c+=e}return c.toLowerCase()};const b_=new RegExp("^-?(0*)\\d{1,10}$"),x_=function(e){if(b_.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},C_=function(e){try{e()}catch(kS){setTimeout((()=>{const t=kS.stack||"";throw u_("Exception was thrown by user callback.",t),kS}),Math.floor(0))}},E_=function(e,t){const n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n};class S_{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then((e=>this.appCheck=e))}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise(((t,n)=>{setTimeout((()=>{this.appCheck?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((t=>t.addTokenListener(e)))}notifyForInvalidToken(){u_('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}class k_{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((e=>this.auth_=e))}getToken(e){return this.auth_?this.auth_.getToken(e).catch((e=>e&&"auth/token-not-initialized"===e.code?(o_("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e))):new Promise(((t,n)=>{setTimeout((()=>{this.auth_?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((t=>t.addAuthTokenListener(e)))}removeTokenChangeListener(e){this.authProvider_.get().then((t=>t.removeAuthTokenListener(e)))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',u_(e)}}class T_{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}T_.OWNER="owner";const I_="5",N_=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,j_="ac",P_="websocket",A_="long_polling";class R_{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=s,this.includeNamespaceInQueryParams=o,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Jw.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Jw.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}function L_(e,t,n){let r;if(jt("string"===typeof t,"typeof type must == string"),jt("object"===typeof n,"typeof params must == object"),t===P_)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==A_)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return w_(n,((e,t)=>{i.push(e+"="+t)})),r+i.join("&")}class D_{constructor(){this.counters_={}}incrementCounter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;cn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return Ut(this.counters_)}}const O_={},M_={};function U_(e){const t=e.toString();return O_[t]||(O_[t]=new D_),O_[t]}class F_{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&C_((()=>{this.onMessage_(e[t])}));if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const V_="start";class z_{constructor(e,t,n,r,i,s,o){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=s,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=a_(e),this.stats_=U_(t),this.urlFn=e=>(this.appCheckToken&&(e[j_]=this.appCheckToken),L_(t,A_,e))}open(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new F_(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if($t()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(()=>{"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((()=>{if(this.isClosed_)return;this.scriptTagHolder=new q_((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,s,o,a,l]=t;if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===V_)n.id=s,n.password=o;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);s?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(s,(()=>{n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,s]=t;n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,s)}),(()=>{this.onClosed_()}),this.urlFn);const e={};e[V_]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=I_,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[j_]=this.appCheckToken),"undefined"!==typeof location&&location.hostname&&N_.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,(()=>{}))}))}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){z_.forceAllow_=!0}static forceDisallow(){z_.forceDisallow_=!0}static isAvailable(){return!$t()&&(!!z_.forceAllow_||!z_.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=an(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=Dt(t),r=v_(n,1840);for(let i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if($t())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=an(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class q_{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,$t())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=e_(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=q_.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){n='<script>document.domain="'+document.domain+'";<\/script>'}const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(kS){o_("frame writing exception"),kS.stack&&o_(kS.stack),o_(kS)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||o_("No IE domain setting required")}catch(kS){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)}),Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,(()=>{clearTimeout(r),n()}))}addTag(e,t){$t()?this.doNodeLongPoll(e,t):setTimeout((()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{o_("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(kS){}}),Math.floor(1))}}let B_=null;"undefined"!==typeof MozWebSocket?B_=MozWebSocket:"undefined"!==typeof WebSocket&&(B_=WebSocket);class H_{constructor(e,t,n,r,i,s,o){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=a_(this.connId),this.stats_=U_(t),this.connURL=H_.connectionURL_(t,s,o,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,i){const s={};return s.v=I_,!$t()&&"undefined"!==typeof location&&location.hostname&&N_.test(location.hostname)&&(s.r="f"),t&&(s.s=t),n&&(s.ls=n),r&&(s[j_]=r),i&&(s.p=i),L_(e,P_,s)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Jw.set("previous_websocket_failure",!0);try{let e;if($t()){const t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":"Firebase/".concat(I_,"/").concat(Kw,"/").concat(process.platform,"/").concat(t),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},r=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;r&&(e.proxy={origin:r})}this.mySock=new B_(this.connURL,[],e)}catch(kS){this.log_("Error instantiating WebSocket.");const t=kS.message||kS.data;return t&&this.log_(t),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){H_.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==B_&&!H_.forceDisallow_}static previouslyFailed(){return Jw.isInMemoryStorage||!0===Jw.get("previous_websocket_failure")}markConnectionHealthy(){Jw.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=on(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(jt(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=an(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=v_(t,16384);n.length>1&&this.sendString_(String(n.length));for(let r=0;r<n.length;r++)this.sendString_(n[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()}),Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(kS){this.log_("Exception thrown from WebSocket.send():",kS.message||kS.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}H_.responsesRequiredToBeHealthy=2,H_.healthyTimeout=3e4;class W_{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[z_,H_]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const t=H_&&H_.isAvailable();let n=t&&!H_.previouslyFailed();if(e.webSocketOnly&&(t||u_("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[H_];else{const e=this.transports_=[];for(const t of W_.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);W_.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}W_.globalTransportInitialized_=!1;class K_{constructor(e,t,n,r,i,s,o,a,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=s,this.onReady_=o,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=a_("c:"+this.id+":"),this.transportManager_=new W_(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((()=>{this.conn_&&this.conn_.open(t,n)}),Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=E_((()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))}),Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=g_("t",e),n=g_("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=g_("t",e),n=g_("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=g_("t",e);if("d"in e){const n=e.d;if("h"===t){const e=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?l_("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):l_("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),I_!==n&&u_("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),E_((()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())}),Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):E_((()=>{this.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Jw.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Q_{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class G_{constructor(e){this.allowedEvents_=e,this.listeners_={},jt(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(let e=0;e<i.length;e++)i[e].callback.apply(i[e].context,n)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}validateEventType_(e){jt(this.allowedEvents_.find((t=>t===e)),"Unknown event: "+e)}}class Y_ extends G_{constructor(){super(["online"]),this.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Yt()||(window.addEventListener("online",(()=>{this.online_||(this.online_=!0,this.trigger("online",!0))}),!1),window.addEventListener("offline",(()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))}),!1))}static getInstance(){return new Y_}getInitialEvent(e){return jt("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const X_=32,J_=768;class $_{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Z_(){return new $_("")}function eb(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function tb(e){return e.pieces_.length-e.pieceNum_}function nb(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new $_(e.pieces_,t)}function rb(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function ib(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function sb(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new $_(t,0)}function ob(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof $_)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new $_(n,0)}function ab(e){return e.pieceNum_>=e.pieces_.length}function lb(e,t){const n=eb(e),r=eb(t);if(null===n)return t;if(n===r)return lb(nb(e),nb(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function cb(e,t){if(tb(e)!==tb(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function ub(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(tb(e)>tb(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class hb{constructor(e,t){this.errorPrefix_=t,this.parts_=ib(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=xn(this.parts_[n]);db(this)}}function db(e){if(e.byteLength_>J_)throw new Error(e.errorPrefix_+"has a key path longer than "+J_+" bytes ("+e.byteLength_+").");if(e.parts_.length>X_)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+X_+") or object contains a cycle "+fb(e))}function fb(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class pb extends G_{constructor(){let e,t;super(["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,(()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))}),!1)}static getInstance(){return new pb}getInitialEvent(e){return jt("visible"===e,"Unknown event type: "+e),[this.visible_]}}const mb=1e3;class gb extends Q_{constructor(e,t,n,r,i,s,o,a){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=s,this.appCheckTokenProvider_=o,this.authOverride_=a,this.id=gb.nextPersistentConnectionId_++,this.log_=a_("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=mb,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!$t())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");pb.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Y_.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(an(i)),jt(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new Kt,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();const i=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+i),this.listens.has(s)||this.listens.set(s,new Map),jt(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),jt(!this.listens.get(s).has(i),"listen() called twice for same path/queryId.");const o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(s).set(i,o),this.connected_&&this.sendListen_(o)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,(n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)}))}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const i={p:n};e.tag&&(i.q=t._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest("q",i,(i=>{const s=i.d,o=i.s;gb.warnOnListenWarnings_(s,t);(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",i),"ok"!==o&&this.removeListen_(n,r),e.onComplete&&e.onComplete(o,s))}))}static warnOnListenWarnings_(e,t){if(e&&"object"===typeof e&&cn(e,"w")){const n=un(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();u_("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(e," at ")+"".concat(n," to your security rules for better performance."))}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(()=>{})),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=ln(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(()=>{}))}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=ln(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"===typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,(t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))}))}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)}))}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),jt(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(e=>{r&&setTimeout((()=>{r(e.s,e.d)}),Math.floor(0))}))}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,i){this.initConnection_();const s={p:t,d:n};void 0!==i&&(s.h=i),this.outstandingPuts_.push({action:e,request:s,onComplete:r}),this.outstandingPutCount_++;const o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,(n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)}))}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,(e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}}))}}onDataMessage_(e){if("r"in e){this.log_("from server: "+an(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):l_("Unrecognized action received from server: "+an(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){jt(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((()=>{this.establishConnectionTimer_=null,this.establishConnection_()}),Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=mb,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=mb,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=mb),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+gb.nextConnectionId_++,i=this.lastSessionId;let s=!1,o=null;const a=function(){o?o.close():(s=!0,n())},l=function(e){jt(o,"sendRequest call when we're not connected not allowed."),o.sendRequest(e)};this.realtime_={close:a,sendRequest:l};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[a,l]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);s?o_("getToken() completed but was canceled"):(o_("getToken() completed. Creating connection."),this.authToken_=a&&a.accessToken,this.appCheckToken_=l&&l.token,o=new K_(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,(e=>{u_(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")}),i))}catch(l_){this.log_("Failed to get token: "+l_),s||(this.repoInfo_.nodeAdmin&&u_(l_),a())}}}interrupt(e){o_("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){o_("Resuming connection for reason: "+e),delete this.interruptReasons_[e],hn(this.interruptReasons_)&&(this.reconnectDelay_=mb,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map((e=>y_(e))).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new $_(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){o_("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){o_("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";$t()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+Kw.replace(/\./g,"-")]=1,Yt()?e["framework.cordova"]=1:Jt()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Y_.getInstance().currentlyOnline();return hn(this.interruptReasons_)&&e}}gb.nextPersistentConnectionId_=0,gb.nextConnectionId_=0;class yb{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new yb(e,t)}}class vb{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new yb(d_,e),r=new yb(d_,t);return 0!==this.compare(n,r)}minPost(){return yb.MIN}}let wb;class _b extends vb{static get __EMPTY_NODE(){return wb}static set __EMPTY_NODE(e){wb=e}compare(e,t){return p_(e.name,t.name)}isDefinedOn(e){throw Pt("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return yb.MIN}maxPost(){return new yb(f_,wb)}makePost(e,t){return jt("string"===typeof e,"KeyIndex indexValue must always be a string."),new yb(e,wb)}toString(){return".key"}}const bb=new _b;class xb{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,r&&(s*=-1),s<0)e=this.isReverse_?e.left:e.right;else{if(0===s){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Cb{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Cb.RED,this.left=null!=r?r:Eb.EMPTY_NODE,this.right=null!=i?i:Eb.EMPTY_NODE}copy(e,t,n,r,i){return new Cb(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return Eb.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Eb.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Cb.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Cb.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Cb.RED=!0,Cb.BLACK=!1;class Eb{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Eb.EMPTY_NODE;this.comparator_=e,this.root_=t}insert(e,t){return new Eb(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Cb.BLACK,null,null))}remove(e){return new Eb(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Cb.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new xb(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new xb(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new xb(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new xb(this.root_,null,this.comparator_,!0,e)}}function Sb(e,t){return p_(e.name,t.name)}function kb(e,t){return p_(e,t)}let Tb;Eb.EMPTY_NODE=new class{copy(e,t,n,r,i){return this}insert(e,t,n){return new Cb(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Ib=function(e){return"number"===typeof e?"number:"+__(e):"string:"+e},Nb=function(e){if(e.isLeafNode()){const t=e.val();jt("string"===typeof t||"number"===typeof t||"object"===typeof t&&cn(t,".sv"),"Priority must be a string or number.")}else jt(e===Tb||e.isEmpty(),"priority of unexpected type.");jt(e===Tb||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let jb,Pb,Ab;class Rb{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Rb.__childrenNodeConstructor.EMPTY_NODE;this.value_=e,this.priorityNode_=t,this.lazyHash_=null,jt(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Nb(this.priorityNode_)}static set __childrenNodeConstructor(e){jb=e}static get __childrenNodeConstructor(){return jb}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Rb(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:Rb.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ab(e)?this:".priority"===eb(e)?this.priorityNode_:Rb.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:Rb.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=eb(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(jt(".priority"!==n||1===tb(e),".priority must be the last token in a path"),this.updateImmediateChild(n,Rb.__childrenNodeConstructor.EMPTY_NODE.updateChild(nb(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Ib(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?__(this.value_):this.value_,this.lazyHash_=t_(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Rb.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Rb.__childrenNodeConstructor?-1:(jt(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=Rb.VALUE_TYPE_ORDER.indexOf(t),i=Rb.VALUE_TYPE_ORDER.indexOf(n);return jt(r>=0,"Unknown leaf type: "+t),jt(i>=0,"Unknown leaf type: "+n),r===i?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}Rb.VALUE_TYPE_ORDER=["object","boolean","number","string"];const Lb=new class extends vb{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?p_(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return yb.MIN}maxPost(){return new yb(f_,new Rb("[PRIORITY-POST]",Ab))}makePost(e,t){const n=Pb(e);return new yb(t,new Rb("[PRIORITY-POST]",n))}toString(){return".priority"}},Db=Math.log(2);class Ob{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/Db,10)),this.current_=this.count-1;const n=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Mb=function(e,t,n,r){e.sort(t);const i=function(t,r){const s=r-t;let o,a;if(0===s)return null;if(1===s)return o=e[t],a=n?n(o):o,new Cb(a,o.node,Cb.BLACK,null,null);{const l=parseInt(s/2,10)+t,c=i(t,l),u=i(l+1,r);return o=e[l],a=n?n(o):o,new Cb(a,o.node,Cb.BLACK,c,u)}},s=function(t){let r=null,s=null,o=e.length;const a=function(t,r){const s=o-t,a=o;o-=t;const c=i(s+1,a),u=e[s],h=n?n(u):u;l(new Cb(h,u.node,r,null,c))},l=function(e){r?(r.left=e,r=e):(s=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?a(r,Cb.BLACK):(a(r,Cb.BLACK),a(r,Cb.RED))}return s}(new Ob(e.length));return new Eb(r||t,s)};let Ub;const Fb={};class Vb{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return jt(Fb&&Lb,"ChildrenNode.ts has not been loaded"),Ub=Ub||new Vb({".priority":Fb},{".priority":Lb}),Ub}get(e){const t=un(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Eb?t:null}hasIndex(e){return cn(this.indexSet_,e.toString())}addIndex(e,t){jt(e!==bb,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const i=t.getIterator(yb.Wrap);let s,o=i.getNext();for(;o;)r=r||e.isDefinedOn(o.node),n.push(o),o=i.getNext();s=r?Mb(n,e.getCompare()):Fb;const a=e.toString(),l=Object.assign({},this.indexSet_);l[a]=e;const c=Object.assign({},this.indexes_);return c[a]=s,new Vb(c,l)}addToIndexes(e,t){const n=dn(this.indexes_,((n,r)=>{const i=un(this.indexSet_,r);if(jt(i,"Missing index implementation for "+r),n===Fb){if(i.isDefinedOn(e.node)){const n=[],r=t.getIterator(yb.Wrap);let s=r.getNext();for(;s;)s.name!==e.name&&n.push(s),s=r.getNext();return n.push(e),Mb(n,i.getCompare())}return Fb}{const r=t.get(e.name);let i=n;return r&&(i=i.remove(new yb(e.name,r))),i.insert(e,e.node)}}));return new Vb(n,this.indexSet_)}removeFromIndexes(e,t){const n=dn(this.indexes_,(n=>{if(n===Fb)return n;{const r=t.get(e.name);return r?n.remove(new yb(e.name,r)):n}}));return new Vb(n,this.indexSet_)}}let zb;class qb{constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Nb(this.priorityNode_),this.children_.isEmpty()&&jt(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return zb||(zb=new qb(new Eb(kb),null,Vb.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||zb}updatePriority(e){return this.children_.isEmpty()?this:new qb(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?zb:t}}getChild(e){const t=eb(e);return null===t?this:this.getImmediateChild(t).getChild(nb(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(jt(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new yb(e,t);let r,i;t.isEmpty()?(r=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),i=this.indexMap_.addToIndexes(n,this.children_));const s=r.isEmpty()?zb:this.priorityNode_;return new qb(r,s,i)}}updateChild(e,t){const n=eb(e);if(null===n)return t;{jt(".priority"!==eb(e)||1===tb(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(nb(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,i=!0;if(this.forEachChild(Lb,((s,o)=>{t[s]=o.val(e),n++,i&&qb.INTEGER_REGEXP_.test(s)?r=Math.max(r,Number(s)):i=!1})),!e&&i&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Ib(this.getPriority().val())+":"),this.forEachChild(Lb,((t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":t_(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new yb(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new yb(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new yb(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal((e=>t(e.name,e.node))):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(e=>e));{const n=this.children_.getIteratorFrom(e.name,yb.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(e=>e));{const n=this.children_.getReverseIteratorFrom(e.name,yb.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Bb?-1:0}withIndex(e){if(e===bb||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new qb(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===bb||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(Lb),n=t.getIterator(Lb);let r=e.getNext(),i=n.getNext();for(;r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1}return!1}}resolveIndex_(e){return e===bb?null:this.indexMap_.get(e.toString())}}qb.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const Bb=new class extends qb{constructor(){super(new Eb(kb),qb.EMPTY_NODE,Vb.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return qb.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(yb,{MIN:{value:new yb(d_,qb.EMPTY_NODE)},MAX:{value:new yb(f_,Bb)}}),_b.__EMPTY_NODE=qb.EMPTY_NODE,Rb.__childrenNodeConstructor=qb,Tb=Bb,function(e){Ab=e}(Bb);const Hb=!0;function Wb(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return qb.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),jt(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){return new Rb(e,Wb(t))}if(e instanceof Array||!Hb){let n=qb.EMPTY_NODE;return w_(e,((t,r)=>{if(cn(e,t)&&"."!==t.substring(0,1)){const e=Wb(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}})),n.updatePriority(Wb(t))}{const n=[];let r=!1;if(w_(e,((e,t)=>{if("."!==e.substring(0,1)){const i=Wb(t);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new yb(e,i)))}})),0===n.length)return qb.EMPTY_NODE;const i=Mb(n,Sb,(e=>e.name),kb);if(r){const e=Mb(n,Lb.getCompare());return new qb(i,Wb(t),new Vb({".priority":e},{".priority":Lb}))}return new qb(i,Wb(t),Vb.Default)}}!function(e){Pb=e}(Wb);class Kb extends vb{constructor(e){super(),this.indexPath_=e,jt(!ab(e)&&".priority"!==eb(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?p_(e.name,t.name):i}makePost(e,t){const n=Wb(e),r=qb.EMPTY_NODE.updateChild(this.indexPath_,n);return new yb(t,r)}maxPost(){const e=qb.EMPTY_NODE.updateChild(this.indexPath_,Bb);return new yb(f_,e)}toString(){return ib(this.indexPath_,0).join("/")}}const Qb=new class extends vb{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?p_(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return yb.MIN}maxPost(){return yb.MAX}makePost(e,t){const n=Wb(e);return new yb(t,n)}toString(){return".value"}};function Gb(e){return{type:"value",snapshotNode:e}}function Yb(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Xb(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Jb(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class $b{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Lb}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return jt(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return jt(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:d_}hasEnd(){return this.endSet_}getIndexEndValue(){return jt(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return jt(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:f_}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return jt(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Lb}copy(){const e=new $b;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Zb(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Lb?n="$priority":e.index_===Qb?n="$value":e.index_===bb?n="$key":(jt(e.index_ instanceof Kb,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=an(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=an(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+an(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=an(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+an(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function ex(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Lb&&(t.i=e.index_.toString()),t}class tx extends Q_{constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=a_("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(jt(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,n,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const s=tx.getListenId_(e,n),o={};this.listens_[s]=o;const a=Zb(e._queryParams);this.restRequest_(i+".json",a,((e,t)=>{let a=t;if(404===e&&(a=null,e=null),null===e&&this.onDataUpdate_(i,a,!1,n),un(this.listens_,s)===o){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}}))}unlisten(e,t){const n=tx.getListenId_(e,t);delete this.listens_[n]}get(e){const t=Zb(e._queryParams),n=e._path.toString(),r=new Kt;return this.restRequest_(n+".json",t,((e,t)=>{let i=t;404===e&&(i=null,e=null),null===e?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(new Error(i))})),r.promise}refreshAuthToken(e){}restRequest_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((r=>{let[i,s]=r;i&&i.accessToken&&(t.auth=i.accessToken),s&&s.token&&(t.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+mn(t);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(n&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let e=null;if(a.status>=200&&a.status<300){try{e=on(a.responseText)}catch(kS){u_("Failed to parse JSON response for "+o+": "+a.responseText)}n(null,e)}else 401!==a.status&&404!==a.status&&u_("Got unsuccessful REST response for "+o+" Status: "+a.status),n(a.status);n=null}},a.open("GET",o,!0),a.send()}))}}class nx{constructor(){this.rootNode_=qb.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function rx(){return{value:null,children:new Map}}function ix(e,t,n){if(ab(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=eb(t);e.children.has(r)||e.children.set(r,rx());ix(e.children.get(r),t=nb(t),n)}}function sx(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach(((e,n)=>{t(n,e)}))}(e,((e,r)=>{sx(r,new $_(t.toString()+"/"+e),n)}))}class ox{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&w_(this.last_,((e,n)=>{t[e]=t[e]-n})),this.last_=e,t}}class ax{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new ox(e);const n=1e4+2e4*Math.random();E_(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;w_(e,((e,r)=>{r>0&&cn(this.statsToReport_,e)&&(t[e]=r,n=!0)})),n&&this.server_.reportStats(t),E_(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var lx;function cx(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(lx||(lx={}));class ux{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=lx.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(ab(this.path)){if(null!=this.affectedTree.value)return jt(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new $_(e));return new ux(Z_(),t,this.revert)}}return jt(eb(this.path)===e,"operationForChild called for unrelated child."),new ux(nb(this.path),this.affectedTree,this.revert)}}class hx{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=lx.OVERWRITE}operationForChild(e){return ab(this.path)?new hx(this.source,Z_(),this.snap.getImmediateChild(e)):new hx(this.source,nb(this.path),this.snap)}}class dx{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=lx.MERGE}operationForChild(e){if(ab(this.path)){const t=this.children.subtree(new $_(e));return t.isEmpty()?null:t.value?new hx(this.source,Z_(),t.value):new dx(this.source,Z_(),t)}return jt(eb(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new dx(this.source,nb(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class fx{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ab(e))return this.isFullyInitialized()&&!this.filtered_;const t=eb(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function px(e,t,n,r,i,s){const o=r.filter((e=>e.type===n));o.sort(((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw Pt("Should only compare child_ events.");const r=new yb(t.childName,t.snapshotNode),i=new yb(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n))),o.forEach((n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,s);i.forEach((i=>{i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function mx(e,t){return{eventCache:e,serverCache:t}}function gx(e,t,n,r){return mx(new fx(t,n,r),e.serverCache)}function yx(e,t,n,r){return mx(e.eventCache,new fx(t,n,r))}function vx(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function wx(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let _x;class bx{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(_x||(_x=new Eb(m_)),_x);this.value=e,this.children=t}static fromObject(e){let t=new bx(null);return w_(e,((e,n)=>{t=t.set(new $_(e),n)})),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Z_(),value:this.value};if(ab(e))return null;{const n=eb(e),r=this.children.get(n);if(null!==r){const i=r.findRootMostMatchingPathAndValue(nb(e),t);if(null!=i){return{path:ob(new $_(n),i.path),value:i.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,(()=>!0))}subtree(e){if(ab(e))return this;{const t=eb(e),n=this.children.get(t);return null!==n?n.subtree(nb(e)):new bx(null)}}set(e,t){if(ab(e))return new bx(t,this.children);{const n=eb(e),r=(this.children.get(n)||new bx(null)).set(nb(e),t),i=this.children.insert(n,r);return new bx(this.value,i)}}remove(e){if(ab(e))return this.children.isEmpty()?new bx(null):new bx(null,this.children);{const t=eb(e),n=this.children.get(t);if(n){const r=n.remove(nb(e));let i;return i=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&i.isEmpty()?new bx(null):new bx(this.value,i)}return this}}get(e){if(ab(e))return this.value;{const t=eb(e),n=this.children.get(t);return n?n.get(nb(e)):null}}setTree(e,t){if(ab(e))return t;{const n=eb(e),r=(this.children.get(n)||new bx(null)).setTree(nb(e),t);let i;return i=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new bx(this.value,i)}}fold(e){return this.fold_(Z_(),e)}fold_(e,t){const n={};return this.children.inorderTraversal(((r,i)=>{n[r]=i.fold_(ob(e,r),t)})),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,Z_(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(ab(e))return null;{const r=eb(e),i=this.children.get(r);return i?i.findOnPath_(nb(e),ob(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Z_(),t)}foreachOnPath_(e,t,n){if(ab(e))return this;{this.value&&n(t,this.value);const r=eb(e),i=this.children.get(r);return i?i.foreachOnPath_(nb(e),ob(t,r),n):new bx(null)}}foreach(e){this.foreach_(Z_(),e)}foreach_(e,t){this.children.inorderTraversal(((n,r)=>{r.foreach_(ob(e,n),t)})),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal(((t,n)=>{n.value&&e(t,n.value)}))}}class xx{constructor(e){this.writeTree_=e}static empty(){return new xx(new bx(null))}}function Cx(e,t,n){if(ab(t))return new xx(new bx(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let s=r.value;const o=lb(i,t);return s=s.updateChild(o,n),new xx(e.writeTree_.set(i,s))}{const r=new bx(n),i=e.writeTree_.setTree(t,r);return new xx(i)}}}function Ex(e,t,n){let r=e;return w_(n,((e,n)=>{r=Cx(r,ob(t,e),n)})),r}function Sx(e,t){if(ab(t))return xx.empty();{const n=e.writeTree_.setTree(t,new bx(null));return new xx(n)}}function kx(e,t){return null!=Tx(e,t)}function Tx(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(lb(n.path,t)):null}function Ix(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Lb,((e,n)=>{t.push(new yb(e,n))})):e.writeTree_.children.inorderTraversal(((e,n)=>{null!=n.value&&t.push(new yb(e,n.value))})),t}function Nx(e,t){if(ab(t))return e;{const n=Tx(e,t);return new xx(null!=n?new bx(n):e.writeTree_.subtree(t))}}function jx(e){return e.writeTree_.isEmpty()}function Px(e,t){return Ax(Z_(),e.writeTree_,t)}function Ax(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal(((t,i)=>{".priority"===t?(jt(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=Ax(ob(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(ob(e,".priority"),r)),n}}function Rx(e,t){return Kx(t,e)}function Lx(e,t){const n=e.allWrites.findIndex((e=>e.writeId===t));jt(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,s=!1,o=e.allWrites.length-1;for(;i&&o>=0;){const t=e.allWrites[o];t.visible&&(o>=n&&Dx(t,r.path)?i=!1:ub(r.path,t.path)&&(s=!0)),o--}if(i){if(s)return function(e){e.visibleWrites=Mx(e.allWrites,Ox,Z_()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(r.snap)e.visibleWrites=Sx(e.visibleWrites,r.path);else{w_(r.children,(t=>{e.visibleWrites=Sx(e.visibleWrites,ob(r.path,t))}))}return!0}return!1}function Dx(e,t){if(e.snap)return ub(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&ub(ob(e.path,n),t))return!0;return!1}function Ox(e){return e.visible}function Mx(e,t,n){let r=xx.empty();for(let i=0;i<e.length;++i){const s=e[i];if(t(s)){const e=s.path;let t;if(s.snap)ub(n,e)?(t=lb(n,e),r=Cx(r,t,s.snap)):ub(e,n)&&(t=lb(e,n),r=Cx(r,Z_(),s.snap.getChild(t)));else{if(!s.children)throw Pt("WriteRecord should have .snap or .children");if(ub(n,e))t=lb(n,e),r=Ex(r,t,s.children);else if(ub(e,n))if(t=lb(e,n),ab(t))r=Ex(r,Z_(),s.children);else{const e=un(s.children,eb(t));if(e){const n=e.getChild(nb(t));r=Cx(r,Z_(),n)}}}}}return r}function Ux(e,t,n,r,i){if(r||i){const s=Nx(e.visibleWrites,t);if(!i&&jx(s))return n;if(i||null!=n||kx(s,Z_())){const s=function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(ub(e.path,t)||ub(t,e.path))};return Px(Mx(e.allWrites,s,t),n||qb.EMPTY_NODE)}return null}{const r=Tx(e.visibleWrites,t);if(null!=r)return r;{const r=Nx(e.visibleWrites,t);if(jx(r))return n;if(null!=n||kx(r,Z_())){return Px(r,n||qb.EMPTY_NODE)}return null}}}function Fx(e,t,n,r){return Ux(e.writeTree,e.treePath,t,n,r)}function Vx(e,t){return function(e,t,n){let r=qb.EMPTY_NODE;const i=Tx(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Lb,((e,t)=>{r=r.updateImmediateChild(e,t)})),r;if(n){const i=Nx(e.visibleWrites,t);return n.forEachChild(Lb,((e,t)=>{const n=Px(Nx(i,new $_(e)),t);r=r.updateImmediateChild(e,n)})),Ix(i).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}return Ix(Nx(e.visibleWrites,t)).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function zx(e,t,n,r){return function(e,t,n,r,i){jt(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=ob(t,n);if(kx(e.visibleWrites,s))return null;{const t=Nx(e.visibleWrites,s);return jx(t)?i.getChild(n):Px(t,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function qx(e,t){return function(e,t){return Tx(e.visibleWrites,t)}(e.writeTree,ob(e.treePath,t))}function Bx(e,t,n,r,i,s){return function(e,t,n,r,i,s,o){let a;const l=Nx(e.visibleWrites,t),c=Tx(l,Z_());if(null!=c)a=c;else{if(null==n)return[];a=Px(l,n)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const e=[],t=o.getCompare(),n=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let l=n.getNext();for(;l&&e.length<i;)0!==t(l,r)&&e.push(l),l=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,i,s)}function Hx(e,t,n){return function(e,t,n,r){const i=ob(t,n),s=Tx(e.visibleWrites,i);if(null!=s)return s;if(r.isCompleteForChild(n))return Px(Nx(e.visibleWrites,i),r.getNode().getImmediateChild(n));return null}(e.writeTree,e.treePath,t,n)}function Wx(e,t){return Kx(ob(e.treePath,t),e.writeTree)}function Kx(e,t){return{treePath:e,writeTree:t}}class Qx{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;jt("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),jt(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Jb(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,Xb(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,Yb(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Pt("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Jb(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const Gx=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class Yx{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new fx(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Hx(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:wx(this.viewCache_),i=Bx(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}function Xx(e,t,n,r,i){const s=new Qx;let o,a;if(n.type===lx.OVERWRITE){const l=n;l.source.fromUser?o=Zx(e,t,l.path,l.snap,r,i,s):(jt(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!ab(l.path),o=$x(e,t,l.path,l.snap,r,i,a,s))}else if(n.type===lx.MERGE){const l=n;l.source.fromUser?o=function(e,t,n,r,i,s,o){let a=t;return r.foreach(((r,l)=>{const c=ob(n,r);eC(t,eb(c))&&(a=Zx(e,a,c,l,i,s,o))})),r.foreach(((r,l)=>{const c=ob(n,r);eC(t,eb(c))||(a=Zx(e,a,c,l,i,s,o))})),a}(e,t,l.path,l.children,r,i,s):(jt(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),o=nC(e,t,l.path,l.children,r,i,a,s))}else if(n.type===lx.ACK_USER_WRITE){const a=n;o=a.revert?function(e,t,n,r,i,s){let o;if(null!=qx(r,n))return t;{const a=new Yx(r,t,i),l=t.eventCache.getNode();let c;if(ab(n)||".priority"===eb(n)){let n;if(t.serverCache.isFullyInitialized())n=Fx(r,wx(t));else{const e=t.serverCache.getNode();jt(e instanceof qb,"serverChildren would be complete if leaf node"),n=Vx(r,e)}c=e.filter.updateFullNode(l,n,s)}else{const i=eb(n);let u=Hx(r,i,t.serverCache);null==u&&t.serverCache.isCompleteForChild(i)&&(u=l.getImmediateChild(i)),c=null!=u?e.filter.updateChild(l,i,u,nb(n),a,s):t.eventCache.getNode().hasChild(i)?e.filter.updateChild(l,i,qb.EMPTY_NODE,nb(n),a,s):l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=Fx(r,wx(t)),o.isLeafNode()&&(c=e.filter.updateFullNode(c,o,s)))}return o=t.serverCache.isFullyInitialized()||null!=qx(r,Z_()),gx(t,c,o,e.filter.filtersNodes())}}(e,t,a.path,r,i,s):function(e,t,n,r,i,s,o){if(null!=qx(i,n))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(ab(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return $x(e,t,n,l.getNode().getChild(n),i,s,a,o);if(ab(n)){let r=new bx(null);return l.getNode().forEachChild(bb,((e,t)=>{r=r.set(new $_(e),t)})),nC(e,t,n,r,i,s,a,o)}return t}{let c=new bx(null);return r.foreach(((e,t)=>{const r=ob(n,e);l.isCompleteForPath(r)&&(c=c.set(e,l.getNode().getChild(r)))})),nC(e,t,n,c,i,s,a,o)}}(e,t,a.path,a.affectedTree,r,i,s)}else{if(n.type!==lx.LISTEN_COMPLETE)throw Pt("Unknown operation type: "+n.type);o=function(e,t,n,r,i){const s=t.serverCache,o=yx(t,s.getNode(),s.isFullyInitialized()||ab(n),s.isFiltered());return Jx(e,o,n,r,Gx,i)}(e,t,n.path,r,s)}const l=s.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=vx(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(Gb(vx(t)))}}(t,o,l),{viewCache:o,changes:l}}function Jx(e,t,n,r,i,s){const o=t.eventCache;if(null!=qx(r,n))return t;{let a,l;if(ab(n))if(jt(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=wx(t),i=Vx(r,n instanceof qb?n:qb.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),i,s)}else{const n=Fx(r,wx(t));a=e.filter.updateFullNode(t.eventCache.getNode(),n,s)}else{const c=eb(n);if(".priority"===c){jt(1===tb(n),"Can't have a priority with additional path components");const i=o.getNode();l=t.serverCache.getNode();const s=zx(r,n,i,l);a=null!=s?e.filter.updatePriority(i,s):o.getNode()}else{const u=nb(n);let h;if(o.isCompleteForChild(c)){l=t.serverCache.getNode();const e=zx(r,n,o.getNode(),l);h=null!=e?o.getNode().getImmediateChild(c).updateChild(u,e):o.getNode().getImmediateChild(c)}else h=Hx(r,c,t.serverCache);a=null!=h?e.filter.updateChild(o.getNode(),c,h,u,i,s):o.getNode()}}return gx(t,a,o.isFullyInitialized()||ab(n),e.filter.filtersNodes())}}function $x(e,t,n,r,i,s,o,a){const l=t.serverCache;let c;const u=o?e.filter:e.filter.getIndexedFilter();if(ab(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),e,null)}else{const e=eb(n);if(!l.isCompleteForPath(n)&&tb(n)>1)return t;const i=nb(n),s=l.getNode().getImmediateChild(e).updateChild(i,r);c=".priority"===e?u.updatePriority(l.getNode(),s):u.updateChild(l.getNode(),e,s,i,Gx,null)}const h=yx(t,c,l.isFullyInitialized()||ab(n),u.filtersNodes());return Jx(e,h,n,i,new Yx(i,h,s),a)}function Zx(e,t,n,r,i,s,o){const a=t.eventCache;let l,c;const u=new Yx(i,t,s);if(ab(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,o),l=gx(t,c,!0,e.filter.filtersNodes());else{const i=eb(n);if(".priority"===i)c=e.filter.updatePriority(t.eventCache.getNode(),r),l=gx(t,c,a.isFullyInitialized(),a.isFiltered());else{const s=nb(n),c=a.getNode().getImmediateChild(i);let h;if(ab(s))h=r;else{const e=u.getCompleteChild(i);h=null!=e?".priority"===rb(s)&&e.getChild(sb(s)).isEmpty()?e:e.updateChild(s,r):qb.EMPTY_NODE}if(c.equals(h))l=t;else{l=gx(t,e.filter.updateChild(a.getNode(),i,h,s,u,o),a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function eC(e,t){return e.eventCache.isCompleteForChild(t)}function tC(e,t,n){return n.foreach(((e,n)=>{t=t.updateChild(e,n)})),t}function nC(e,t,n,r,i,s,o,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=ab(n)?r:new bx(null).setTree(n,r);const u=t.serverCache.getNode();return l.children.inorderTraversal(((n,r)=>{if(u.hasChild(n)){const l=tC(0,t.serverCache.getNode().getImmediateChild(n),r);c=$x(e,c,new $_(n),l,i,s,o,a)}})),l.children.inorderTraversal(((n,r)=>{const l=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!u.hasChild(n)&&!l){const l=tC(0,t.serverCache.getNode().getImmediateChild(n),r);c=$x(e,c,new $_(n),l,i,s,o,a)}})),c}function rC(e,t){const n=wx(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!ab(t)&&!n.getImmediateChild(eb(t)).isEmpty())?n.getChild(t):null}function iC(e,t,n,r){t.type===lx.MERGE&&null!==t.source.queryId&&(jt(wx(e.viewCache_),"We should always have a full cache before handling merges"),jt(vx(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,s=Xx(e.processor_,i,t,n,r);var o,a;return o=e.processor_,a=s.viewCache,jt(a.eventCache.getNode().isIndexed(o.filter.getIndex()),"Event snap not indexed"),jt(a.serverCache.getNode().isIndexed(o.filter.getIndex()),"Server snap not indexed"),jt(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,sC(e,s.changes,s.viewCache.eventCache.getNode(),null)}function sC(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const i=[],s=[];return t.forEach((t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&s.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),px(e,i,"child_removed",t,r,n),px(e,i,"child_added",t,r,n),px(e,i,"child_moved",s,r,n),px(e,i,"child_changed",t,r,n),px(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}let oC,aC;function lC(e,t,n,r){const i=t.source.queryId;if(null!==i){const s=e.views.get(i);return jt(null!=s,"SyncTree gave us an op for an invalid query."),iC(s,t,n,r)}{let i=[];for(const s of e.views.values())i=i.concat(iC(s,t,n,r));return i}}function cC(e,t){let n=null;for(const r of e.views.values())n=n||rC(r,t);return n}class uC{constructor(e){this.listenProvider_=e,this.syncPointTree_=new bx(null),this.pendingWriteTree_={visibleWrites:xx.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function hC(e,t,n,r,i){return function(e,t,n,r,i){jt(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Cx(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?gC(e,new hx({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function dC(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(Lx(e.pendingWriteTree_,t)){let t=new bx(null);return null!=r.snap?t=t.set(Z_(),!0):w_(r.children,(e=>{t=t.set(new $_(e),!0)})),gC(e,new ux(r.path,t,n))}return[]}function fC(e,t,n){return gC(e,new hx({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function pC(e,t,n,r){const i=wC(e,r);if(null!=i){const r=_C(i),s=r.path,o=r.queryId,a=lb(s,t);return bC(e,s,new hx(cx(o),a,n))}return[]}function mC(e,t,n){const r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,((e,n)=>{const r=cC(n,lb(e,t));if(r)return r}));return Ux(r,t,i,n,!0)}function gC(e,t){return yC(t,e.syncPointTree_,null,Rx(e.pendingWriteTree_,Z_()))}function yC(e,t,n,r){if(ab(e.path))return vC(e,t,n,r);{const i=t.get(Z_());null==n&&null!=i&&(n=cC(i,Z_()));let s=[];const o=eb(e.path),a=e.operationForChild(o),l=t.children.get(o);if(l&&a){const e=n?n.getImmediateChild(o):null,t=Wx(r,o);s=s.concat(yC(a,l,e,t))}return i&&(s=s.concat(lC(i,e,r,n))),s}}function vC(e,t,n,r){const i=t.get(Z_());null==n&&null!=i&&(n=cC(i,Z_()));let s=[];return t.children.inorderTraversal(((t,i)=>{const o=n?n.getImmediateChild(t):null,a=Wx(r,t),l=e.operationForChild(t);l&&(s=s.concat(vC(l,i,o,a)))})),i&&(s=s.concat(lC(i,e,r,n))),s}function wC(e,t){return e.tagToQueryMap.get(t)}function _C(e){const t=e.indexOf("$");return jt(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new $_(e.substr(0,t))}}function bC(e,t,n){const r=e.syncPointTree_.get(t);jt(r,"Missing sync point for query tag that we're tracking");return lC(r,n,Rx(e.pendingWriteTree_,t),null)}class xC{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new xC(t)}node(){return this.node_}}class CC{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=ob(this.path_,e);return new CC(this.syncTree_,t)}node(){return mC(this.syncTree_,this.path_)}}const EC=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},SC=function(e,t,n){return e&&"object"===typeof e?(jt(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?kC(e[".sv"],t,n):"object"===typeof e[".sv"]?TC(e[".sv"],t):void jt(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},kC=function(e,t,n){if("timestamp"===e)return n.timestamp;jt(!1,"Unexpected server value: "+e)},TC=function(e,t,n){e.hasOwnProperty("increment")||jt(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!==typeof r&&jt(!1,"Unexpected increment value: "+r);const i=t.node();if(jt(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return"number"!==typeof s?r:s+r},IC=function(e,t,n,r){return jC(t,new CC(n,e),r)},NC=function(e,t,n){return jC(e,new xC(t),n)};function jC(e,t,n){const r=e.getPriority().val(),i=SC(r,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const r=e,s=SC(r.getValue(),t,n);return s!==r.getValue()||i!==r.getPriority().val()?new Rb(s,Wb(i)):e}{const r=e;return s=r,i!==r.getPriority().val()&&(s=s.updatePriority(new Rb(i))),r.forEachChild(Lb,((e,r)=>{const i=jC(r,t.getImmediateChild(e),n);i!==r&&(s=s.updateImmediateChild(e,i))})),s}}class PC{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};this.name=e,this.parent=t,this.node=n}}function AC(e,t){let n=t instanceof $_?t:new $_(t),r=e,i=eb(n);for(;null!==i;){const e=un(r.node.children,i)||{children:{},childCount:0};r=new PC(i,r,e),n=nb(n),i=eb(n)}return r}function RC(e){return e.node.value}function LC(e,t){e.node.value=t,FC(e)}function DC(e){return e.node.childCount>0}function OC(e,t){w_(e.node.children,((n,r)=>{t(new PC(n,e,r))}))}function MC(e,t,n,r){n&&!r&&t(e),OC(e,(e=>{MC(e,t,!0,r)})),n&&r&&t(e)}function UC(e){return new $_(null===e.parent?e.name:UC(e.parent)+"/"+e.name)}function FC(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===RC(e)&&!DC(e)}(n),i=cn(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,FC(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,FC(e))}(e.parent,e.name,e)}const VC=/[\[\].#$\/\u0000-\u001F\u007F]/,zC=/[\[\].#$\u0000-\u001F\u007F]/,qC=10485760,BC=function(e){return"string"===typeof e&&0!==e.length&&!VC.test(e)},HC=function(e){return"string"===typeof e&&0!==e.length&&!zC.test(e)},WC=function(e,t,n,r){r&&void 0===t||KC(bn(e,"value"),t,n)},KC=function(e,t,n){const r=n instanceof $_?new hb(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+fb(r));if("function"===typeof t)throw new Error(e+"contains a function "+fb(r)+" with contents = "+t.toString());if(h_(t))throw new Error(e+"contains "+t.toString()+" "+fb(r));if("string"===typeof t&&t.length>qC/3&&xn(t)>qC)throw new Error(e+"contains a string greater than "+qC+" utf8 bytes "+fb(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){let n=!1,i=!1;if(w_(t,((t,s)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!BC(t)))throw new Error(e+" contains an invalid key ("+t+") "+fb(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=xn(t),db(e)}(r,t),KC(e,s,r),function(e){const t=e.parts_.pop();e.byteLength_-=xn(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)})),n&&i)throw new Error(e+' contains ".value" child '+fb(r)+" in addition to actual children.")}},QC=function(e,t,n,r){if((!r||void 0!==n)&&!HC(n))throw new Error(bn(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},GC=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),QC(e,t,n,r)},YC=function(e,t){if(".info"===eb(t))throw new Error(e+" failed = Can't modify data under /.info/")},XC=function(e,t){const n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!BC(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),HC(e)}(n))throw new Error(bn(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class JC{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function $C(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],s=i.getPath();null===n||cb(s,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function ZC(e,t,n){$C(e,n),eE(e,(e=>ub(e,t)||ub(t,e)))}function eE(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){t(i.path)?(tE(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function tE(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();r_&&o_("event: "+n.toString()),C_(r)}}}const nE="repo_interrupt",rE=25;class iE{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new JC,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=rx(),this.transactionQueueTree_=new PC,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function sE(e,t,n){if(e.stats_=U_(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new tx(e.repoInfo_,((t,n,r,i)=>{lE(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((()=>cE(e,!0)),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{an(n)}catch(kS){throw new Error("Invalid authOverride provided: "+kS)}}e.persistentConnection_=new gb(e.repoInfo_,t,((t,n,r,i)=>{lE(e,t,n,r,i)}),(t=>{cE(e,t)}),(t=>{!function(e,t){w_(t,((t,n)=>{uE(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((t=>{e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((t=>{e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){const n=e.toString();return M_[n]||(M_[n]=t()),M_[n]}(e.repoInfo_,(()=>new ax(e.stats_,e.server_))),e.infoData_=new nx,e.infoSyncTree_=new uC({startListening:(t,n,r,i)=>{let s=[];const o=e.infoData_.getNode(t._path);return o.isEmpty()||(s=fC(e.infoSyncTree_,t._path,o),setTimeout((()=>{i("ok")}),0)),s},stopListening:()=>{}}),uE(e,"connected",!1),e.serverSyncTree_=new uC({startListening:(t,n,r,i)=>(e.server_.listen(t,r,n,((n,r)=>{const s=i(n,r);ZC(e.eventQueue_,t._path,s)})),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function oE(e){const t=e.infoData_.getNode(new $_(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function aE(e){return EC({timestamp:oE(e)})}function lE(e,t,n,r,i){e.dataUpdateCount++;const s=new $_(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(i)if(r){const t=dn(n,(e=>Wb(e)));o=function(e,t,n,r){const i=wC(e,r);if(i){const r=_C(i),s=r.path,o=r.queryId,a=lb(s,t),l=bx.fromObject(n);return bC(e,s,new dx(cx(o),a,l))}return[]}(e.serverSyncTree_,s,t,i)}else{const t=Wb(n);o=pC(e.serverSyncTree_,s,t,i)}else if(r){const t=dn(n,(e=>Wb(e)));o=function(e,t,n){const r=bx.fromObject(n);return gC(e,new dx({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,s,t)}else{const t=Wb(n);o=fC(e.serverSyncTree_,s,t)}let a=s;o.length>0&&(a=vE(e,s)),ZC(e.eventQueue_,a,o)}function cE(e,t){uE(e,"connected",t),!1===t&&function(e){pE(e,"onDisconnectEvents");const t=aE(e),n=rx();sx(e.onDisconnect_,Z_(),((r,i)=>{const s=IC(r,i,e.serverSyncTree_,t);ix(n,r,s)}));let r=[];sx(n,Z_(),((t,n)=>{r=r.concat(fC(e.serverSyncTree_,t,n));const i=CE(e,t);vE(e,i)})),e.onDisconnect_=rx(),ZC(e.eventQueue_,Z_(),r)}(e)}function uE(e,t,n){const r=new $_("/.info/"+t),i=Wb(n);e.infoData_.updateSnapshot(r,i);const s=fC(e.infoSyncTree_,r,i);ZC(e.eventQueue_,r,s)}function hE(e){return e.nextWriteId_++}function dE(e,t,n,r,i){pE(e,"set",{path:t.toString(),value:n,priority:r});const s=aE(e),o=Wb(n,r),a=mC(e.serverSyncTree_,t),l=NC(o,a,s),c=hE(e),u=hC(e.serverSyncTree_,t,l,c,!0);$C(e.eventQueue_,u),e.server_.put(t.toString(),o.val(!0),((n,r)=>{const s="ok"===n;s||u_("set at "+t+" failed: "+n);const o=dC(e.serverSyncTree_,c,!s);ZC(e.eventQueue_,t,o),mE(e,i,n,r)}));const h=CE(e,t);vE(e,h),ZC(e.eventQueue_,h,[])}function fE(e){e.persistentConnection_&&e.persistentConnection_.interrupt(nE)}function pE(e){let t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];o_(t,...r)}function mE(e,t,n,r){t&&C_((()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let i=e;r&&(i+=": "+r);const s=new Error(i);s.code=e,t(s)}}))}function gE(e,t,n){return mC(e.serverSyncTree_,t,n)||qb.EMPTY_NODE}function yE(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||xE(e,t),RC(t)){const n=_E(e,t);jt(n.length>0,"Sending zero length transaction queue");n.every((e=>0===e.status))&&function(e,t,n){const r=n.map((e=>e.currentWriteId)),i=gE(e,t,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const e=n[c];jt(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const r=lb(t,e.path);s=s.updateChild(r,e.currentOutputSnapshotRaw)}const a=s.val(!0),l=t;e.server_.put(l.toString(),a,(r=>{pE(e,"transaction put response",{path:l.toString(),status:r});let i=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,i=i.concat(dC(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push((()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved))),n[t].unwatcher();xE(e,AC(e.transactionQueueTree_,t)),yE(e,e.transactionQueueTree_),ZC(e.eventQueue_,t,i);for(let e=0;e<r.length;e++)C_(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{u_("transaction at "+l.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}vE(e,t)}}),o)}(e,UC(t),n)}else DC(t)&&OC(t,(t=>{yE(e,t)}))}function vE(e,t){const n=wE(e,t),r=UC(n);return function(e,t,n){if(0===t.length)return;const r=[];let i=[];const s=t.filter((e=>0===e.status)),o=s.map((e=>e.currentWriteId));for(let l=0;l<t.length;l++){const s=t[l],c=lb(n,s.path);let u,h=!1;if(jt(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===s.status)h=!0,u=s.abortReason,i=i.concat(dC(e.serverSyncTree_,s.currentWriteId,!0));else if(0===s.status)if(s.retryCount>=rE)h=!0,u="maxretry",i=i.concat(dC(e.serverSyncTree_,s.currentWriteId,!0));else{const n=gE(e,s.path,o);s.currentInputSnapshot=n;const r=t[l].update(n.val());if(void 0!==r){KC("transaction failed: Data returned ",r,s.path);let t=Wb(r);"object"===typeof r&&null!=r&&cn(r,".priority")||(t=t.updatePriority(n.getPriority()));const a=s.currentWriteId,l=aE(e),c=NC(t,n,l);s.currentOutputSnapshotRaw=t,s.currentOutputSnapshotResolved=c,s.currentWriteId=hE(e),o.splice(o.indexOf(a),1),i=i.concat(hC(e.serverSyncTree_,s.path,c,s.currentWriteId,s.applyLocally)),i=i.concat(dC(e.serverSyncTree_,a,!0))}else h=!0,u="nodata",i=i.concat(dC(e.serverSyncTree_,s.currentWriteId,!0))}ZC(e.eventQueue_,n,i),i=[],h&&(t[l].status=2,a=t[l].unwatcher,setTimeout(a,Math.floor(0)),t[l].onComplete&&("nodata"===u?r.push((()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot))):r.push((()=>t[l].onComplete(new Error(u),!1,null)))))}var a;xE(e,e.transactionQueueTree_);for(let l=0;l<r.length;l++)C_(r[l]);yE(e,e.transactionQueueTree_)}(e,_E(e,n),r),r}function wE(e,t){let n,r=e.transactionQueueTree_;for(n=eb(t);null!==n&&void 0===RC(r);)r=AC(r,n),n=eb(t=nb(t));return r}function _E(e,t){const n=[];return bE(e,t,n),n.sort(((e,t)=>e.order-t.order)),n}function bE(e,t,n){const r=RC(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);OC(t,(t=>{bE(e,t,n)}))}function xE(e,t){const n=RC(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,LC(t,n.length>0?n:void 0)}OC(t,(t=>{xE(e,t)}))}function CE(e,t){const n=UC(wE(e,t)),r=AC(e.transactionQueueTree_,t);return function(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,(t=>{EE(e,t)})),EE(e,r),MC(r,(t=>{EE(e,t)})),n}function EE(e,t){const n=RC(t);if(n){const r=[];let i=[],s=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(jt(s===t-1,"All SENT items should be at beginning of queue."),s=t,n[t].status=3,n[t].abortReason="set"):(jt(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),i=i.concat(dC(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===s?LC(t,void 0):n.length=s+1,ZC(e.eventQueue_,UC(t),i);for(let e=0;e<r.length;e++)C_(r[e])}}const SE=function(e,t){const n=kE(e),r=n.namespace;"firebase.com"===n.domain&&c_(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||c_("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&u_("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new R_(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new $_(n.pathString)}},kE=function(e){let t="",n="",r="",i="",s="",o=!0,a="https",l=443;if("string"===typeof e){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");-1===u&&(u=e.length);let h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(u,h)),u<h&&(i=function(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let e=n[r];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(kS){}t+="/"+e}return t}(e.substring(u,h)));const d=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):u_("Invalid query segment '".concat(n,"' in query '").concat(e,"'"))}return t}(e.substring(Math.min(e.length,h)));c=t.indexOf(":"),c>=0?(o="https"===a||"wss"===a,l=parseInt(t.substring(c+1),10)):c=t.length;const f=t.slice(0,c);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),s=r}"ns"in d&&(s=d.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}},TE="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz";!function(){let e=0;const t=[]}();class IE{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return ab(this._path)?null:rb(this._path)}get ref(){return new NE(this._repo,this._path)}get _queryIdentifier(){const e=ex(this._queryParams),t=y_(e);return"{}"===t?"default":t}get _queryObject(){return ex(this._queryParams)}isEqual(e){if(!((e=In(e))instanceof IE))return!1;const t=this._repo===e._repo,n=cb(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class NE extends IE{constructor(e,t){super(e,t,new $b,!1)}get parent(){const e=sb(this._path);return null===e?null:new NE(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}function jE(e,t){return(e=In(e))._checkNotDeleted("ref"),void 0!==t?PE(e._root,t):e._root}function PE(e,t){return null===eb((e=In(e))._path)?GC("child","path",t,!1):QC("child","path",t,!1),new NE(e._repo,ob(e._path,t))}function AE(e,t){e=In(e),YC("set",e._path),WC("set",t,e._path,!1);const n=new Kt;return dE(e._repo,e._path,t,null,n.wrapCallback((()=>{}))),n.promise}!function(e){jt(!oC,"__referenceConstructor has already been defined"),oC=e}(NE),function(e){jt(!aC,"__referenceConstructor has already been defined"),aC=e}(NE);const RE="FIREBASE_DATABASE_EMULATOR_HOST",LE={};let DE=!1;function OE(e,t,n,r,i){let s=r||e.options.databaseURL;void 0===s&&(e.options.projectId||c_("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),o_("Using default host for project ",e.options.projectId),s="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));let o,a,l=SE(s,i),c=l.repoInfo;"undefined"!==typeof process&&(a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}[RE]),a?(o=!0,s="http://".concat(a,"?ns=").concat(c.namespace),l=SE(s,i),c=l.repoInfo):o=!l.repoInfo.secure;const u=i&&o?new T_(T_.OWNER):new k_(e.name,e.options,t);XC("Invalid Firebase Database URL",l),ab(l.path)||c_("Database URL must point to the root of a Firebase Database (not including a child path).");const h=function(e,t,n,r){let i=LE[t.name];i||(i={},LE[t.name]=i);let s=i[e.toURLString()];s&&c_("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return s=new iE(e,DE,n,r),i[e.toURLString()]=s,s}(c,e,u,new S_(e.name,n));return new ME(h,e)}class ME{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(sE(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new NE(this._repo,Z_())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const n=LE[t];n&&n[e.key]===e||c_("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),fE(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&c_("Cannot call "+e+" on a deleted database.")}}function UE(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kr(),t=arguments.length>1?arguments[1]:void 0;const n=Vr(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const e=Bt("database");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=In(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&c_("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&c_('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new T_(T_.OWNER);else if(r.mockUserToken){const t="string"===typeof r.mockUserToken?r.mockUserToken:Qt(r.mockUserToken,e.app.options.projectId);s=new T_(t)}!function(e,t,n,r){e.repoInfo_=new R_("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}(i,t,n,s)}(n,...e)}return n}gb.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},gb.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){Qw(Hr),Fr(new Nn("database",((e,t)=>{let{instanceIdentifier:n}=t;return OE(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),Qr(Hw,Ww,e),Qr(Hw,Ww,"esm2017")}();const FE=()=>{const e=te();return(0,Sw.jsxs)("div",{children:[(0,Sw.jsx)(Bw,{}),(0,Sw.jsx)("section",{className:"form-container",style:{marginTop:"3rem"},children:(0,Sw.jsxs)("form",{action:"",method:"post",encType:"multipart/form-data",className:"login",onSubmit:async t=>{t.preventDefault();const n=t.target.email.value,r=t.target.pass.value;try{const t=Ia(Cw),i=await io(t,n,r),s=i.user,o=s.uid,a=jE(UE(),"tutor/"+o);await AE(a,{email:s.email}),alert(i.user.displayName+" Login Successfully"),e("/Admin/Dashboard")}catch(l_){alert("Login Failed. Signup First")}},children:[(0,Sw.jsx)("h3",{children:"Welcome Back!"}),(0,Sw.jsxs)("p",{children:["Your Email ",(0,Sw.jsx)("span",{children:"*"})]}),(0,Sw.jsx)("input",{type:"email",name:"email",placeholder:"Enter Your Email",maxLength:"50",required:!0,className:"box"}),(0,Sw.jsxs)("p",{children:["Your Password ",(0,Sw.jsx)("span",{children:"*"})]}),(0,Sw.jsx)("input",{type:"password",name:"pass",placeholder:"Enter Your Password",maxLength:"20",required:!0,className:"box"}),(0,Sw.jsxs)("p",{className:"link",children:["Don't have an account? ",(0,Sw.jsx)(Te,{to:"/Admin/AdminRegister",children:"Register New"})]}),(0,Sw.jsx)("input",{type:"submit",name:"submit",value:"Login Now",className:"btn"})]})})]})},VE=()=>{const e=te(),[t,n]=(0,i.useState)({email:"",password:"",confirmPassword:"",displayName:"",profession:"",photo:null}),r=e=>{if("email"===e.target.name){if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.target.value))return void alert("Please enter a valid email address")}n({...t,[e.target.name]:e.target.value})};return(0,Sw.jsxs)("div",{children:[(0,Sw.jsx)(Bw,{}),(0,Sw.jsx)("section",{className:"form-container",children:(0,Sw.jsxs)("form",{className:"register",action:"",method:"post",encType:"multipart/form-data",onSubmit:async r=>{if(r.preventDefault(),t.password.length<6||t.confirmPassword.length<6)alert("Password must be at least 6 characters");else if(t.password===t.confirmPassword)try{const r=Ia(Cw),i=Ug(Cw),s=bw(Cw),o=await ro(r,t.email,t.password);if(!o||!o.user)throw new Error("User authentication failed !! Try After Sometimes");{const r=_w(s,"tutor_images/".concat(t.photo.name));await yw(r,t.photo);const a=await ww(r),l=Lg(i,"tutor",o.user.uid);await My(l,{email:t.email,displayName:t.displayName,photoURL:a,userId:o.user.uid,profession:t.profession}),await so(o.user,{displayName:t.displayName,photoURL:a,userId:o.user.uid,profession:t.profession}),n({email:"",password:"",confirmPassword:"",displayName:"",profession:"",photo:null}),alert("Signup Successful!"),e("/Admin/Dashboard")}}catch(l_){alert("Signup Failed. User Already Exists")}else alert("Passwords do not match")},children:[(0,Sw.jsx)("h3",{children:"Register New"}),(0,Sw.jsxs)("div",{className:"flex",children:[(0,Sw.jsxs)("div",{className:"col",children:[(0,Sw.jsxs)("p",{children:["Your Name ",(0,Sw.jsx)("span",{children:"*"})]}),(0,Sw.jsx)("input",{type:"text",name:"displayName",placeholder:"Enter Your Name",maxLength:"50",required:!0,className:"box",onChange:r}),(0,Sw.jsxs)("p",{children:["Your Profession ",(0,Sw.jsx)("span",{children:"*"})]}),(0,Sw.jsxs)("select",{name:"profession",className:"box",required:!0,onChange:r,children:[(0,Sw.jsx)("option",{value:"",children:"Select Your Profession"}),(0,Sw.jsx)("option",{value:"Developer",children:"Developer"}),(0,Sw.jsx)("option",{value:"Designer",children:"Designer"}),(0,Sw.jsx)("option",{value:"Musician",children:"Musician"}),(0,Sw.jsx)("option",{value:"Biologist",children:"Biologist"}),(0,Sw.jsx)("option",{value:"Teacher",children:"Teacher"}),(0,Sw.jsx)("option",{value:"Engineer",children:"Engineer"}),(0,Sw.jsx)("option",{value:"Lawyer",children:"Lawyer"}),(0,Sw.jsx)("option",{value:"Accountatn",children:"Accountatn"}),(0,Sw.jsx)("option",{value:"Doctor",children:"Doctor"}),(0,Sw.jsx)("option",{value:"Journalist",children:"Journalist"}),(0,Sw.jsx)("option",{value:"Photographer",children:"Photographer"})]}),(0,Sw.jsxs)("p",{children:["Your Email ",(0,Sw.jsx)("span",{children:"*"})]}),(0,Sw.jsx)("input",{type:"email",name:"email",placeholder:"Enter Your Email",maxLength:"50",required:!0,className:"box",onChange:r})]}),(0,Sw.jsxs)("div",{className:"col",children:[(0,Sw.jsxs)("p",{children:["Your Password ",(0,Sw.jsx)("span",{children:"*"})]}),(0,Sw.jsx)("input",{type:"password",name:"password",placeholder:"Enter Your Password",maxLength:"20",required:!0,className:"box",onChange:r}),(0,Sw.jsxs)("p",{children:["Confirm Password ",(0,Sw.jsx)("span",{children:"*"})]}),(0,Sw.jsx)("input",{type:"password",name:"confirmPassword",placeholder:"Confrim Your Password",maxLength:"20",required:!0,className:"box",onChange:r}),(0,Sw.jsxs)("p",{children:["Select Picture ",(0,Sw.jsx)("span",{children:"*"})]}),(0,Sw.jsx)("input",{type:"file",name:"image",accept:"image/*",required:!0,className:"box",onChange:e=>{e.target.files[0]&&n({...t,photo:e.target.files[0]})}})]})]}),(0,Sw.jsxs)("p",{className:"link",children:["Already have an account? ",(0,Sw.jsx)(Te,{to:"/Admin/AdminLogin",children:"Login Now"})]}),(0,Sw.jsx)("input",{type:"submit",name:"submit",value:"Register now",className:"btn"})]})})]})},zE=()=>{const[e,t]=(0,i.useState)(null),[n,r]=(0,i.useState)(0),[s,o]=(0,i.useState)(0),[a,l]=(0,i.useState)(null),[c,u]=(0,i.useState)(0),[h,d]=(0,i.useState)(0);if((0,i.useEffect)((()=>{const e=Ia(Cw),n=Ug(Cw),i=lo(e,(async e=>{if(e){t(e);try{const t=wy(Rg(n,"playlists"),by("userId","==",e.uid)),i=await Oy(t);r(i.size);const s=wy(Rg(n,"videos"),by("userId","==",e.uid)),a=await Oy(s);o(a.size);const l=wy(Rg(n,"likes"),by("tutorId","==",e.uid)),c=await Oy(l);u(c.size);const h=wy(Rg(n,"comments"),by("tutorId","==",e.uid)),f=await Oy(h);d(f.size)}catch(a){l(a.message)}}else t(null),r(0)}));return()=>i()}),[]),a)return(0,Sw.jsxs)("div",{children:["Error: ",a]});const f=e=>0===e?e:e<10?"0".concat(e):e>=1e3?"".concat(Math.floor(e/1e3),"k"):e;return(0,Sw.jsxs)(Sw.Fragment,{children:[(0,Sw.jsx)(Bw,{}),(0,Sw.jsxs)("section",{className:"dashboard",children:[(0,Sw.jsx)("h1",{className:"heading",children:"Dashboard"}),(0,Sw.jsx)("div",{children:e?(0,Sw.jsxs)("div",{className:"box-container",children:[(0,Sw.jsxs)("div",{className:"box",children:[(0,Sw.jsx)("h3",{children:"!! Welcome !!"}),(0,Sw.jsx)("p",{children:e.displayName}),(0,Sw.jsx)(Te,{to:"/Admin/ViewProfile",className:"btn",children:"View Profile"})]}),(0,Sw.jsxs)("div",{className:"box",children:[(0,Sw.jsx)("h3",{children:f(s)}),(0,Sw.jsx)("p",{children:"Total Content"}),(0,Sw.jsx)(Te,{to:"/Admin/AddContent",className:"btn",children:"Add New Content"})]}),(0,Sw.jsxs)("div",{className:"box",children:[(0,Sw.jsx)("h3",{children:f(n)})," ",(0,Sw.jsx)("p",{children:"Total Playlists"}),(0,Sw.jsx)(Te,{to:"/Admin/AddPlaylist",className:"btn",children:"Add New Playlist"})]}),(0,Sw.jsxs)("div",{className:"box",children:[(0,Sw.jsx)("h3",{children:f(c)})," ",(0,Sw.jsx)("p",{children:"Total Likes"}),(0,Sw.jsx)(Te,{to:"/Admin/AdminContent",className:"btn",children:"View Contents"})]}),(0,Sw.jsxs)("div",{className:"box",children:[(0,Sw.jsx)("h3",{children:f(h)})," ",(0,Sw.jsx)("p",{children:"Total Comments"}),(0,Sw.jsx)(Te,{to:"/Admin/Dashboard",className:"btn",children:"View Comments"})]}),(0,Sw.jsxs)("div",{className:"box",children:[(0,Sw.jsx)("h3",{children:f(n)})," ",(0,Sw.jsx)("p",{children:"Total Playlists"}),(0,Sw.jsx)(Te,{to:"/Admin/PlaylistViewer",className:"btn",children:"Playlists Viewer"})]}),(0,Sw.jsxs)("div",{className:"box",children:[(0,Sw.jsx)("h3",{children:f(s)})," ",(0,Sw.jsx)("p",{children:"Total Content"}),(0,Sw.jsx)(Te,{to:"/Admin/ContentViewer",className:"btn",children:"Content Viewer"})]})]}):(0,Sw.jsxs)("div",{className:"box-container",children:[(0,Sw.jsxs)("div",{className:"box",children:[(0,Sw.jsx)("h3",{children:"Welcome!"}),(0,Sw.jsx)("p",{children:"No Name"}),(0,Sw.jsx)(Te,{to:"/Admin/ViewProfile",className:"btn",children:"View Profile"})]}),(0,Sw.jsxs)("div",{className:"box",children:[(0,Sw.jsx)("h3",{children:"Quick Select"}),(0,Sw.jsx)("p",{children:"Login or Register"}),(0,Sw.jsxs)("div",{className:"flex-btn",children:[(0,Sw.jsx)(Te,{to:"#",className:"option-btn",children:"Login"}),(0,Sw.jsx)(Te,{to:"#",className:"option-btn",children:"Register"})]})]})]})})]})]})},qE=()=>{const[e,t]=(0,i.useState)(null),[n,r]=(0,i.useState)(0),[s,o]=(0,i.useState)(0),[a,l]=(0,i.useState)(0);(0,i.useEffect)((()=>{const e=lo(Ia(Cw),(async e=>{if(t(e),e)try{const t=Ug(Cw),n=wy(Rg(t,"savedPlaylists"),by("userId","==",e.uid)),i=(await Oy(n)).size;r(i);const s=wy(Rg(t,"likes"),by("userId","==",e.uid)),a=(await Oy(s)).size;o(a);const c=wy(Rg(t,"comments"),by("userId","==",e.uid)),u=(await Oy(c)).size;l(u)}catch(l_){console.error("Error fetching user data:",l_)}}));return()=>e()}),[]);const c=e=>"undefined"===typeof e||null===e?0:0===e?e:e<10?"0".concat(e):e>=1e3?"".concat(Math.floor(e/1e3),"k"):e;return(0,Sw.jsx)(Sw.Fragment,{children:e?(0,Sw.jsxs)(Sw.Fragment,{children:[(0,Sw.jsx)(kw,{}),(0,Sw.jsxs)("section",{className:"Userprofile",children:[(0,Sw.jsx)("h1",{className:"heading",children:"Profile Details"}),(0,Sw.jsxs)("div",{className:"details",children:[(0,Sw.jsxs)("div",{className:"user",children:[(0,Sw.jsx)("img",{src:e.photoURL,alt:""}),(0,Sw.jsx)("h3",{children:e.displayName}),(0,Sw.jsx)("p",{children:"Student"}),(0,Sw.jsx)(Te,{to:"/User/UpdateProfile",className:"inline-btn",children:"Update Profile"})]}),(0,Sw.jsxs)("div",{className:"box-container",children:[(0,Sw.jsx)("div",{className:"box",children:(0,Sw.jsxs)("div",{className:"flex",children:[(0,Sw.jsx)("i",{children:(0,Sw.jsx)(Xe,{})}),(0,Sw.jsxs)("div",{children:[(0,Sw.jsx)("h3",{children:c(n)}),(0,Sw.jsx)("span",{children:"Saved Playlists"})]}),(0,Sw.jsx)(Te,{to:"/User/Bookmark/".concat(e.uid),className:"inline-btn",children:"View Playlist"})]})}),(0,Sw.jsx)("div",{className:"box",children:(0,Sw.jsxs)("div",{className:"flex",children:[(0,Sw.jsx)("i",{children:(0,Sw.jsx)(ut,{})}),(0,Sw.jsxs)("div",{children:[(0,Sw.jsx)("h3",{children:c(s)}),(0,Sw.jsx)("span",{children:"Liked Tutorials"})]}),(0,Sw.jsx)(Te,{to:"/User/Likes",className:"inline-btn",children:"View Liked"})]})}),(0,Sw.jsx)("div",{className:"box",children:(0,Sw.jsxs)("div",{className:"flex",children:[(0,Sw.jsx)("i",{children:(0,Sw.jsx)(st,{})}),(0,Sw.jsxs)("div",{children:[(0,Sw.jsx)("h3",{children:c(a)}),(0,Sw.jsx)("span",{children:"Video Comments"})]}),(0,Sw.jsx)(Te,{to:"/User/UserComment",className:"inline-btn",children:"View Comments"})]})})]})]})]})]}):(0,Sw.jsxs)(Sw.Fragment,{children:[(0,Sw.jsx)(kw,{}),(0,Sw.jsx)("p",{className:"empty",style:{margin:"4rem"},children:"No User Found"})]})})},BE=Ug(Cw),HE=bw(Cw),WE=()=>{const e=te(),[t,n]=(0,i.useState)(null),[r,s]=(0,i.useState)(""),[o,a]=(0,i.useState)(""),[l,c]=(0,i.useState)(""),[u,h]=(0,i.useState)(""),[d,f]=(0,i.useState)(""),[p,m]=(0,i.useState)("");(0,i.useEffect)((()=>{const e=lo(Ia(Cw),(e=>{e?(n(e),y(e.uid).then((e=>{e&&c(e)}))):n(null)}));return()=>e()}),[]);const g=async(e,t)=>{try{await Uy(Lg(BE,"users",e),{photoURL:t})}catch(l_){throw console.error("Error saving photoURL to database:",l_.message),l_}},y=async e=>{try{const t=await Ly(Lg(BE,"users",e));return t.exists()?t.data().photoURL:null}catch(l_){throw console.error("Error retrieving photoURL from database:",l_.message),l_}};return(0,Sw.jsxs)("div",{children:[(0,Sw.jsx)(kw,{}),(0,Sw.jsx)("section",{className:"Updateform-container",style:{minHeight:"calc(100vh - 19rem)"},children:(0,Sw.jsxs)("form",{action:"",method:"post",encType:"multipart/form-data",onSubmit:async n=>{if(n.preventDefault(),d===p)try{const n=Fs.credential(o,u);await to(t,n),await so(t,{displayName:r,photoURL:l||t.photoURL}),await oo(t,d),await g(t.uid,l),alert("Profile Updated Successfully!"),e("/")}catch(l_){console.error("Error updating profile and changing password:",l_.message),alert("Profile Not Updated !! Please Try Again.")}else alert("Password Doesn't Matched !!")},children:[(0,Sw.jsx)("h3",{children:"Update Profile"}),(0,Sw.jsxs)("div",{className:"flex",children:[(0,Sw.jsxs)("div",{className:"col",children:[(0,Sw.jsx)("p",{children:"Your Name"}),(0,Sw.jsx)("input",{type:"text",name:"name",placeholder:(null===t||void 0===t?void 0:t.displayName)||"Enter Your Name",maxLength:"100",className:"box",onChange:e=>s(e.target.value)}),(0,Sw.jsx)("p",{children:"Your Email"}),(0,Sw.jsx)("input",{type:"email",name:"email",placeholder:t?t.email:"Enter Your Email",maxLength:"100",className:"box",onChange:e=>a(e.target.value)}),(0,Sw.jsx)("p",{children:"Update Picture"}),(0,Sw.jsx)("input",{type:"file",name:"image",accept:"image/*",className:"box",onChange:e=>{if(e.target.files[0]){const n=e.target.files[0];yw(_w(HE,"profile_images/".concat(t.uid,"/").concat(n.name)),n).then((e=>{ww(e.ref).then((e=>{c(e)}))}))}}})]}),(0,Sw.jsxs)("div",{className:"col",children:[(0,Sw.jsx)("p",{children:"Old Password"}),(0,Sw.jsx)("input",{type:"password",name:"oldPassword",placeholder:"Enter Your Old Password",maxLength:"50",className:"box",onChange:e=>h(e.target.value)}),(0,Sw.jsx)("p",{children:"New Password"}),(0,Sw.jsx)("input",{type:"password",name:"newPassword",placeholder:"Enter Your New password",maxLength:"50",className:"box",onChange:e=>f(e.target.value)}),(0,Sw.jsx)("p",{children:"Confirm Password"}),(0,Sw.jsx)("input",{type:"password",name:"confirmPassword",placeholder:"Confirm Your New Password",maxLength:"50",className:"box",onChange:e=>m(e.target.value)})]})]}),(0,Sw.jsx)("input",{type:"submit",name:"submit",value:"Update Profile",className:"btn"})]})})]})},KE=()=>{const e=te(),[t,n]=(0,i.useState)(null),[r,s]=(0,i.useState)(""),[o,a]=(0,i.useState)(""),[l,c]=(0,i.useState)(""),[u,h]=(0,i.useState)(""),[d,f]=(0,i.useState)(null);(0,i.useEffect)((()=>{const e=lo(Ia(Cw),(e=>{n(e||null)}));return()=>e()}),[]);return(0,Sw.jsxs)(Sw.Fragment,{children:[(0,Sw.jsx)(Bw,{}),(0,Sw.jsxs)("section",{className:"playlist-form",children:[(0,Sw.jsx)("h1",{className:"heading",children:"Create Playlist"}),(0,Sw.jsxs)("form",{onSubmit:async n=>{n.preventDefault();try{const n=_w(bw(),"thumbnails/".concat(d.name));await yw(n,d);const i=await ww(n),p=Rg(Ug(),"playlists");await Vy(p,{status:r,title:o,description:l,date:u,thumbnail:i,userId:t.uid,userName:t.displayName,userProfilePhoto:t.photoURL}),s(""),a(""),c(""),h(""),f(null),alert("Playlist Created Successfully"),e("/Admin/Dashboard")}catch(l_){alert("Playlist was not created. Please try again.")}},encType:"multipart/form-data",method:"POST",children:[(0,Sw.jsxs)("p",{children:["Playlist Status ",(0,Sw.jsx)("span",{children:"*"})]}),(0,Sw.jsxs)("select",{name:"status",className:"box",required:!0,value:r,onChange:e=>s(e.target.value),children:[(0,Sw.jsx)("option",{value:"",children:"Select Status"}),(0,Sw.jsx)("option",{value:"Active",children:"Active"}),(0,Sw.jsx)("option",{value:"Deactive",children:"Deactive"})]}),(0,Sw.jsxs)("p",{children:["Playlist Title ",(0,Sw.jsx)("span",{children:"*"})]}),(0,Sw.jsx)("input",{type:"text",name:"title",maxLength:"100",required:!0,placeholder:"Enter Playlist Title",className:"box",value:o,onChange:e=>a(e.target.value)}),(0,Sw.jsxs)("p",{children:["Playlist Description ",(0,Sw.jsx)("span",{children:"*"})]}),(0,Sw.jsx)("textarea",{name:"description",className:"box",required:!0,placeholder:"Write Description",maxLength:"100000000000",cols:"30",rows:"10",value:l,onChange:e=>c(e.target.value)}),(0,Sw.jsxs)("p",{children:["Playlist Date ",(0,Sw.jsx)("span",{children:"*"})]}),(0,Sw.jsx)("input",{type:"date",name:"date",required:!0,className:"box",value:u,onChange:e=>h(e.target.value)}),(0,Sw.jsxs)("p",{children:["Playlist Thumbnail ",(0,Sw.jsx)("span",{children:"*"})]}),(0,Sw.jsx)("input",{type:"file",name:"image",accept:"image/*",required:!0,className:"box",onChange:e=>{const t=e.target.files[0];f(t)}}),(0,Sw.jsx)("input",{type:"submit",value:"Create Playlist",name:"submit",className:"btn"})]})]})]})},QE=()=>{const{userId:e}=ne(),[t,n]=(0,i.useState)(null),[r,s]=(0,i.useState)([]),[o,a]=(0,i.useState)(0),[l,c]=(0,i.useState)(0),[u,h]=(0,i.useState)(0);(0,i.useEffect)((()=>{(async()=>{if(!e)return;const t=Ug(Cw);try{const r=wy(Rg(t,"tutor"),by("userId","==",e)),i=await Oy(r);if(i.empty)console.error("No Tutor Found !!"),s([]);else{const r=i.docs[0].data(),o=await d(e),l=await f(e),u=await p(e),g=await m(e);n({...r,playlistCount:o}),a(l),c(u),h(g);const y=wy(Rg(t,"playlists"),by("userId","==",e)),v=await Oy(y),w=[];v.forEach((e=>{w.push({id:e.id,...e.data()})})),s(w)}}catch(l_){console.error("Error fetching tutor:",l_)}})()}),[e]);const d=async e=>{if(!e)return 0;const t=wy(Rg(Ug(Cw),"playlists"),by("userId","==",e));return(await Oy(t)).size},f=async e=>{if(!e)return 0;const t=wy(Rg(Ug(Cw),"likes"),by("tutorId","==",e));return(await Oy(t)).size},p=async e=>{if(!e)return 0;const t=wy(Rg(Ug(Cw),"comments"),by("tutorId","==",e));return(await Oy(t)).size},m=async e=>{if(!e)return 0;const t=wy(Rg(Ug(Cw),"videos"),by("userId","==",e));return(await Oy(t)).size},g=e=>"undefined"===typeof e||null===e?0:0===e?e:e<10?"0".concat(e):e>=1e3?"".concat(Math.floor(e/1e3),"k"):e;return(0,Sw.jsxs)(Sw.Fragment,{children:[(0,Sw.jsx)(kw,{}),t?(0,Sw.jsxs)("section",{className:"tutor-profile",children:[(0,Sw.jsx)("h1",{className:"heading",children:"Profile Details"}),(0,Sw.jsxs)("div",{className:"details",children:[(0,Sw.jsxs)("div",{className:"tutor",children:[(0,Sw.jsx)("img",{src:t.photoURL,alt:""}),(0,Sw.jsx)("h3",{children:t.displayName}),(0,Sw.jsx)("span",{children:t.profession})]}),(0,Sw.jsxs)("div",{className:"flex",children:[(0,Sw.jsxs)("p",{children:["Total Playlists : ",(0,Sw.jsx)("span",{children:g(t.playlistCount)})]}),(0,Sw.jsxs)("p",{children:["Total Content : ",(0,Sw.jsx)("span",{children:g(u)})]}),(0,Sw.jsxs)("p",{children:["Total Likes : ",(0,Sw.jsx)("span",{children:g(o)})]}),(0,Sw.jsxs)("p",{children:["Total Comments : ",(0,Sw.jsx)("span",{children:g(l)})]})]})]})]}):(0,Sw.jsx)("div",{style:{padding:"10rem"},children:(0,Sw.jsx)("p",{className:"empty",children:"Tutor not found."})}),t&&r.length>0&&(0,Sw.jsxs)("section",{className:"Viewcourses",children:[(0,Sw.jsx)("h1",{className:"heading",children:"Our Courses"}),(0,Sw.jsx)("div",{className:"box-container",children:r.map(((e,t)=>(0,Sw.jsxs)("div",{className:"box",children:[(0,Sw.jsxs)("div",{className:"tutor",children:[(0,Sw.jsx)("img",{src:e.userProfilePhoto,alt:"Tutor Profile"}),(0,Sw.jsxs)("div",{children:[(0,Sw.jsx)("h3",{children:e.userName}),(0,Sw.jsx)("span",{children:e.date})]})]}),(0,Sw.jsx)("img",{src:e.thumbnail,alt:"Courses",className:"thumb"}),(0,Sw.jsx)("h3",{className:"title",children:e.title}),(0,Sw.jsx)(Te,{to:"/User/ViewPlaylist/".concat(e.id),className:"inline-btn",children:"View Playlist"})]},t)))})]})]})},GE=()=>{const[e,t]=(0,i.useState)(null),{playlistId:n}=ne(),[r,s]=(0,i.useState)(null),[o,a]=(0,i.useState)(null),[l,c]=(0,i.useState)([]),[u,h]=(0,i.useState)(0),[d,f]=(0,i.useState)(!1),[p,m]=(0,i.useState)(!1);(0,i.useEffect)((()=>{document.title="Tekmiz - Playlist"})),(0,i.useEffect)((()=>{const e=lo(Ia(Cw),(async e=>{t(e||null)}));return()=>e()}),[]),(0,i.useEffect)((()=>{n&&((async()=>{try{const e=Ug(Cw),t=Lg(e,"playlists",n),r=await Ly(t);if(r.exists()){const t=r.data();s(t);const n=Lg(e,"tutor",t.userId),i=await Ly(n);if(i.exists()){const e=i.data();a(e)}}}catch(l_){}})(),(async()=>{try{const e=wy(Rg(Ug(Cw),"videos"),by("playlistId","==",n)),t=await Oy(e);if(!t.empty){const e=t.docs.map((e=>({id:e.id,...e.data()})));c(e),h(e.length)}}catch(l_){}})(),(async()=>{try{const t=Ug(Cw);if(e){const r=Lg(t,"savedPlaylists/".concat(n,"_").concat(e.uid)),i=await Ly(r);f(i.exists())}}catch(l_){}})())}),[n,e]);return(0,Sw.jsxs)(Sw.Fragment,{children:[(0,Sw.jsx)(kw,{}),r&&(0,Sw.jsxs)(Sw.Fragment,{children:[(0,Sw.jsxs)("section",{className:"ViewPlaylist",children:[(0,Sw.jsx)("h1",{className:"heading",children:"Playlist Details"}),(0,Sw.jsxs)("div",{className:"row",children:[(0,Sw.jsxs)("div",{className:"col",children:[(0,Sw.jsxs)("form",{action:"",method:"post",className:"save-list",children:[(0,Sw.jsx)("input",{type:"hidden",name:"list_id",value:r.id}),(0,Sw.jsxs)("button",{type:"button",name:"save_list",value:r.id,onClick:async()=>{try{const t=Ug(Cw);if(e){const i=Lg(t,"savedPlaylists","".concat(n,"_").concat(e.uid));d?(await Fy(i),f(!1)):(await My(i,{userId:e.uid,playlistId:n,tutorId:r.userId,date:(new Date).toISOString()}),f(!0))}}catch(l_){}},children:[(0,Sw.jsx)("i",{children:(0,Sw.jsx)(Xe,{})}),(0,Sw.jsx)("span",{children:d?"Saved":"Save Playlist"})]})]}),(0,Sw.jsxs)("div",{className:"thumb",children:[(0,Sw.jsxs)("span",{children:[(e=>0===e?e:e<10?"0".concat(e):e>=1e3?"".concat(Math.floor(e/1e3),"k"):e)(u)," Videos"]}),(0,Sw.jsx)("img",{src:r.thumbnail,alt:""})]})]}),(0,Sw.jsxs)("div",{className:"col",children:[(0,Sw.jsx)("div",{className:"tutor",children:o&&(0,Sw.jsxs)(Sw.Fragment,{children:[(0,Sw.jsx)("img",{src:o.photoURL,alt:""}),(0,Sw.jsxs)("div",{children:[(0,Sw.jsx)("h3",{children:o.displayName}),(0,Sw.jsx)("span",{children:o.profession})]})]})}),(0,Sw.jsxs)("div",{className:"details",children:[(0,Sw.jsx)("h3",{children:r.title}),(0,Sw.jsxs)("p",{className:"description",children:[r.description&&(p?r.description:r.description.slice(0,100)),r.description&&r.description.length>100&&(0,Sw.jsx)("button",{onClick:()=>{m(!p)},className:"btn",style:{width:"10rem",height:"4.5rem"},children:p?"Less":"More"})]}),(0,Sw.jsxs)("div",{className:"date",children:[(0,Sw.jsx)("i",{children:(0,Sw.jsx)($e,{})}),(0,Sw.jsx)("span",{children:r.date})]})]})]})]})]}),(0,Sw.jsxs)("section",{className:"Videos-container",children:[(0,Sw.jsx)("h1",{className:"heading",children:"Playlist Videos"}),null!==u&&0!==u?(0,Sw.jsx)("div",{className:"box-container",children:l.map(((t,r)=>(0,Sw.jsxs)(Te,{to:"/User/WatchVideo/".concat(t.id),className:"box",onClick:()=>(async(e,t)=>{try{console.log("Content ID:",e);const r=Rg(Ug(Cw),"contentView"),i=Gc.now();await Vy(r,{userId:t,playlistId:n,tutorId:o?o.userId:null,contentId:e,date:i})}catch(l_){}})(t.id,e.uid),children:[(0,Sw.jsx)("i",{children:(0,Sw.jsx)(vt,{})}),(0,Sw.jsx)("img",{src:t.thumbnailUrl,alt:""}),(0,Sw.jsx)("h3",{children:t.title})]},r)))}):(0,Sw.jsx)("p",{className:"empty",children:"No videos available"})]})]})]})},YE=()=>{const{userId:e}=ne(),[t,n]=(0,i.useState)(null),[r,s]=(0,i.useState)([]);(0,i.useEffect)((()=>{e&&(async()=>{const t=Ug(Cw);try{const r=wy(Rg(t,"savedPlaylists"),by("userId","==",e)),i=await Oy(r);if(i.empty)alert("No Bookmark Added Yet !!");else{const e=[];i.forEach((t=>{e.push(t.data())})),n(e);const r=e.map((e=>e.playlistId)).map((e=>Ly(Lg(t,"playlists",e)))),o=(await Promise.all(r)).map((e=>e.exists()?{id:e.id,...e.data()}:null)).filter(Boolean);s(o)}}catch(l_){alert("Error fetching user details:",l_)}})()}),[e,t]);return(0,Sw.jsxs)("div",{children:[(0,Sw.jsx)(kw,{}),(0,Sw.jsxs)("section",{className:"Courses",children:[(0,Sw.jsx)("h1",{className:"heading",children:"Bookmarked Playlists"}),(0,Sw.jsx)("div",{className:"box-container",children:0===r.length?(0,Sw.jsx)("div",{className:"empty",children:"No bookmarks added yet."}):r.map(((t,n)=>(0,Sw.jsxs)("div",{className:"box",children:[(0,Sw.jsxs)("div",{className:"tutor",children:[(0,Sw.jsx)("img",{src:t.userProfilePhoto,alt:""}),(0,Sw.jsxs)("div",{children:[(0,Sw.jsx)("h3",{children:t.userName}),(0,Sw.jsx)("span",{children:t.date})]})]}),(0,Sw.jsx)("img",{src:t.thumbnail,className:"thumb",alt:""}),(0,Sw.jsx)("h3",{className:"title",children:t.title}),(0,Sw.jsx)(Te,{to:"/User/ViewPlaylist/".concat(t.id),className:"inline-btn",onClick:()=>(async t=>{try{const n=Rg(Ug(Cw),"playlistView"),r=Gc.now();await Vy(n,{userId:e,playlistId:t,date:r})}catch(l_){console.error("Error adding document:",l_)}})(t.id),children:"View Playlist"})]},n)))})]})]})},XE=()=>{const[e,t]=(0,i.useState)(null);(0,i.useEffect)((()=>{const e=Ia(Cw),n=Ug(Cw),r=lo(e,(e=>{e&&(async e=>{try{const r=Rg(n,"playlists"),i=await Oy(r),s=[];await Promise.all(i.docs.map((async t=>{const r=t.data();if(String(r.userId)===e){const e=wy(Rg(n,"playlistView"),by("playlistId","==",t.id)),i=(await Oy(e)).size;s.push({id:t.id,...r,totalViews:i})}}))),t(s)}catch(l_){console.error("Error fetching playlists:",l_)}})(e.uid)}));return()=>r()}),[]);return(0,Sw.jsxs)("div",{children:[(0,Sw.jsx)(Bw,{}),(0,Sw.jsxs)("section",{className:"Viewcourses",children:[(0,Sw.jsx)("h1",{className:"heading",children:"Playlist Viewer"}),e&&e.length>0?(0,Sw.jsx)("div",{className:"box-container",children:e.map(((e,t)=>{return(0,Sw.jsxs)("div",{className:"box",children:[(0,Sw.jsxs)("div",{className:"tutor",children:[(0,Sw.jsx)("img",{src:e.userProfilePhoto,alt:"Tutor Profile"}),(0,Sw.jsxs)("div",{children:[(0,Sw.jsx)("h3",{children:e.userName}),(0,Sw.jsx)("span",{children:(r=e.date,new Date(r).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}))})]})]}),(0,Sw.jsx)("h3",{className:"viewer",children:(n=e.totalViews,0===n?"0":n<10?"0".concat(n):n<1e3?n.toString():n<1e6?(n/1e3).toFixed(1)+"k":(n/1e6).toFixed(1)+"M")}),(0,Sw.jsx)("img",{src:e.thumbnail,alt:"Courses",className:"thumb"}),(0,Sw.jsx)("h3",{className:"title",children:e.title}),(0,Sw.jsx)(Te,{to:"/Admin/ViewerList/".concat(e.id),className:"inline-btn",children:"Viewer List"})]},t);var n,r}))}):(0,Sw.jsx)("p",{className:"empty",children:"No Courses Added Yet !!"})]})]})},JE=()=>{const{playlistId:e}=ne(),[t,n]=(0,i.useState)(null),[r,s]=(0,i.useState)([]),[o,a]=(0,i.useState)([]),[l,c]=(0,i.useState)(!0);(0,i.useEffect)((()=>{const t=Ug(Cw);return(async()=>{try{const r=Lg(t,"playlists",e),i=await Ly(r);if(i.exists()){const r=i.data();n(r);const o=wy(Rg(t,"playlistView"),by("playlistId","==",e)),l=await Oy(o);if(l.empty)console.log("No data found for the playlist in playlistView."),c(!1);else{const e=[],n=[],r=[];l.forEach((i=>{const s=i.data(),o=s.userId,a=s.date,l=new Date(1e3*a.seconds).toLocaleString();e.push(o),n.push(l);const c=u(t,o);r.push(c)})),s(e),a(n),Promise.all(r).then((e=>{s(e)}))}}}catch(l_){}})(),()=>{}}),[e]);const u=async(e,t)=>{try{const n=Lg(e,"users",t),r=await Ly(n);if(r.exists())return r.data();{const n=Lg(e,"tutor",t),r=await Ly(n);return r.exists()?r.data():null}}catch(l_){return null}};return(0,Sw.jsxs)("div",{children:[(0,Sw.jsx)(Bw,{}),(0,Sw.jsxs)("section",{className:"ViewerList",children:[(0,Sw.jsx)("h1",{className:"heading",children:"Playlist View List"}),t&&r.length>0&&l&&(0,Sw.jsx)("div",{className:"show-viewer",children:r.map(((n,r)=>(0,Sw.jsxs)("div",{className:"box",children:[(0,Sw.jsxs)("div",{className:"content",children:[(0,Sw.jsxs)("span",{children:["Playlist Date : ",t.date]}),(0,Sw.jsx)("p",{children:t.title}),(0,Sw.jsx)(Te,{to:"/Admin/AdminViewPlaylist/".concat(e),children:"View Playlist"})]}),(0,Sw.jsx)("div",{className:"text",children:(0,Sw.jsx)("div",{className:"box",children:(0,Sw.jsxs)("div",{className:"userProfile",children:[(0,Sw.jsx)("img",{src:n?n.photoURL:"",alt:"User_Profile"}),(0,Sw.jsxs)("div",{children:[(0,Sw.jsx)("h3",{children:n?n.displayName:"Unknown User"}),(0,Sw.jsx)("span",{children:o[r]})]})]})})})]},r)))}),!l&&(0,Sw.jsx)("p",{className:"empty",children:"No viewers found for this playlist."})]})]})},$E=()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(!0);(0,i.useEffect)((()=>{const e=lo(Ia(Cw),(async e=>{if(e)try{const n=wy(Rg(Ug(Cw),"playlists"),by("userId","==",e.uid)),r=await Oy(n),i=[];r.forEach((e=>{i.push({id:e.id,...e.data()})})),t(i)}catch(l_){console.error("Error fetching playlists:",l_)}finally{r(!1)}else r(!1)}));return()=>e()}),[]);const[s,o]=(0,i.useState)({});(0,i.useEffect)((()=>{const t=Ug(Cw);(async()=>{const n={};await Promise.all(e.map((async e=>{const r=wy(Rg(t,"videos"),by("playlistId","==",e.id)),i=await Oy(r);n[e.id]=i.size}))),o(n)})()}),[e]);const a=(e,t)=>{const n=e.split(" ");return n.length>t?n.slice(0,t):e},[l,c]=(0,i.useState)({}),u=e=>0===e?e:e<10?"0".concat(e):e>=1e3?"".concat(Math.floor(e/1e3),"k"):e;return(0,Sw.jsxs)("div",{children:[(0,Sw.jsx)(Bw,{}),(0,Sw.jsxs)("section",{className:"playlists",children:[(0,Sw.jsx)("h1",{className:"heading",children:"Added Playlists"}),(0,Sw.jsxs)("div",{className:"box-container",children:[(0,Sw.jsxs)("div",{className:"box",style:{textAlign:"center"},children:[(0,Sw.jsx)("h3",{className:"title",style:{marginBottom:"0.5rem"},children:"Create New Playlist"}),(0,Sw.jsx)(Te,{to:"/Admin/AddPlaylist",className:"btn",children:"Add Playlist"})]}),n?(0,Sw.jsx)("div",{style:{padding:"2rem",fontSize:"2rem"},children:"Loading..."}):(0,Sw.jsx)(Sw.Fragment,{children:e.length>0?(0,Sw.jsx)(Sw.Fragment,{children:e.map((e=>(0,Sw.jsxs)("div",{className:"box",children:[(0,Sw.jsxs)("div",{className:"flex",children:[(0,Sw.jsxs)("div",{children:[(0,Sw.jsx)("i",{children:(0,Sw.jsx)(zw,{style:{color:"Active"===e.status?"limegreen":"red"}})}),(0,Sw.jsx)("span",{children:e.status})]}),(0,Sw.jsxs)("div",{children:[(0,Sw.jsx)("i",{children:(0,Sw.jsx)($e,{})}),(0,Sw.jsx)("span",{children:e.date})]})]}),(0,Sw.jsxs)("div",{className:"thumb",children:[(0,Sw.jsx)("span",{children:u(s[e.id])}),(0,Sw.jsx)("img",{src:e.thumbnail,alt:"Playlist_Thumbnail"})]}),(0,Sw.jsx)("h3",{className:"title",children:e.title}),(0,Sw.jsxs)("p",{className:"description",children:[l[e.id]?e.description:a(e.description,15),e.description.split(" ").length>15&&(0,Sw.jsx)("button",{className:"more-less-btn",onClick:()=>{return t=e.id,void c((e=>({...e,[t]:!e[t]})));var t},children:l[e.id]?"Less":"More"})]}),(0,Sw.jsxs)("form",{action:"",method:"post",className:"flex-btn",children:[(0,Sw.jsx)(Te,{to:"/Admin/UpdatePlaylist/".concat(e.id),className:"option-btn",children:"Update"}),(0,Sw.jsx)("button",{type:"button",className:"delete-btn",onClick:()=>(async e=>{if(window.confirm("Delete this playlist?"))try{const n=Ug(Cw),r=Lg(n,"playlists",e);(await Oy(wy(Rg(n,"videos"),by("playlistId","==",e)))).forEach((async e=>{await Fy(e.ref)})),(await Oy(wy(Rg(n,"likes"),by("playlistId","==",e)))).forEach((async e=>{await Fy(e.ref)})),(await Oy(wy(Rg(n,"comments"),by("playlistId","==",e)))).forEach((async e=>{await Fy(e.ref)})),(await Oy(wy(Rg(n,"likes"),by("contentId","==",e)))).forEach((async e=>{await Fy(e.ref)})),(await Oy(wy(Rg(n,"playlistView"),by("playlistId","==",e)))).forEach((async e=>{await Fy(e.ref)})),(await Oy(wy(Rg(n,"contentView"),by("playlistId","==",e)))).forEach((async e=>{await Fy(e.ref)})),(await Oy(wy(Rg(n,"savedPlaylists"),by("playlistId","==",e)))).forEach((async e=>{await Fy(e.ref)})),await Fy(r),t((t=>t.filter((t=>t.id!==e))))}catch(l_){console.error("Error deleting playlist:",l_)}})(e.id),name:"delete",children:"Delete"})]}),(0,Sw.jsx)(Te,{to:"/Admin/AdminViewPlaylist/".concat(e.id),className:"btn",children:"View Playlist"})]},e.id)))}):(0,Sw.jsx)("p",{className:"empty",children:"No Playlist Added Yet !!"})})]})]})]})},ZE=()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(null),[s,o]=(0,i.useState)(!0);(0,i.useEffect)((()=>{const e=lo(Ia(Cw),(async e=>{r(e||null)}));return()=>e()}),[]),(0,i.useEffect)((()=>{if(n){const e=async()=>{try{const e=Rg(Ug(Cw),"videos"),r=(await Oy(wy(e,by("userId","==",n.uid)))).docs.map((e=>({id:e.id,...e.data()})));t(r),o(!1)}catch(l_){console.error("Error fetching content:",l_)}};e()}}),[n]);return(0,Sw.jsxs)(Sw.Fragment,{children:[(0,Sw.jsx)(Bw,{}),(0,Sw.jsxs)("section",{className:"contents",children:[(0,Sw.jsx)("h1",{className:"heading",children:"Your Contents"}),(0,Sw.jsxs)("div",{className:"box-container",children:[(0,Sw.jsxs)("div",{className:"box",style:{textAlign:"center"},children:[(0,Sw.jsx)("h3",{className:"title",style:{marginBottom:"0.5rem"},children:"Create New Content"}),(0,Sw.jsx)(Te,{to:"/Admin/AddContent",className:"btn",children:"Add Content"})]}),s?(0,Sw.jsx)("div",{style:{padding:"2rem",fontSize:"2rem"},children:"Loading..."}):e.length>0?e.map((e=>(0,Sw.jsxs)("div",{className:"box",children:[(0,Sw.jsxs)("div",{className:"flex",children:[(0,Sw.jsxs)("div",{children:[(0,Sw.jsx)("i",{style:{color:"limegreen"},children:(0,Sw.jsx)(ot,{})}),(0,Sw.jsx)("span",{style:{color:"limegreen"},children:"Active"})]}),(0,Sw.jsxs)("div",{children:[(0,Sw.jsx)("i",{children:(0,Sw.jsx)($e,{})}),(0,Sw.jsx)("span",{children:e.date})]})]}),(0,Sw.jsx)("img",{src:e.thumbnailUrl,className:"thumb",alt:""}),(0,Sw.jsx)("h3",{className:"title",children:e.title}),(0,Sw.jsxs)("form",{action:"",method:"post",className:"flex-btn",children:[(0,Sw.jsx)("input",{type:"hidden",name:"playlist_id",value:e.id}),(0,Sw.jsx)(Te,{to:"/Admin/UpdateContent/".concat(e.id),className:"option-btn",children:"Update"}),(0,Sw.jsx)("button",{type:"button",className:"delete-btn",onClick:()=>(async e=>{if(window.confirm("Delete this video?"))try{const n=Ug(Cw);(await Oy(wy(Rg(n,"likes"),by("contentId","==",e)))).forEach((async e=>{await Fy(e.ref)})),(await Oy(wy(Rg(n,"contentView"),by("contentId","==",e)))).forEach((async e=>{await Fy(e.ref)})),(await Oy(wy(Rg(n,"comments"),by("contentId","==",e)))).forEach((async e=>{await Fy(e.ref)})),await Fy(Lg(n,"videos",e)),t((t=>t.filter((t=>t.id!==e))))}catch(l_){console.error("Error deleting video:",l_)}})(e.id),children:"Delete"})]}),(0,Sw.jsx)(Te,{to:"/Admin/ViewContent/".concat(e.id),className:"btn",children:"View content"})]},e.id))):(0,Sw.jsx)("div",{className:"empty",children:"No content found. Create one Aleast."})]})]})]})},eS=()=>{const e=te(),[t,n]=(0,i.useState)(null),[r,s]=(0,i.useState)([]),[o,a]=(0,i.useState)({status:"",title:"",description:"",playlist:"",date:"",thumb:"",video:""});(0,i.useEffect)((()=>{const e=lo(Ia(Cw),(async e=>{e&&(n(e),l(e.uid))}));return()=>e()}),[]);const l=async e=>{try{const t=Ug(Cw),n=wy(Rg(t,"playlists"),by("userId","==",e)),r=(await Oy(n)).docs.map((e=>({id:e.id,...e.data()})));s(r)}catch(l_){console.error("Error fetching playlists:",l_)}},c=e=>{const{name:t,files:n}=e.target;if(n&&n[0]){if("video"===t)a({...o,[t]:n[0]});else if("thumb"===t){const e=n[0];e.type.startsWith("image/")?a({...o,[t]:e}):console.error("Invalid file format for thumbnail. Please select an image file.")}}else{const{name:t,value:n}=e.target;a({...o,[t]:n})}};return(0,Sw.jsxs)(Sw.Fragment,{children:[(0,Sw.jsx)(Bw,{}),(0,Sw.jsxs)("section",{className:"video-form",children:[(0,Sw.jsx)("h1",{className:"heading",children:"Upload Content"}),(0,Sw.jsxs)("form",{onSubmit:async n=>{n.preventDefault();try{const n=_w(Ew,"videos/".concat(o.video.name)),i=_w(Ew,"videoThumbnails/".concat(o.thumb.name)),s=vw(n,o.video),l=vw(i,o.thumb),[c,u]=await Promise.all([s,l]),h=Rg(Ug(Cw),"videos"),d=r.find((e=>e.title===o.playlist));if(!d)return void console.error("Selected playlist not found.");const f={userId:t.uid,userName:t.displayName,userProfilePhoto:t.photoURL,playlistId:d.id,playlistsTitle:o.playlist,status:o.status,title:o.title,description:o.description,date:o.date,videoUrl:await ww(c.ref),thumbnailUrl:await ww(u.ref)};await Vy(h,f),alert("Content uploaded successfully!"),a({status:"",title:"",description:"",playlist:"",date:"",thumb:"",video:""}),e("/Admin/Dashboard")}catch(l_){console.error("Error uploading video:",l_)}},encType:"multipart/form-data",children:[(0,Sw.jsxs)("p",{children:["Video Status ",(0,Sw.jsx)("span",{children:"*"})]}),(0,Sw.jsxs)("select",{name:"status",className:"box",value:o.status,onChange:c,required:!0,children:[(0,Sw.jsx)("option",{value:"",children:"Select Status"}),(0,Sw.jsx)("option",{value:"Active",children:"Active"}),(0,Sw.jsx)("option",{value:"Deactive",children:"Deactive"})]}),(0,Sw.jsxs)("p",{children:["Video Title ",(0,Sw.jsx)("span",{children:"*"})]}),(0,Sw.jsx)("input",{type:"text",name:"title",maxLength:"100",value:o.title,onChange:c,required:!0,placeholder:"Enter Video Title",className:"box"}),(0,Sw.jsxs)("p",{children:["Video Description ",(0,Sw.jsx)("span",{children:"*"})]}),(0,Sw.jsx)("textarea",{name:"description",value:o.description,onChange:c,className:"box",required:!0,placeholder:"Write Description",maxLength:"100000000000",cols:"30",rows:"10"}),(0,Sw.jsxs)("p",{children:["Video Playlist ",(0,Sw.jsx)("span",{children:"*"})]}),(0,Sw.jsxs)("select",{name:"playlist",value:o.playlist,onChange:c,className:"box",required:!0,children:[(0,Sw.jsx)("option",{value:"",children:"Select Playlist"}),r.map((e=>(0,Sw.jsx)("option",{value:e.title,children:e.title},e.id)))]}),(0,Sw.jsxs)("p",{children:["Select Date ",(0,Sw.jsx)("span",{children:"*"})]}),(0,Sw.jsx)("input",{type:"date",name:"date",value:o.date,onChange:c,required:!0,className:"box"}),(0,Sw.jsxs)("p",{children:["Select Thumbnail ",(0,Sw.jsx)("span",{children:"*"})]}),(0,Sw.jsx)("input",{type:"file",name:"thumb",accept:"image/*",onChange:c,required:!0,className:"box"}),(0,Sw.jsxs)("p",{children:["Select Video ",(0,Sw.jsx)("span",{children:"*"})]}),(0,Sw.jsx)("input",{type:"file",name:"video",accept:"video/*",onChange:c,required:!0,className:"box"}),(0,Sw.jsx)("input",{type:"submit",value:"Upload Video",name:"submit",className:"btn"})]})]})]})},tS=()=>{const e=te(),{contentId:t}=ne(),[n,r]=(0,i.useState)({status:"",title:"",description:"",thumbnail:"",playlistTitle:"",playlistId:"",video:""}),[s,o]=(0,i.useState)([]),[a,l]=(0,i.useState)(!0);(0,i.useEffect)((()=>{(async()=>{try{const e=Lg(Ug(Cw),"videos",t),n=await Ly(e);if(n.exists()){const e=n.data();r({status:e.status,title:e.title,description:e.description,playlistTitle:e.playlistsTitle,playlistId:e.playlistId,thumbnail:e.thumbnailUrl,video:e.videoUrl})}else console.log("No such document!")}catch(l_){console.error("Error fetching content data:",l_)}})(),(async()=>{try{const e=Rg(Ug(Cw),"playlists"),t=(await Oy(e)).docs.map((e=>({id:e.id,...e.data()})));o(t)}catch(l_){console.error("Error fetching playlists:",l_)}finally{l(!1)}})()}),[t]);return(0,Sw.jsxs)("div",{children:[(0,Sw.jsx)(Bw,{}),(0,Sw.jsxs)("section",{className:"video-form",children:[(0,Sw.jsx)("h1",{className:"heading",children:"Update Content"}),(0,Sw.jsxs)("form",{onSubmit:async i=>{i.preventDefault();try{const i=Lg(Ug(Cw),"videos",t);if(n.thumbnail){const e=_w(Ew,"videoThumbnails/".concat(n.thumbnail.name));await vw(e,n.thumbnail);const t=await ww(e);r((e=>({...e,thumbnailUrl:t})))}if(n.video){const e=_w(Ew,"videos/".concat(n.video.name));await vw(e,n.video);const t=await ww(e);r((e=>({...e,videoUrl:t})))}await Uy(i,{status:n.status,title:n.title,description:n.description,playlistId:n.playlistId,playlistsTitle:n.playlistTitle,thumbnailUrl:n.thumbnailUrl||n.thumbnail,videoUrl:n.videoUrl||n.video}),alert("Content successfully updated!"),e("/Admin/Dashboard")}catch(l_){console.error("Error updating document:",l_)}},encType:"multipart/form-data",children:[(0,Sw.jsx)("input",{type:"hidden",name:"video_id",value:t}),(0,Sw.jsx)("input",{type:"hidden",name:"old_thumb",value:n.thumbnail}),(0,Sw.jsx)("input",{type:"hidden",name:"old_video",value:n.video}),(0,Sw.jsxs)("p",{children:["Update Status ",(0,Sw.jsx)("span",{children:"*"})]}),(0,Sw.jsxs)("select",{name:"status",className:"box",required:!0,value:n.status,onChange:e=>{r({...n,status:e.target.value})},children:[(0,Sw.jsx)("option",{value:"Active",children:"Active"}),(0,Sw.jsx)("option",{value:"Deactive",children:"Deactive"})]}),(0,Sw.jsxs)("p",{children:["Update Title ",(0,Sw.jsx)("span",{children:"*"})]}),(0,Sw.jsx)("input",{type:"text",name:"title",maxLength:"100",required:!0,placeholder:"Enter Video Title",className:"box",value:n.title||"",onChange:e=>r({...n,title:e.target.value})}),(0,Sw.jsxs)("p",{children:["Update Description ",(0,Sw.jsx)("span",{children:"*"})]}),(0,Sw.jsx)("textarea",{name:"description",className:"box",required:!0,placeholder:"Write Description",maxLength:"100000000000",cols:"30",rows:"10",value:n.description||"",onChange:e=>r({...n,description:e.target.value})}),(0,Sw.jsx)("p",{children:"Update Playlist"}),(0,Sw.jsxs)("select",{name:"playlist",className:"box",onChange:e=>{const t=e.target.value,i=s.find((e=>e.id===t));r({...n,playlistTitle:i.title,playlistId:t})},value:n.playlistId||"",children:[(0,Sw.jsx)("option",{value:"",disabled:!0,children:"Select Playlist"}),a?(0,Sw.jsx)("option",{disabled:!0,children:"Loading..."}):s.map((e=>(0,Sw.jsx)("option",{value:e.id,children:e.title},e.id)))]}),(0,Sw.jsx)("img",{src:n.thumbnail,alt:""}),(0,Sw.jsx)("p",{children:"Update Thumbnail"}),(0,Sw.jsx)("input",{type:"file",name:"thumb",accept:"image/*",className:"box",onChange:e=>r({...n,thumbnail:e.target.files[0]||n.thumbnail})}),(0,Sw.jsx)("video",{src:n.video,controls:!0}),(0,Sw.jsx)("p",{children:"Update Video"}),(0,Sw.jsx)("input",{type:"file",name:"video",accept:"video/*",className:"box",onChange:e=>r({...n,video:e.target.files[0]||n.video})}),(0,Sw.jsx)("input",{type:"submit",value:"Update Content",name:"update",className:"btn"}),(0,Sw.jsxs)("div",{className:"flex-btn",children:[(0,Sw.jsx)(Te,{to:"/Admin/ViewContent/".concat(n.playlistId),className:"option-btn",children:"View Content"}),(0,Sw.jsx)("button",{type:"button",onClick:async()=>{try{const e=Ug(Cw);await Fy(Lg(e,"videos",t)),console.log("Content successfully deleted!")}catch(l_){console.error("Error deleting document:",l_)}},className:"delete-btn",children:"Delete Content"})]})]})]})]})},nS=()=>{const[e,t]=(0,i.useState)(""),[n,r]=(0,i.useState)(""),[s,o]=(0,i.useState)(""),[a,l]=(0,i.useState)(null),c=te(),{playlistId:u}=ne();(0,i.useEffect)((()=>{(async()=>{try{const e=Lg(Ug(),"playlists",u),n=await Ly(e);if(n.exists()){const e=n.data();t(e.status),r(e.title),o(e.description),l(e.thumbnail)}else alert("Playlist not found")}catch(l_){alert("Error fetching playlist"),console.error("Error fetching playlist:",l_)}})()}),[u]);return(0,Sw.jsxs)("div",{children:[(0,Sw.jsx)(Bw,{}),(0,Sw.jsxs)("section",{className:"playlist-form",children:[(0,Sw.jsx)("h1",{className:"heading",children:"Update Playlist"}),(0,Sw.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{const t=Lg(Ug(),"playlists",u);if(await Uy(t,{status:e,title:n,description:s}),a){const e=_w(Ew,"thumbnails/".concat(u,"/").concat(a.name));await yw(e,a);const n=await ww(e);await Uy(t,{thumbnail:n})}alert("Playlist updated successfully"),c("/Admin/Dashboard")}catch(l_){alert("Error updating playlist:",l_)}},encType:"multipart/form-data",children:[(0,Sw.jsx)("input",{type:"hidden",name:"old_image",value:""}),(0,Sw.jsxs)("p",{children:["Playlist Status ",(0,Sw.jsx)("span",{children:"*"})]}),(0,Sw.jsxs)("select",{name:"status",className:"box",required:!0,value:e,onChange:e=>t(e.target.value),children:[(0,Sw.jsx)("option",{value:"",children:"Select Status"}),(0,Sw.jsx)("option",{value:"Active",children:"Active"}),(0,Sw.jsx)("option",{value:"Deactive",children:"Deactive"})]}),(0,Sw.jsxs)("p",{children:["Playlist Title ",(0,Sw.jsx)("span",{children:"*"})]}),(0,Sw.jsx)("input",{type:"text",name:"title",maxLength:"100",required:!0,placeholder:"Enter Playlist Title",value:n,onChange:e=>r(e.target.value),className:"box"}),(0,Sw.jsxs)("p",{children:["Playlist Description ",(0,Sw.jsx)("span",{children:"*"})]}),(0,Sw.jsx)("textarea",{name:"description",className:"box",required:!0,placeholder:"Write Description",maxLength:"100000000000",cols:"30",rows:"10",value:s,onChange:e=>o(e.target.value)}),(0,Sw.jsxs)("p",{children:["Playlist Thumbnail ",(0,Sw.jsx)("span",{children:"*"})]}),a&&(0,Sw.jsxs)("div",{className:"thumb",children:[(0,Sw.jsx)("span",{}),(0,Sw.jsx)("img",{src:a,alt:""})," "]}),(0,Sw.jsx)("input",{type:"file",name:"image",accept:"image/*",className:"box",onChange:e=>l(e.target.files[0])}),(0,Sw.jsx)("input",{type:"submit",value:"Update Playlist",name:"submit",className:"btn"}),(0,Sw.jsxs)("div",{className:"flex-btn",children:[(0,Sw.jsx)("input",{type:"submit",value:"Delete",className:"delete-btn",name:"delete"}),(0,Sw.jsx)(Te,{to:"/Admin/AdminViewPlaylist/".concat(u),className:"option-btn",children:"View Playlist"})]})]})]})]})},rS=()=>{const[e,t]=(0,i.useState)(""),[n,r]=(0,i.useState)(null),[s,o]=(0,i.useState)(0),[a,l]=(0,i.useState)(0),[c,u]=(0,i.useState)(0),[h,d]=(0,i.useState)(0);(0,i.useEffect)((()=>{const e=lo(Ia(Cw),(e=>{e?(r(e),f(e.uid)):r(null)}));return()=>e()}),[]);const f=async e=>{try{const n=Ug(Cw),r=Rg(n,"tutor");(await Oy(r)).forEach((n=>{if(n.id===e){const e=n.data();t(e.profession)}}));const i=Rg(n,"playlists"),s=await Oy(i);let a=0;s.forEach((t=>{t.data().userId===e&&a++})),o(a);const c=Rg(n,"videos"),h=await Oy(c);let f=0;h.forEach((t=>{t.data().userId===e&&f++})),l(f);const p=Rg(n,"likes"),m=await Oy(p);let g=0;m.forEach((t=>{t.data().userId===e&&g++})),u(g);const y=Rg(n,"comments"),v=await Oy(y);let w=0;v.forEach((t=>{t.data().userId===e&&w++})),d(w)}catch(l_){console.error("Error getting document:",l_)}},p=e=>0===e?e:e<10?"0".concat(e):e>=1e3?"".concat(Math.floor(e/1e3),"k"):e;return(0,Sw.jsxs)(Sw.Fragment,{children:[(0,Sw.jsx)(Bw,{}),(0,Sw.jsxs)("section",{className:"tutor-profile",style:{minHeight:"calc(100vh - 19rem)"},children:[(0,Sw.jsx)("h1",{className:"heading",children:"Profile Details"}),(0,Sw.jsx)("div",{className:"details",children:n?(0,Sw.jsxs)("div",{children:[(0,Sw.jsxs)("div",{className:"tutor",children:[(0,Sw.jsx)("img",{src:n.photoURL,alt:""}),(0,Sw.jsx)("h3",{children:n.displayName}),(0,Sw.jsx)("span",{children:e}),(0,Sw.jsx)(Te,{to:"/Admin/UpdateAdminProfile",className:"inline-btn",children:"Update Profile"})]}),(0,Sw.jsxs)("div",{className:"flex",children:[(0,Sw.jsxs)("div",{className:"box",children:[(0,Sw.jsx)("span",{children:p(s)}),(0,Sw.jsx)("p",{children:"Total Playlists"}),(0,Sw.jsx)(Te,{to:"/Admin/AdminPlaylist",className:"btn",children:"View Playlists"})]}),(0,Sw.jsxs)("div",{className:"box",children:[(0,Sw.jsx)("span",{children:p(a)}),(0,Sw.jsx)("p",{children:"Total Videos"}),(0,Sw.jsx)(Te,{to:"/Admin/AdminContent",className:"btn",children:"View Contents"})]}),(0,Sw.jsxs)("div",{className:"box",children:[(0,Sw.jsx)("span",{children:p(c)}),(0,Sw.jsx)("p",{children:"Total Likes"}),(0,Sw.jsx)(Te,{to:"/Admin/AdminContent",className:"btn",children:"View Contents"})]}),(0,Sw.jsxs)("div",{className:"box",children:[(0,Sw.jsx)("span",{children:p(h)}),(0,Sw.jsx)("p",{children:"Total Comments"}),(0,Sw.jsx)(Te,{to:"/Admin/Comment",className:"btn",children:"View Comments"})]})]})]}):(0,Sw.jsx)("div",{children:(0,Sw.jsxs)("div",{className:"tutor",children:[(0,Sw.jsx)("h3",{children:"No User Found !!"}),(0,Sw.jsx)(Te,{to:"/Admin/AdminLogin",className:"inline-btn",children:"Login"})]})})})]})]})},iS=()=>{var e;const{contentId:t}=ne(),[n,r]=(0,i.useState)(null),[s,o]=(0,i.useState)(!0),[a,l]=(0,i.useState)(!1),c=(0,i.useRef)(null);(0,i.useEffect)((()=>{const e=async e=>{try{const t=Ug(Cw),n=wy(Rg(t,"likes"),by("contentId","==",e));return(await Oy(n)).size}catch(l_){return console.error("Error fetching likes:",l_),0}},n=async e=>{try{const t=Ug(Cw),n=wy(Rg(t,"comments"),by("contentId","==",e));return(await Oy(n)).docs.map((e=>({id:e.id,...e.data()})))}catch(l_){return console.error("Error fetching comments:",l_),[]}};(async()=>{try{const i=Lg(Ug(Cw),"videos",t),s=await Ly(i);if(s.exists()){const i={...s.data(),id:s.id},o=await e(t),a=await n(t);r({...i,likes:o,comments:a})}else r(null)}catch(l_){console.error("Error fetching content:",l_),r(null)}finally{o(!1)}})()}),[t]);const u=async e=>{if(window.confirm("Delete this video?"))try{const t=Ug(Cw);(await Oy(wy(Rg(t,"likes"),by("contentId","==",e)))).forEach((async e=>{await Fy(e.ref)}));(await Oy(wy(Rg(t,"contentView"),by("contentId","==",e)))).forEach((async e=>{await Fy(e.ref)}));(await Oy(wy(Rg(t,"comments"),by("contentId","==",e)))).forEach((async e=>{await Fy(e.ref)})),await Fy(Lg(t,"videos",e)),r((t=>t&&t.id===e?null:t))}catch(l_){console.error("Error deleting video:",l_)}};(0,i.useEffect)((()=>{const e=e=>{switch(e.key){case"k":h();break;case"f":t();break;case"j":d();break;case"l":f()}},t=()=>{c.current&&(a?r():n())},n=()=>{c.current.requestFullscreen?c.current.requestFullscreen():c.current.mozRequestFullScreen?c.current.mozRequestFullScreen():c.current.webkitRequestFullscreen?c.current.webkitRequestFullscreen():c.current.msRequestFullscreen&&c.current.msRequestFullscreen(),l(!0)},r=()=>{document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen(),l(!1)};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[a]);const h=()=>{c.current&&(c.current.paused?c.current.play():c.current.pause())},d=()=>{c.current&&(c.current.currentTime-=5)},f=()=>{c.current&&(c.current.currentTime+=5)},p=()=>{r((e=>e?{...e,expanded:!e.expanded}:null))},m=e=>"undefined"===typeof e||null===e?0:0===e?e:e<10?"0".concat(e):e>=1e3?"".concat(Math.floor(e/1e3),"k"):e;return(0,Sw.jsxs)("div",{children:[(0,Sw.jsx)(Bw,{}),s?(0,Sw.jsx)("div",{style:{padding:"2rem",fontSize:"2rem"},children:"Loading..."}):(0,Sw.jsx)("div",{children:n?(0,Sw.jsxs)("section",{className:"view-content",children:[(0,Sw.jsxs)("div",{className:"container",children:[n.videoUrl&&n.thumbnailUrl?(0,Sw.jsx)("video",{ref:c,src:n.videoUrl,autoPlay:!0,controls:!0,poster:n.thumbnailUrl,className:"video"}):(0,Sw.jsx)("div",{className:"error",children:"Video or thumbnail not found."}),(0,Sw.jsxs)("div",{className:"date",children:[(0,Sw.jsx)("i",{children:(0,Sw.jsx)($e,{})}),(0,Sw.jsx)("span",{children:n.date})]}),(0,Sw.jsx)("h3",{className:"title",children:n.title}),(0,Sw.jsxs)("div",{className:"flex",children:[(0,Sw.jsxs)("div",{children:[(0,Sw.jsx)("i",{children:(0,Sw.jsx)(ut,{})}),(0,Sw.jsx)("span",{children:m(n.likes)})]}),(0,Sw.jsxs)("div",{children:[(0,Sw.jsx)("i",{children:(0,Sw.jsx)(st,{})}),(0,Sw.jsx)("span",{children:m(null===(e=n.comments)||void 0===e?void 0:e.length)})]})]}),(0,Sw.jsx)("div",{className:"description",children:n.description.length>200&&!n.expanded?(0,Sw.jsxs)(Sw.Fragment,{children:[n.description.substring(0,200),"...",(0,Sw.jsx)("button",{className:"read-more-less",onClick:p,children:"Read More"})]}):(0,Sw.jsxs)(Sw.Fragment,{children:[n.description,n.description.length>200&&n.expanded&&(0,Sw.jsx)("button",{onClick:p,children:"Read Less"})]})}),(0,Sw.jsxs)("div",{className:"flex-btn",children:[(0,Sw.jsx)(Te,{to:"/Admin/UpdateContent/".concat(n.id),className:"option-btn",children:"Update"}),(0,Sw.jsx)("button",{type:"button",onClick:()=>u(n.id),className:"delete-btn",children:"Delete"})]})]}),(0,Sw.jsxs)("section",{className:"comments",children:[(0,Sw.jsx)("h1",{className:"heading",children:"User Comments"}),(0,Sw.jsx)("div",{className:"show-comments",children:n.comments&&n.comments.length>0?n.comments.map(((e,t)=>{return(0,Sw.jsxs)("div",{className:"commentBox",children:[(0,Sw.jsxs)("div",{className:"user",children:[(0,Sw.jsx)("img",{src:e.userProfilePhoto,alt:"Profile"}),(0,Sw.jsxs)("div",{children:[(0,Sw.jsx)("h3",{children:e.userName}),(0,Sw.jsx)("span",{children:(n=e.date,new Date(n).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"}))})]})]}),(0,Sw.jsx)("p",{className:"text",children:e.commentText}),(0,Sw.jsx)("button",{onClick:()=>u(e.id),className:"inline-delete-btn",children:"Delete"})]},t);var n})):(0,Sw.jsx)("div",{className:"empty",children:"No comments yet."})})]})]}):(0,Sw.jsx)("div",{className:"view-content",children:(0,Sw.jsx)("div",{className:"empty",children:"Video content not found."})})})]})},sS=()=>{const{playlistId:e}=ne(),[t,n]=(0,i.useState)(null),[r,s]=(0,i.useState)([]),[o,a]=(0,i.useState)(!1);(0,i.useEffect)((()=>{const t=Ug(Cw);(async()=>{try{console.log(e);const r=Lg(t,"playlists",e),i=await Ly(r);i.exists()&&n({id:i.id,...i.data()})}catch(l_){console.error("Error fetching playlist:",l_)}})(),(async()=>{try{const n=(await Oy(wy(Rg(t,"videos"),by("playlistId","==",e)))).docs.map((e=>({id:e.id,...e.data()})));s(n)}catch(l_){console.error("Error fetching videos:",l_)}})()}),[e]);return(0,Sw.jsxs)("div",{children:[(0,Sw.jsx)(Bw,{}),(0,Sw.jsxs)("section",{className:"playlist-details",children:[(0,Sw.jsx)("h1",{className:"heading",children:"Playlist Details"}),t&&(0,Sw.jsxs)("div",{className:"row",children:[(0,Sw.jsxs)("div",{className:"thumb",children:[(0,Sw.jsx)("span",{children:(e=>0===e?e:e<10?"0".concat(e):e>=1e3?"".concat(Math.floor(e/1e3),"k"):e)(r.length)}),(0,Sw.jsx)("img",{src:t.thumbnail,alt:"Playlist Thumbnail"})]}),(0,Sw.jsxs)("div",{className:"details",children:[(0,Sw.jsx)("h3",{className:"title",children:t.title}),(0,Sw.jsxs)("div",{className:"date",children:[(0,Sw.jsx)("i",{children:(0,Sw.jsx)($e,{})}),(0,Sw.jsx)("span",{children:t.date})]}),(0,Sw.jsxs)("div",{className:"description",children:[o?t.description:t.description.slice(0,100),t.description.length>100&&(0,Sw.jsx)("button",{onClick:()=>{a(!o)},children:o?"Less":"More"})]}),(0,Sw.jsxs)("div",{className:"flex-btn",children:[(0,Sw.jsx)(Te,{to:"/Admin/UpdatePlaylist/".concat(e),className:"option-btn",children:"Update Playlist"}),(0,Sw.jsx)("button",{onClick:(async e=>{if(window.confirm("Are You sure ? Delete this playlist?"))try{const t=Ug(Cw),r=Lg(t,"playlists",e);(await Oy(wy(Rg(t,"videos"),by("playlistId","==",e)))).forEach((async e=>{await Fy(e.ref)}));(await Oy(wy(Rg(t,"likes"),by("playlistId","==",e)))).forEach((async e=>{await Fy(e.ref)}));(await Oy(wy(Rg(t,"comments"),by("playlistId","==",e)))).forEach((async e=>{await Fy(e.ref)}));(await Oy(wy(Rg(t,"likes"),by("contentId","==",e)))).forEach((async e=>{await Fy(e.ref)}));(await Oy(wy(Rg(t,"playlistView"),by("playlistId","==",e)))).forEach((async e=>{await Fy(e.ref)}));(await Oy(wy(Rg(t,"contentView"),by("playlistId","==",e)))).forEach((async e=>{await Fy(e.ref)}));(await Oy(wy(Rg(t,"savedPlaylists"),by("playlistId","==",e)))).forEach((async e=>{await Fy(e.ref)})),await Fy(r),n((t=>t.filter((t=>t.id!==e)))),alert("Deleted Successfully !!"),function(e){let{to:t,replace:n,state:r,relative:s}=e;$()||h(!1);let{future:o,static:a}=i.useContext(G),{matches:l}=i.useContext(X),{pathname:c}=Z(),u=te(),d=M(t,O(l,o.v7_relativeSplatPath),c,"path"===s),f=JSON.stringify(d);i.useEffect((()=>u(JSON.parse(f),{replace:n,state:r,relative:s})),[u,f,s,n,r])}("/Admin/Dashboard")}catch(l_){console.error("Error deleting playlist:",l_)}})(e),className:"delete-btn",children:"Delete Playlist"})]})]})]})]}),t&&(0,Sw.jsxs)("section",{className:"contents",children:[(0,Sw.jsx)("h1",{className:"heading",children:"Playlist Videos"}),(0,Sw.jsx)("div",{className:"box-container",children:r.length>0?r.map((e=>(0,Sw.jsxs)("div",{className:"box",children:[(0,Sw.jsxs)("div",{className:"flex",children:[(0,Sw.jsxs)("div",{children:[(0,Sw.jsx)("i",{children:(0,Sw.jsx)(ot,{})}),(0,Sw.jsx)("span",{children:e.status})]}),(0,Sw.jsxs)("div",{children:[(0,Sw.jsx)("i",{children:(0,Sw.jsx)($e,{})}),(0,Sw.jsx)("span",{children:e.date})]})]}),(0,Sw.jsx)("img",{src:e.thumbnailUrl,className:"thumb",alt:""}),(0,Sw.jsx)("h3",{className:"title",children:e.title}),(0,Sw.jsx)("div",{className:"flex-btn",children:(0,Sw.jsx)(Te,{to:"/Admin/UpdateContent/".concat(e.id),className:"option-btn",children:"Update"})}),(0,Sw.jsx)(Te,{to:"/Admin/ViewContent/".concat(t.id),className:"btn",children:"Watch Video"})]},e.id))):(0,Sw.jsx)("div",{className:"empty",children:"No videos added yet"})})]})]})},oS=()=>{const[e,t]=(0,i.useState)(null),[n,r]=(0,i.useState)([]),[s,o]=(0,i.useState)(!0),a=te();(0,i.useEffect)((()=>{const e=lo(Ia(Cw),(async e=>{if(e){t(e);try{const t=Ug(Cw),n=wy(Rg(t,"videos"),by("userId","==",e.uid)),i=await Oy(n);if(i.empty)r([]);else{const e=i.docs.map((async e=>{const n=e.id,r=await l(n,t);return{...e.data(),id:e.id,comments:r}})),n=(await Promise.all(e)).filter((e=>e.comments.length>0));r(n)}}catch(l_){console.error("Error fetching content and comments:",l_),r([])}finally{o(!1)}}else t(null),r([]),o(!1)}));return e}),[e]);const l=async(e,t)=>{try{const n=wy(Rg(t,"comments"),by("contentId","==",e)),r=await Oy(n);return r.empty?[]:r.docs.map((e=>({...e.data(),id:e.id})))}catch(l_){return console.error("Error fetching comments for content:",l_),[]}};return(0,Sw.jsxs)(Sw.Fragment,{children:[(0,Sw.jsx)(Bw,{}),(0,Sw.jsxs)("section",{className:"comments",children:[(0,Sw.jsx)("h1",{className:"heading",children:"User Comments"}),s?(0,Sw.jsx)("p",{children:"Loading..."}):(0,Sw.jsx)("div",{className:"show-comments",children:n.length>0?n.map((e=>(0,Sw.jsxs)("div",{className:"box",children:[(0,Sw.jsxs)("div",{className:"content",children:[(0,Sw.jsx)("span",{children:new Date(e.date).toLocaleDateString()}),(0,Sw.jsx)("p",{children:e.title}),(0,Sw.jsx)(Te,{to:"/Admin/ViewContent/".concat(e.id),children:"View content"})]}),e.comments.map((t=>(0,Sw.jsxs)("div",{children:[(0,Sw.jsx)("p",{className:"text",children:t.commentText}),(0,Sw.jsx)("button",{type:"button",className:"inline-delete-btn",onClick:()=>window.confirm("Delete this Comment?")&&(async(e,t)=>{try{const n=Lg(Ug(Cw),"comments",e);await Fy(n),r((n=>n.map((n=>n.id===t?{...n,comments:n.comments.filter((t=>t.id!==e))}:n)))),alert("Comment deleted successfully."),a("/Admin/Comment")}catch(l_){alert("Error deleting comment:",l_.message)}})(t.id,e.id),children:"Delete comment"})]},t.id)))]},e.id))):(0,Sw.jsx)("p",{className:"empty",children:"No comments found."})})]})]})},aS=Ug(Cw),lS=bw(Cw),cS=()=>{const e=te(),[t,n]=(0,i.useState)(null),[r,s]=(0,i.useState)(""),[o,a]=(0,i.useState)(""),[l,c]=(0,i.useState)(""),[u,h]=(0,i.useState)(""),[d,f]=(0,i.useState)(""),[p,m]=(0,i.useState)(""),[g,y]=(0,i.useState)({profession:""});(0,i.useEffect)((()=>{const e=Ia(Cw),t=lo(e,(e=>{e?(n(e),(async e=>{try{const t=await Ly(Lg(aS,"tutor",e));if(t.exists()){const e=t.data();y((t=>({...t,profession:e.profession})))}}catch(l_){console.error("Error retrieving user data:",l_.message)}})(e.uid)):n(null)}));return()=>t()}),[]);const v=async(e,t)=>{try{await Uy(Lg(aS,"tutor",e),{photoURL:t})}catch(l_){throw l_}};return(0,Sw.jsxs)("div",{children:[(0,Sw.jsx)(Bw,{}),(0,Sw.jsx)("section",{className:"Updateform-container",style:{minHeight:"calc(100vh - 19rem)"},children:(0,Sw.jsxs)("form",{action:"",method:"post",encType:"multipart/form-data",onSubmit:async n=>{if(n.preventDefault(),r&&o&&u&&d&&p)if(d===p)try{const n=Fs.credential(o,u);await to(t,n),await so(t,{displayName:r,photoURL:l||t.photoURL,profession:g.profession}),await oo(t,d),await v(t.uid,l),await Uy(Lg(aS,"tutor",t.uid),{profession:g.profession}),alert("Profile updated successfully!"),e("/Admin/ViewProfile")}catch(l_){alert("Profile not updated! Please try again.")}else alert("Password doesn't match!");else alert("Please fill in all the fields!")},children:[(0,Sw.jsx)("h3",{children:"Update Profile"}),(0,Sw.jsxs)("div",{className:"flex",children:[(0,Sw.jsxs)("div",{className:"col",children:[(0,Sw.jsx)("p",{children:"Your Name"}),(0,Sw.jsx)("input",{type:"text",name:"name",placeholder:(null===t||void 0===t?void 0:t.displayName)||"Enter Your Name",maxLength:"100",className:"box",onChange:e=>s(e.target.value)}),(0,Sw.jsx)("p",{children:"Your Profession"}),(0,Sw.jsxs)("select",{name:"profession",value:g.profession,onChange:e=>{const{name:t,value:n}=e.target;y((e=>({...e,[t]:n})))},className:"box",children:[(0,Sw.jsx)("option",{value:"Developer",children:"Developer"}),(0,Sw.jsx)("option",{value:"Designer",children:"Designer"}),(0,Sw.jsx)("option",{value:"Musician",children:"Musician"}),(0,Sw.jsx)("option",{value:"Biologist",children:"Biologist"}),(0,Sw.jsx)("option",{value:"Teacher",children:"Teacher"}),(0,Sw.jsx)("option",{value:"Engineer",children:"Engineer"}),(0,Sw.jsx)("option",{value:"Lawyer",children:"Lawyer"}),(0,Sw.jsx)("option",{value:"Accountant",children:"Accountant"}),(0,Sw.jsx)("option",{value:"Doctor",children:"Doctor"}),(0,Sw.jsx)("option",{value:"Journalist",children:"Journalist"}),(0,Sw.jsx)("option",{value:"Photographer",children:"Photographer"})]}),(0,Sw.jsx)("p",{children:"Your Email"}),(0,Sw.jsx)("input",{type:"email",name:"email",placeholder:t?t.email:"Enter Your Email",maxLength:"100",className:"box",onChange:e=>a(e.target.value)}),(0,Sw.jsx)("p",{children:"Update Picture"}),(0,Sw.jsx)("input",{type:"file",name:"image",accept:"image/*",className:"box",onChange:e=>{if(e.target.files[0]){const n=e.target.files[0];yw(_w(lS,"tutor_images/".concat(t.uid,"/").concat(n.name)),n).then((e=>{ww(e.ref).then((e=>{c(e)}))}))}}})]}),(0,Sw.jsxs)("div",{className:"col",children:[(0,Sw.jsx)("p",{children:"Old Password"}),(0,Sw.jsx)("input",{type:"password",name:"oldPassword",placeholder:"Enter Your Old Password",maxLength:"50",className:"box",onChange:e=>h(e.target.value)}),(0,Sw.jsx)("p",{children:"New Password"}),(0,Sw.jsx)("input",{type:"password",name:"newPassword",placeholder:"Enter Your New password",maxLength:"50",className:"box",onChange:e=>f(e.target.value)}),(0,Sw.jsx)("p",{children:"Confirm Password"}),(0,Sw.jsx)("input",{type:"password",name:"confirmPassword",placeholder:"Confirm Your New Password",maxLength:"50",className:"box",onChange:e=>m(e.target.value)})]})]}),(0,Sw.jsx)("input",{type:"submit",name:"submit",value:"Update Profile",className:"btn"})]})})]})},uS=()=>{const[e,t]=(0,i.useState)([]);(0,i.useEffect)((()=>{const e=Ia(Cw),n=Ug(Cw),r=lo(e,(e=>{e&&(async e=>{try{const r=Rg(n,"videos"),i=await Oy(r),s=[];await Promise.all(i.docs.map((async t=>{const r=t.data();if(String(r.userId)===e){const e=wy(Rg(n,"contentView"),by("contentId","==",t.id)),i=(await Oy(e)).size;s.push({id:t.id,...r,totalViews:i})}}))),t(s)}catch(l_){console.error("Error fetching contents:",l_)}})(e.uid)}));return()=>r()}),[]);return(0,Sw.jsxs)("div",{children:[(0,Sw.jsx)(Bw,{}),(0,Sw.jsxs)("section",{className:"Viewcourses",children:[(0,Sw.jsx)("h1",{className:"heading",children:"Content Viewer"}),e.length>0?(0,Sw.jsx)("div",{className:"box-container",children:e.map((e=>{return(0,Sw.jsxs)("div",{className:"box",children:[(0,Sw.jsxs)("div",{className:"tutor",children:[(0,Sw.jsx)("img",{src:e.userProfilePhoto,alt:"Tutor_Profile"}),(0,Sw.jsxs)("div",{children:[(0,Sw.jsx)("h3",{children:e.userName}),(0,Sw.jsx)("span",{children:(n=e.date,new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}))})]})]}),(0,Sw.jsx)("h3",{className:"viewer",children:(t=e.totalViews,0===t?"0":t<10?"0".concat(t):t<1e3?t.toString():t<1e6?(t/1e3).toFixed(1)+"k":(t/1e6).toFixed(1)+"M")}),(0,Sw.jsx)("img",{src:e.thumbnailUrl,alt:"Courses",className:"thumb"}),(0,Sw.jsx)("h3",{className:"title",children:e.title}),(0,Sw.jsx)(Te,{to:"/Admin/ContentViewerList/".concat(e.id),className:"inline-btn",children:"Viewer List"})]},e.id);var t,n}))}):(0,Sw.jsx)("p",{className:"empty",children:"No Courses Added Yet !!"})]})]})},hS=()=>{const{contentId:e}=ne(),[t,n]=(0,i.useState)(null),[r,s]=(0,i.useState)([]),[o,a]=(0,i.useState)([]),[l,c]=(0,i.useState)(!1);(0,i.useEffect)((()=>{const t=Ug(Cw);return(async()=>{try{const r=Lg(t,"videos",e),i=await Ly(r);if(i.exists()){const r=i.data();n(r);const o=wy(Rg(t,"contentView"),by("contentId","==",e)),l=await Oy(o);if(l.empty)c(!0);else{const e=[],n=[],r=[];l.forEach((i=>{const s=i.data(),o=s.userId,a=s.date,l=new Date(1e3*a.seconds).toLocaleString();e.push(o),n.push(l);const c=u(t,o);r.push(c)})),s(e),a(n),Promise.all(r).then((e=>{s(e)}))}}}catch(l_){}})(),()=>{}}),[e]);const u=async(e,t)=>{try{const n=Lg(e,"users",t),r=await Ly(n);if(r.exists())return r.data();{const n=Lg(e,"tutor",t),r=await Ly(n);return r.exists()?r.data():null}}catch(l_){return null}};return(0,Sw.jsxs)("div",{children:[(0,Sw.jsx)(Bw,{}),(0,Sw.jsxs)("section",{className:"ContentViewerList",children:[(0,Sw.jsx)("h1",{className:"heading",children:"Content View List"}),t&&r.length>0&&(0,Sw.jsx)("div",{className:"show-viewer",children:r.map(((n,r)=>(0,Sw.jsxs)("div",{className:"box",children:[(0,Sw.jsxs)("div",{className:"content",children:[(0,Sw.jsxs)("span",{children:["Content Date : ",t.date]}),(0,Sw.jsx)("p",{children:t.title}),(0,Sw.jsx)(Te,{to:"/Admin/ViewContent/".concat(e),children:"View Content"})]}),(0,Sw.jsx)("div",{className:"text",children:(0,Sw.jsx)("div",{className:"box",children:(0,Sw.jsxs)("div",{className:"userProfile",children:[(0,Sw.jsx)("img",{src:n?n.photoURL:"",alt:"User_Profile"}),(0,Sw.jsxs)("div",{children:[(0,Sw.jsx)("h3",{children:n?n.displayName:"Unknown User"}),(0,Sw.jsx)("span",{children:o[r]})]})]})})})]},r)))}),l&&(0,Sw.jsx)("p",{className:"empty",children:"No views recorded for this content yet."})]})]})},dS=()=>{const{contentId:e}=ne(),[t,n]=(0,i.useState)(null),[r,s]=(0,i.useState)(null),[o,a]=(0,i.useState)(null),[l,c]=(0,i.useState)(!1),[u,h]=(0,i.useState)(0),[d,f]=(0,i.useState)(""),[p,m]=(0,i.useState)([]),[g,y]=(0,i.useState)(null),[v,w]=(0,i.useState)(""),[_,b]=(0,i.useState)(!1),[x,C]=(0,i.useState)(!1),E=(0,i.useRef)(null);(0,i.useEffect)((()=>{const e=lo(Ia(Cw),(e=>{a(e)}));return()=>e()}),[]),(0,i.useEffect)((()=>{e&&o&&(async()=>{try{const t=Ug(Cw),r=Lg(t,"videos",e),i=await Ly(r);if(i.exists()){const e=i.data();if(n(e),h(e.likes||0),e.userId){const n=Lg(t,"tutor",e.userId),r=await Ly(n);r.exists()?s(r.data()):console.error("Tutor not found")}}else alert("Content not found");const a=Ia(Cw).currentUser;if(a){const n=wy(Rg(t,"likes"),by("contentId","==",e),by("userId","==",a.uid));(await Oy(n)).empty||c(!0)}const l=wy(Rg(t,"comments"),by("contentId","==",e),by("userId","==",o.uid)),u=await Oy(l),d=[];u.forEach((e=>{d.push({id:e.id,...e.data()})})),m(d)}catch(l_){console.error("Error fetching content:",l_)}})()}),[e,o]);(0,i.useEffect)((()=>{const e=e=>{switch(e.key){case"k":S();break;case"f":t();break;case"j":k();break;case"l":T()}},t=()=>{E.current&&(x?r():n())},n=()=>{E.current.requestFullscreen?E.current.requestFullscreen():E.current.mozRequestFullScreen?E.current.mozRequestFullScreen():E.current.webkitRequestFullscreen?E.current.webkitRequestFullscreen():E.current.msRequestFullscreen&&E.current.msRequestFullscreen(),C(!0)},r=()=>{document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen(),C(!1)};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[x]);const S=()=>{E.current&&(E.current.paused?E.current.play():E.current.pause())},k=()=>{E.current&&(E.current.currentTime-=5)},T=()=>{E.current&&(E.current.currentTime+=5)};return(0,Sw.jsxs)("div",{children:[(0,Sw.jsx)(kw,{}),(0,Sw.jsx)("section",{className:"watch-video",children:(0,Sw.jsxs)("div",{className:"video-details",children:[(0,Sw.jsx)("video",{ref:E,src:null===t||void 0===t?void 0:t.videoUrl,className:"video",poster:null===t||void 0===t?void 0:t.poster,controls:!0,autoPlay:!0}),(0,Sw.jsx)("h3",{className:"title",children:null===t||void 0===t?void 0:t.title}),(0,Sw.jsxs)("div",{className:"info",children:[(0,Sw.jsxs)("p",{children:[(0,Sw.jsx)("i",{children:(0,Sw.jsx)($e,{})}),(0,Sw.jsx)("span",{children:null===t||void 0===t?void 0:t.date})]}),(0,Sw.jsxs)("p",{children:[(0,Sw.jsx)("i",{children:(0,Sw.jsx)(ut,{})}),(0,Sw.jsxs)("span",{children:[(e=>"undefined"===typeof e||null===e?0:0===e?e:e<10?"0".concat(e):e>=1e3?"".concat(Math.floor(e/1e3),"k"):e)(u)," Likes"]})]})]}),(0,Sw.jsxs)("div",{className:"tutor",children:[(0,Sw.jsx)("img",{src:null===r||void 0===r?void 0:r.photoURL,alt:"Tutor_Profile_Photo"}),(0,Sw.jsxs)("div",{children:[(0,Sw.jsx)("h3",{children:null===r||void 0===r?void 0:r.displayName}),(0,Sw.jsx)("span",{children:null===r||void 0===r?void 0:r.profession})]})]}),(0,Sw.jsxs)("form",{action:"",className:"flex",children:[(0,Sw.jsx)("input",{type:"hidden",name:"content_id",value:null===t||void 0===t?void 0:t.id}),(0,Sw.jsx)(Te,{to:"/User/ViewPlaylist/".concat(null===t||void 0===t?void 0:t.playlistId),className:"inline-btn",children:"View playlist"}),(0,Sw.jsxs)("button",{type:"button",name:"like_content",onClick:async()=>{try{const n=Ug(Cw),r=Ia(Cw).currentUser;if(!r)return void console.error("User not logged in");if(l){const t=wy(Rg(n,"likes"),by("contentId","==",e),by("userId","==",r.uid)),i=await Oy(t);i.forEach((async e=>{await Fy(e.ref)})),await Uy(Lg(n,"videos",e),{likes:By(-i.docs.length)}),h((e=>Math.max(0,e-i.docs.length))),c(!1)}else await Vy(Rg(n,"likes"),{tutorId:t.userId,playlistId:t.playlistId,contentId:e,userId:r.uid}),await Uy(Lg(n,"videos",e),{likes:By(1)}),h((e=>e+1)),c(!0)}catch(l_){console.error("Error handling likes:",l_)}},children:[(0,Sw.jsx)("i",{children:(0,Sw.jsx)(ut,{})}),(0,Sw.jsx)("span",{children:l?"Unlike":"Like"})]})]}),(0,Sw.jsxs)("div",{className:"description",children:[(0,Sw.jsx)("p",{children:_?null===t||void 0===t?void 0:t.description:null===t||void 0===t?void 0:t.description.slice(0,250)}),(null===t||void 0===t?void 0:t.description.length)>250&&(_?(0,Sw.jsx)("button",{onClick:()=>{b(!1)},className:"read-more-btn",style:{marginLeft:"0.5rem",color:"red"},children:"Read Less"}):(0,Sw.jsx)("button",{onClick:()=>{b(!0)},className:"read-more-btn",style:{marginLeft:"0.5rem",color:"red"},children:"Read More"}))]})]})}),(0,Sw.jsxs)("section",{className:"comments",children:[(0,Sw.jsx)("h1",{className:"heading",children:"Add a Comment"}),(0,Sw.jsxs)("form",{action:"",onSubmit:async n=>{n.preventDefault();try{const n=Ug(Cw),i=Ia(Cw).currentUser;if(!i)return void console.error("User not logged in");const s=Math.random().toString(36).substring(2);await Vy(Rg(n,"comments"),{id:s,contentId:e,tutorId:r.userId,playlistId:t.playlistId,userId:i.uid,userName:i.displayName,userProfilePhoto:i.photoURL,commentText:d,date:(new Date).toISOString()});const o={id:s,contentId:e,playlistId:t.playlistId,userId:i.uid,userName:i.displayName,userProfilePhoto:i.photoURL,commentText:d,date:(new Date).toISOString()};m([...p,o]),f(""),alert("Comment Added Successfully !!")}catch(l_){console.error("Error adding comment:",l_)}},className:"add-comment",children:[(0,Sw.jsx)("input",{type:"hidden",name:"content_id",value:null===t||void 0===t?void 0:t.id}),(0,Sw.jsx)("textarea",{name:"commentText",placeholder:"Write Your Comment...",maxLength:"1000",cols:"30",rows:"10",onChange:e=>{f(e.target.value)},required:!0}),(0,Sw.jsx)("input",{type:"submit",value:"Add Comment",name:"add_comment",className:"inline-btn"})]}),(0,Sw.jsx)("h1",{className:"heading",children:"User Comments"}),(0,Sw.jsx)("div",{className:"show-comments",children:0===p.length?(0,Sw.jsx)("p",{className:"empty",children:"No comments added yet"}):p.map((e=>{return(0,Sw.jsxs)("div",{className:"box",children:[(0,Sw.jsxs)("div",{className:"user",children:[(0,Sw.jsx)("img",{src:e.userProfilePhoto,alt:"User_Profile_Photo"}),(0,Sw.jsxs)("div",{children:[(0,Sw.jsx)("h3",{children:e.userName}),(0,Sw.jsx)("span",{children:(t=e.date,new Date(t).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"}))})]})]}),g===e.id?(0,Sw.jsxs)("div",{className:"edit-comment",style:{height:"3rem"},children:[(0,Sw.jsx)("textarea",{value:v,onChange:e=>w(e.target.value),maxLength:1e3,rows:2.5,style:{resize:"none",fontSize:"1.5rem",padding:".5rem",backgroundColor:"var(--light-bg)",color:"--white",width:"70%",borderRadius:".5rem"},name:"commentText",placeholder:"Write Editable Comment"}),(0,Sw.jsx)("button",{type:"button",className:"inline-option-btn",onClick:()=>(async(e,t)=>{try{const n=wy(Rg(Ug(Cw),"comments"),by("id","==",e)),r=await Oy(n);if(r.empty)return void console.error("Comment document does not exist");const i=r.docs[0].ref;await Uy(i,{commentText:t,date:(new Date).toISOString()}),m(p.map((n=>n.id===e?{...n,commentText:t}:n))),y(null),w(""),alert("Comment Updated !!")}catch(l_){console.error("Error updating comment:",l_)}})(e.id,v),style:{float:"right",marginTop:"0rem"},children:"Update Comment"})]}):(0,Sw.jsxs)(Sw.Fragment,{children:[(0,Sw.jsx)("p",{className:"text",children:e.commentText}),(0,Sw.jsxs)("form",{className:"flex-btn",children:[(0,Sw.jsx)("button",{type:"button",className:"inline-option-btn",onClick:()=>((e,t)=>{y(e),w(t)})(e.id,e.commentText),children:"Edit Comment"}),(0,Sw.jsx)("button",{type:"button",className:"inline-delete-btn",onClick:()=>(async e=>{try{const t=wy(Rg(Ug(Cw),"comments"),by("id","==",e));(await Oy(t)).forEach((async e=>{await Fy(e.ref)})),m(p.filter((t=>t.id!==e))),alert("Comment Deleted")}catch(l_){console.error("Error deleting comment:",l_)}})(e.id),children:"Delete Comment"})]})]})]},e.id);var t}))})]})]})},fS=()=>{const e=te(),[t,n]=(0,i.useState)(null),[r,s]=(0,i.useState)([]),[o,a]=(0,i.useState)([]),[l,c]=(0,i.useState)([]),[u,h]=(0,i.useState)(!0);(0,i.useEffect)((()=>{const e=lo(Ia(Cw),(async e=>{e?(n(e),d()):(n(null),s([]))}));return()=>e()}),[t]);const d=async()=>{try{const e=Rg(Ug(Cw),"likes"),t=(await Oy(e)).docs.map((e=>({id:e.id,...e.data()})));s(t)}catch(l_){console.error("Error fetching likes from Firestore:",l_)}finally{h(!1)}},f=(0,i.useCallback)((async()=>{try{const e=Ug(Cw),t=[],n=[];for(const i of r){const r=Lg(e,"videos",i.contentId),s=await Ly(r);if(s.exists()){const e=s.data();e.id=s.id,t.push(e)}const o=Lg(e,"tutor",i.tutorId),a=await Ly(o);a.exists()&&n.push(a.data())}a(t),c(n)}catch(l_){console.error("Error fetching content or tutor:",l_)}}),[r]);(0,i.useEffect)((()=>{f()}),[r,f]);return(0,Sw.jsxs)("div",{children:[(0,Sw.jsx)(kw,{}),(0,Sw.jsxs)("section",{className:"liked-videos",children:[(0,Sw.jsx)("h1",{className:"heading",children:"Liked Videos"}),u?(0,Sw.jsx)("div",{style:{padding:"2rem",fontSize:"2rem"},children:"Loading...."}):(0,Sw.jsx)("div",{className:"box-container",children:0===o.length?(0,Sw.jsx)(Iw,{}):o.map(((n,r)=>{var i,s;return(0,Sw.jsxs)("div",{className:"box",children:[(0,Sw.jsxs)("div",{className:"tutor",children:[(0,Sw.jsx)("img",{src:null===(i=l[r])||void 0===i?void 0:i.photoURL,alt:""}),(0,Sw.jsxs)("div",{children:[(0,Sw.jsx)("h3",{children:null===(s=l[r])||void 0===s?void 0:s.displayName}),(0,Sw.jsx)("span",{children:null===n||void 0===n?void 0:n.date})]})]}),(0,Sw.jsx)("img",{src:n.thumbnailUrl,alt:"",className:"thumb"}),(0,Sw.jsx)("h3",{className:"title",children:n.title}),(0,Sw.jsxs)("form",{action:"",method:"post",className:"flex-btn",children:[(0,Sw.jsx)("input",{type:"hidden",name:"content_id",value:n.videoUrl}),(0,Sw.jsx)(Te,{to:"/User/WatchVideo/".concat(n.id),className:"inline-btn",onClick:()=>(async(e,t,n,r)=>{try{const i=Rg(Ug(Cw),"contentView"),s=Gc.now();await Vy(i,{userId:t,playlistId:r,tutorId:n,contentId:e,date:s})}catch(l_){}})(n.id,t.uid,n.userId,n.playlistId),children:"Watch Video"}),(0,Sw.jsx)("button",{type:"button",onClick:()=>(async t=>{try{const n=Ug(Cw),r=Ia(Cw).currentUser;if(!r)return void console.error("User not logged in");const i=wy(Rg(n,"likes"),by("contentId","==",t),by("userId","==",r.uid)),s=await Oy(i);s.forEach((async e=>{await Fy(e.ref)})),await Uy(Lg(n,"videos",t),{likes:By(-s.docs.length)}),alert("Content Removed !!"),e("/")}catch(l_){}})(n.id),className:"inline-delete-btn",children:"Remove"})]})]},r)}))})]})]})},pS=()=>{const[e,t]=(0,i.useState)(null),[n,r]=(0,i.useState)([]),[s,o]=(0,i.useState)([]),[a,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)("");(0,i.useEffect)((()=>{const e=lo(Ia(),(async e=>{t(e||null)}));return()=>e()}),[]),(0,i.useEffect)((()=>{(async()=>{if(e){const t=wy(Rg(Ug(Cw),"comments"),by("userId","==",e.uid)),n=await Oy(t);if(n.empty)r([]);else{const e=n.docs.map((e=>({id:e.id,...e.data()})));r(e)}}})()}),[e]),(0,i.useEffect)((()=>{(async()=>{const e=Ug(Cw),t=n.map((e=>e.playlistId)).map((async t=>{const n=wy(Rg(e,"videos"),by("playlistId","==",t)),r=await Oy(n);return r.empty?null:r.docs.map((e=>e.data()))[0]})),r=await Promise.all(t);o(r.filter((e=>null!==e)))})()}),[n]);return(0,Sw.jsxs)("div",{children:[(0,Sw.jsx)(kw,{}),(0,Sw.jsxs)("section",{className:"comments",children:[(0,Sw.jsx)("h1",{className:"heading",children:"Your Comments"}),(0,Sw.jsx)("div",{className:"show-comments",children:n.length>0&&s.length>0?n.map(((t,i)=>{return(0,Sw.jsxs)("div",{className:"box",children:[(0,Sw.jsxs)("div",{className:"content",children:[(0,Sw.jsx)("span",{children:(o=t.date,new Date(o).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"}))}),(0,Sw.jsxs)("p",{children:[" - ",s[i]&&s[i].title||"Content Title"," - "]}),(0,Sw.jsx)(Te,{to:"/User/WatchVideo/".concat(t.contentId),onClick:()=>(async(e,t,n,r)=>{try{const i=Rg(Ug(Cw),"contentView"),s=Gc.now();await Vy(i,{userId:t,playlistId:r,tutorId:n,contentId:e,date:s})}catch(l_){console.error("Error adding document:",l_)}})(t.contentId,e.uid,t.tutorId,t.playlistId),children:"View Content"})]}),a?(0,Sw.jsxs)("form",{className:"flex-btn",children:[(0,Sw.jsx)("textarea",{value:c,onChange:e=>u(e.target.value),style:{resize:"none",color:"var(--black)",fontSize:"1.5rem",padding:"0rem"},placeholder:"Write Updatable Comment",name:"commentText"}),(0,Sw.jsx)("button",{type:"button",className:"inline-option-btn",onClick:()=>(async e=>{try{const t=wy(Rg(Ug(Cw),"comments"),by("id","==",e)),i=await Oy(t);if(i.empty)return void console.error("Comment document does not exist");const s=i.docs[0].ref;await Uy(s,{commentText:c,date:(new Date).toISOString()}),r(n.map((t=>t.id===e?{...t,commentText:c}:t))),l(!1),alert("Comment Edited Successfully")}catch(l_){console.error("Error editing comment:",l_)}})(t.id),children:"Save Comment"}),(0,Sw.jsx)("button",{type:"button",className:"inline-delete-btn",onClick:()=>l(!1),children:"Cancel"})]}):(0,Sw.jsxs)(Sw.Fragment,{children:[(0,Sw.jsx)("p",{className:"text",children:t.commentText}),(0,Sw.jsxs)("div",{className:"flex-btn",children:[(0,Sw.jsx)("button",{type:"button",className:"inline-option-btn",onClick:()=>l(!0),children:"Edit Comment"}),(0,Sw.jsx)("button",{type:"button",className:"inline-delete-btn",onClick:()=>(async e=>{try{const t=wy(Rg(Ug(Cw),"comments"),by("id","==",e));(await Oy(t)).forEach((async e=>{await Fy(e.ref)})),r(n.filter((t=>t.id!==e))),alert("Comment Deleted")}catch(l_){alert("Error deleting comment:",l_)}})(t.id),children:"Delete Comment"})]})]})]},i);var o})):(0,Sw.jsx)("p",{className:"empty",children:"No comments found"})})]})]})},mS=()=>{const e=Z(),t=new URLSearchParams(e.search).get("query"),[n,r]=(0,i.useState)([]),[s,o]=(0,i.useState)(!0),[a,l]=(0,i.useState)(null);return(0,i.useEffect)((()=>{(async()=>{try{const e=wy(Rg(Ug(Cw),"playlists"),by("title",">=",t)),n=await Oy(e),i=[];n.forEach((e=>{const t=e.data();i.push({id:e.id,title:t.title,tutor:t.tutor,date:t.date,thumbnail:t.thumbnail,tutorName:t.userName,tutorProfile:t.userProfilePhoto})})),r(i),o(!1),l(null)}catch(a){o(!1),l("An error occurred while fetching courses. Please try again or search for something different.")}})()}),[t]),(0,i.useEffect)((()=>{if(t){const e=async()=>{try{const e=wy(Rg(Ug(Cw),"playlists")),n=await Oy(e),i=[];n.forEach((e=>{const n=e.data(),r=n.title.toLowerCase(),s=t.toLowerCase();r.includes(s)&&i.push({id:e.id,title:n.title,tutor:n.tutor,date:n.date,thumbnail:n.thumbnail,tutorName:n.userName,tutorProfile:n.userProfilePhoto})})),r(i),o(!1),l(null)}catch(a){console.error("Error fetching courses:",a),o(!1),l("An error occurred while fetching courses. Please try again or search for something different.")}};e()}}),[t]),(0,Sw.jsxs)("div",{children:[(0,Sw.jsx)(kw,{}),(0,Sw.jsxs)("section",{className:"Courses",children:[(0,Sw.jsxs)("h1",{className:"heading",children:['Search Results for "',t,'"']}),s?(0,Sw.jsx)("p",{children:"Loading..."}):a?(0,Sw.jsx)("p",{className:"error",children:a}):0===n.length?(0,Sw.jsxs)("p",{className:"empty",children:['No courses found for "',t,'".']}):(0,Sw.jsx)("div",{className:"box-container",children:n.map((e=>(0,Sw.jsxs)("div",{className:"box",children:[(0,Sw.jsxs)("div",{className:"tutor",children:[(0,Sw.jsx)("img",{src:e.tutorProfile,alt:""})," ",(0,Sw.jsxs)("div",{children:[(0,Sw.jsx)("h3",{children:e.tutorName}),(0,Sw.jsx)("span",{children:e.date})]})]}),(0,Sw.jsx)("img",{src:e.thumbnail,className:"thumb",alt:""})," ",(0,Sw.jsx)("h3",{className:"title",children:e.title}),(0,Sw.jsx)(Te,{to:"/",className:"inline-btn",children:"View Playlist"})]},e.id)))})]})]})},gS=()=>{const e=Z(),t=new URLSearchParams(e.search).get("query"),[n,r]=(0,i.useState)([]),[s,o]=(0,i.useState)(null),[a,l]=(0,i.useState)([]),[c,u]=(0,i.useState)([]),[h,d]=(0,i.useState)({}),[f,p]=(0,i.useState)(!1);(0,i.useEffect)((()=>{const e=lo(Ia(Cw),(e=>{o(e)}));return()=>e()}),[]),(0,i.useEffect)((()=>{(async()=>{try{const e=wy(Rg(Ug(Cw),"playlists"),by("title",">=",t)),n=await Oy(e),i=[];n.forEach((e=>{const t=e.data();i.push({id:t.userId.userId,...e.data()})})),r(i)}catch(l_){alert("Error fetching courses:")}})()}),[t]),(0,i.useEffect)((()=>{if(t){const e=async()=>{try{const e=wy(Rg(Ug(Cw),"playlists")),n=await Oy(e),i=[];n.forEach((e=>{const n=e.data(),r=n.title.toLowerCase(),s=t.toLowerCase();r.includes(s)&&i.push({id:n.userId,...n})})),r(i)}catch(l_){}};e()}}),[t]),(0,i.useEffect)((()=>{(async()=>{try{if(s&&n.length>0&&s.uid===n[0].id){const e=Ug(Cw),t=wy(Rg(e,"playlists"),by("userId","==",s.uid)),n=await Oy(t),r=[];n.forEach((e=>{const t=e.data();r.push({id:e.id,...t})})),l(r);const i=wy(Rg(e,"videos"),by("userId","==",s.uid)),o=await Oy(i),a=[];o.forEach((e=>{const t=e.data();a.push({id:e.id,...t})})),u(a);const c={};for(const s of r){const t=wy(Rg(e,"videos"),by("playlistId","==",s.id)),n=await Oy(t);c[s.id]=n.size}d(c),0===r.length&&0===a.length?p(!0):p(!1)}}catch(l_){}})()}),[s,n]);const m=e=>0===e?e:e<10?"0".concat(e):e>=1e3?"".concat(Math.floor(e/1e3),"k"):e;return null===s?null:(0,Sw.jsxs)("div",{children:[(0,Sw.jsx)(Bw,{}),(0,Sw.jsxs)("section",{className:"contents",children:[(0,Sw.jsx)("h1",{className:"heading",children:"Contents"}),(0,Sw.jsxs)("div",{className:"box-container",children:[0===c.length&&(0,Sw.jsx)("p",{className:"empty",children:"No contents found."}),!f&&c.map((e=>(0,Sw.jsxs)("div",{className:"box",children:[(0,Sw.jsxs)("div",{className:"flex",children:[(0,Sw.jsxs)("div",{children:["Active"===e.status?(0,Sw.jsx)("i",{children:(0,Sw.jsx)(ot,{style:{color:"limegreen"}})}):(0,Sw.jsx)("i",{children:(0,Sw.jsx)(ot,{style:{color:"red"}})}),(0,Sw.jsx)("span",{children:e.status})]}),(0,Sw.jsxs)("div",{children:[(0,Sw.jsx)("i",{children:(0,Sw.jsx)($e,{})}),(0,Sw.jsx)("span",{children:e.date})]})]}),(0,Sw.jsx)("img",{src:e.thumbnailUrl,className:"thumb",alt:""}),(0,Sw.jsx)("h3",{className:"title",children:e.title}),(0,Sw.jsxs)("form",{className:"flex-btn",children:[(0,Sw.jsx)("input",{type:"hidden",name:"video_id",value:e.id}),(0,Sw.jsx)(Te,{to:"/Admin/UpdateContent/".concat(e.id),className:"option-btn",children:"Update"}),(0,Sw.jsx)("input",{type:"button",value:"Delete",className:"delete-btn",onClick:()=>(async e=>{if(window.confirm("Delete this video?"))try{const t=Ug(Cw);(await Oy(wy(Rg(t,"likes"),by("contentId","==",e)))).forEach((async e=>{await Fy(e.ref)})),(await Oy(wy(Rg(t,"contentView"),by("contentId","==",e)))).forEach((async e=>{await Fy(e.ref)})),(await Oy(wy(Rg(t,"comments"),by("contentId","==",e)))).forEach((async e=>{await Fy(e.ref)})),await Fy(Lg(t,"videos",e)),u((t=>t.filter((t=>t.id!==e))))}catch(l_){console.error("Error deleting video:",l_)}})(e.id)})]}),(0,Sw.jsx)(Te,{to:"/Admin/ViewContent/".concat(e.id),className:"btn",children:"View Content"})]},e.id)))]})]}),(0,Sw.jsxs)("section",{className:"playlists",children:[(0,Sw.jsx)("h1",{className:"heading",children:"Playlists"}),(0,Sw.jsxs)("div",{className:"box-container",children:[0===a.length&&(0,Sw.jsx)("p",{className:"empty",children:"No playlists found."}),!f&&a.length>0&&a.map((e=>(0,Sw.jsxs)("div",{className:"box",children:[(0,Sw.jsxs)("div",{className:"flex",children:[(0,Sw.jsxs)("div",{children:["Active"===e.status?(0,Sw.jsx)("i",{children:(0,Sw.jsx)(ot,{style:{color:"limegreen"}})}):(0,Sw.jsx)("i",{children:(0,Sw.jsx)(ot,{style:{color:"red"}})}),(0,Sw.jsx)("span",{children:e.status})]}),(0,Sw.jsxs)("div",{children:[(0,Sw.jsx)("i",{children:(0,Sw.jsx)($e,{})}),(0,Sw.jsx)("span",{children:e.date})]})]}),(0,Sw.jsxs)("div",{className:"thumb",children:[(0,Sw.jsx)("span",{children:m(h[e.id])}),(0,Sw.jsx)("img",{src:e.thumbnail,alt:""})]}),(0,Sw.jsx)("h3",{className:"title",children:e.title}),(0,Sw.jsxs)("p",{className:"description",children:[e.showFullDescription?e.description:"".concat(e.description.slice(0,70),"..."),e.description.length>=70&&(0,Sw.jsx)("button",{onClick:()=>{return t=e.id,void l((e=>e.map((e=>e.id===t?{...e,showFullDescription:!e.showFullDescription}:e))));var t},children:e.showFullDescription?"Less":"More"})]}),(0,Sw.jsxs)("form",{className:"flex-btn",children:[(0,Sw.jsx)(Te,{to:"/Admin/UpdatePlaylist/".concat(e.id),className:"option-btn",children:"Update"}),(0,Sw.jsx)("input",{type:"button",value:"Delete",className:"delete-btn",onClick:()=>(async e=>{if(window.confirm("Delete this playlist?"))try{const t=Ug(Cw),n=Lg(t,"playlists",e);(await Oy(wy(Rg(t,"videos"),by("playlistId","==",e)))).forEach((async e=>{await Fy(e.ref)})),(await Oy(wy(Rg(t,"likes"),by("playlistId","==",e)))).forEach((async e=>{await Fy(e.ref)})),(await Oy(wy(Rg(t,"comments"),by("playlistId","==",e)))).forEach((async e=>{await Fy(e.ref)})),(await Oy(wy(Rg(t,"likes"),by("contentId","==",e)))).forEach((async e=>{await Fy(e.ref)})),(await Oy(wy(Rg(t,"playlistView"),by("playlistId","==",e)))).forEach((async e=>{await Fy(e.ref)})),(await Oy(wy(Rg(t,"contentView"),by("playlistId","==",e)))).forEach((async e=>{await Fy(e.ref)})),(await Oy(wy(Rg(t,"savedPlaylists"),by("playlistId","==",e)))).forEach((async e=>{await Fy(e.ref)})),await Fy(n),l((t=>t.filter((t=>t.id!==e))))}catch(l_){console.error("Error deleting playlist:",l_)}})(e.id)})]}),(0,Sw.jsx)(Te,{to:"/Admin/ViewPlaylist/".concat(e.id),className:"btn",children:"View Playlist"})]},e.id)))]})]}),0===c.length&&0===a.length&&(0,Sw.jsx)("div",{children:(0,Sw.jsx)("p",{className:"empty",children:"No results found. Please search for something else."})})]})},yS=()=>{const e=Z(),t=new URLSearchParams(e.search).get("query"),[n,r]=(0,i.useState)([]),[s,o]=(0,i.useState)(!0);(0,i.useEffect)((()=>{const e=async()=>{try{const e=Ug(Cw),n=wy(Rg(e,"tutor"),function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=my("orderBy",e);return Cy._create(n,t)}("displayName")),i=await Oy(n),s=[];for(const r of i.docs){const n=r.data(),i=n.displayName.toLowerCase(),o=t.toLowerCase();if(i.includes(o)){const t=r.id,i=wy(Rg(e,"playlists"),by("userId","==",t)),o=wy(Rg(e,"videos"),by("userId","==",t)),a=wy(Rg(e,"likes"),by("tutorId","==",t)),[l,c,u]=await Promise.all([Oy(i),Oy(o),Oy(a)]);s.push({id:t,displayName:n.displayName,profession:n.profession,photoURL:n.photoURL,userId:n.userId,playlistCount:l.size,videoCount:c.size,likesCount:u.size})}}r(s),o(!1)}catch(l_){console.error("Error fetching tutors:",l_),o(!1)}};t?e():(r([]),o(!1))}),[t]);const a=e=>"undefined"===typeof e||null===e?0:0===e?e:e<10?"0".concat(e):e>=1e3?"".concat(Math.floor(e/1e3),"k"):e;return(0,Sw.jsxs)("div",{children:[(0,Sw.jsx)(kw,{}),(0,Sw.jsxs)("section",{className:"teachers",children:[(0,Sw.jsxs)("h1",{className:"heading",children:['Search Results for "',t,'"']}),s?(0,Sw.jsx)("p",{children:"Loading..."}):0===n.length?(0,Sw.jsx)(Iw,{}):(0,Sw.jsx)("div",{className:"box-container",children:n.map((e=>(0,Sw.jsxs)("div",{className:"box",children:[(0,Sw.jsxs)("div",{className:"tutor",children:[(0,Sw.jsx)("img",{src:e.photoURL,alt:""}),(0,Sw.jsxs)("div",{children:[(0,Sw.jsx)("h3",{children:e.displayName}),(0,Sw.jsx)("span",{children:e.profession})]})]}),(0,Sw.jsxs)("p",{children:["Playlist : ",(0,Sw.jsx)("span",{children:a(e.playlistCount)})]}),(0,Sw.jsxs)("p",{children:["Total Videos : ",(0,Sw.jsx)("span",{children:a(e.videoCount)})]}),(0,Sw.jsxs)("p",{children:["Total Likes : ",(0,Sw.jsx)("span",{children:a(e.likesCount)})]}),(0,Sw.jsx)(Te,{to:"/User/TeacherProfile/".concat(e.userId),className:"inline-btn",children:"View Profile"})]},e.id)))})]})]})},vS={Afrikaans:"af",Albanian:"sq",Amharic:"am",Arabic:"ar",Armenian:"hy",Assamese:"as",Aymara:"ay",Azerbaijani:"az",Bambara:"bm",Basque:"eu",Belarusian:"be",Bengali:"bn",Bhojpuri:"bho",Bosnian:"bs",Bulgarian:"bg",Catalan:"ca",Cebuano:"ceb",Chinese:"zh-CN or zh (BCP-47)","Chinese (Traditional)":"zh-TW (BCP-47)",Corsican:"co",Croatian:"hr",Czech:"cs",Danish:"da",Dhivehi:"dv",Dogri:"doi",Dutch:"nl",English:"en",Esperanto:"eo",Estonian:"et",Ewe:"ee",Filipino:"fil",Finnish:"fi",French:"fr",Frisian:"fy",Galician:"gl",Georgian:"ka",German:"de",Greek:"el",Guarani:"gn",Gujarati:"gu","Haitian Creole":"ht",Hausa:"ha",Hawaiian:"haw",Hebrew:"he or iw",Hindi:"hi",Hmong:"hmn",Hungarian:"hu",Icelandic:"is",Igbo:"ig",Ilocano:"ilo",Indonesian:"id",Irish:"ga",Italian:"it",Japanese:"ja",Javanese:"jv or jw",Kannada:"kn",Kazakh:"kk",Khmer:"km",Kinyarwanda:"rw",Konkani:"gom",Korean:"ko",Krio:"kri",Kurdish:"ku",Kyrgyz:"ky",Lao:"lo",Latin:"la",Latvian:"lv",Lingala:"ln",Lithuanian:"lt",Luganda:"lg",Luxembourgish:"lb",Macedonian:"mk",Maithili:"mai",Malagasy:"mg",Malay:"ms",Malayalam:"ml",Maltese:"mt",Maori:"mi",Marathi:"mr",Meiteilon:"mni-Mtei",Mizo:"lus",Mongolian:"mn",Nepali:"ne",Norwegian:"no",Nyanja:"ny",Odia:"or",Oromo:"om",Pashto:"ps",Persian:"fa",Polish:"pl",Portuguese:"pt",Punjabi:"pa",Quechua:"qu",Romanian:"ro",Russian:"ru",Samoan:"sm",Sanskrit:"sa","Scots Gaelic":"gd",Sepedi:"nso",Serbian:"sr",Sesotho:"st",Shona:"sn",Sindhi:"sd",Sinhala:"si",Slovak:"sk",Slovenian:"sl",Somali:"so",Spanish:"es",Sundanese:"su",Swahili:"sw",Swedish:"sv",Tagalog:"tl",Tajik:"tg",Tamil:"ta",Tatar:"tt",Telugu:"te",Thai:"th",Tigrinya:"ti",Tsonga:"ts",Turkish:"tr",Turkmen:"tk",Twi:"ak",Ukrainian:"uk",Urdu:"ur",Uyghur:"ug",Uzbek:"uz",Vietnamese:"vi",Welsh:"cy",Xhosa:"xh",Yiddish:"yi",Yoruba:"yo",Zulu:"zu"},wS=()=>{(0,i.useEffect)((()=>{document.title="Tekmiz - Language Translator"}),[]);const[e,t]=(0,i.useState)(""),[n,r]=(0,i.useState)(""),[s,o]=(0,i.useState)(""),[a,l]=(0,i.useState)(""),c=(0,i.useMemo)((()=>vS),[]),u=(0,i.useCallback)((async(e,t,n)=>{const r={method:"POST",headers:{"content-type":"application/x-www-form-urlencoded","Accept-Encoding":"application/gzip","X-RapidAPI-Key":"5209d67708msh2b4c4487ee24df4p1a9455jsn60b60f48436e","X-RapidAPI-Host":"google-translate1.p.rapidapi.com"},body:new URLSearchParams({q:e,target:c[n],source:c[t]})};try{const e=await fetch("https://google-translate1.p.rapidapi.com/language/translate/v2",r),t=(await e.json()).data.translations[0].translatedText;l(t)}catch(l_){console.error("Translation error:",l_)}}),[c]);return(0,i.useEffect)((()=>{e&&n&&s&&u(e,n,s)}),[e,n,s,u]),(0,Sw.jsxs)(Sw.Fragment,{children:[(0,Sw.jsx)(kw,{}),(0,Sw.jsx)("div",{className:"translator",children:(0,Sw.jsxs)("div",{className:"container",children:[(0,Sw.jsx)("h1",{className:"start-h1",children:"Language Translator"}),(0,Sw.jsx)("div",{className:"translator_property",children:(0,Sw.jsxs)("div",{className:"nuv_item",children:[(0,Sw.jsxs)("select",{id:"lang1",value:n,onChange:e=>r(e.target.value),children:[(0,Sw.jsx)("option",{value:"",children:"Select From Language"}),Object.keys(c).map((e=>(0,Sw.jsx)("option",{value:e,children:e},e)))]}),(0,Sw.jsxs)("select",{id:"lang2",value:s,onChange:e=>o(e.target.value),children:[(0,Sw.jsx)("option",{value:"",children:"Select To Language"}),Object.keys(c).map((e=>(0,Sw.jsx)("option",{value:e,children:e},e)))]})]})}),(0,Sw.jsxs)("div",{className:"write_box",children:[(0,Sw.jsx)("textarea",{id:"fname",value:e,onChange:e=>t(e.target.value),placeholder:"Enter the text to convert into Image",className:"Property_from"}),(0,Sw.jsx)("textarea",{id:"sname",value:a,placeholder:"Translated Text will appear here",readOnly:!0,className:"Property_trans"})]})]})})]})},_S=()=>{const e={translator:{padding:"3rem",height:"auto",display:"flex",justifyContent:"center",alignItems:"center"},container:{padding:"1rem",width:"56.25rem",backgroundColor:"#f5f5f5",boxShadow:"0 0.125rem 1.25rem rgba(0, 0, 0, 0.3)",borderRadius:"0.5rem",overflow:"hidden"},translatorProperty:{border:"1px solid #c7c7c7"},workingText:{backgroundColor:"#ffffff",borderRadius:"0.5rem",padding:"1.5rem",textAlign:"center",width:"100%",fontSize:"2rem",color:"#ff0000"}};return(0,Sw.jsx)("div",{style:e.translator,children:(0,Sw.jsx)("div",{style:e.container,children:(0,Sw.jsx)("div",{style:e.translatorProperty,children:(0,Sw.jsx)("p",{style:e.workingText,children:"We are working now on it..."})})})})},bS=()=>((0,i.useEffect)((()=>{document.title="Tekmiz-LearnMate"})),(0,Sw.jsxs)("div",{children:[(0,Sw.jsx)(kw,{}),(0,Sw.jsx)(_S,{})]})),xS=()=>((0,i.useEffect)((()=>{document.title="Tekmiz-Meeting"})),(0,Sw.jsxs)("div",{children:[(0,Sw.jsx)(kw,{}),(0,Sw.jsx)(_S,{})]})),CS=()=>((0,i.useEffect)((()=>{document.title="Tekmiz-Assignments"})),(0,Sw.jsxs)("div",{children:[(0,Sw.jsx)(kw,{}),(0,Sw.jsx)(_S,{})]})),ES=()=>((0,i.useEffect)((()=>{document.title="Tekmiz-Compiler"})),(0,Sw.jsxs)("div",{children:[(0,Sw.jsx)(kw,{}),(0,Sw.jsx)(_S,{})]}));const SS=function(){return(0,Sw.jsxs)(Ee,{children:[(0,Sw.jsxs)(ve,{children:[(0,Sw.jsx)(ge,{path:"/",Component:jw}),(0,Sw.jsx)(ge,{path:"/About",Component:Rw}),(0,Sw.jsx)(ge,{path:"/Contact",Component:Dw}),(0,Sw.jsx)(ge,{path:"/Teacher",Component:Ow}),(0,Sw.jsx)(ge,{path:"/ViewCourses",Component:Mw}),(0,Sw.jsx)(ge,{path:"/UserLogin",Component:Uw}),(0,Sw.jsx)(ge,{path:"/UserRegister",Component:Fw}),(0,Sw.jsx)(ge,{path:"/Translator",Component:wS}),(0,Sw.jsx)(ge,{path:"/Admin/AdminLogin",Component:FE}),(0,Sw.jsx)(ge,{path:"/Admin/AdminRegister",Component:VE}),(0,Sw.jsx)(ge,{path:"/Admin/Dashboard",Component:zE}),(0,Sw.jsx)(ge,{path:"/Admin/AddPlaylist",Component:KE}),(0,Sw.jsx)(ge,{path:"/Admin/PlaylistViewer",Component:XE}),(0,Sw.jsx)(ge,{path:"/Admin/ViewerList/:playlistId",Component:JE}),(0,Sw.jsx)(ge,{path:"/Admin/AdminPlaylist",Component:$E}),(0,Sw.jsx)(ge,{path:"/Admin/AdminContent",Component:ZE}),(0,Sw.jsx)(ge,{path:"/Admin/AddContent",Component:eS}),(0,Sw.jsx)(ge,{path:"/Admin/UpdateContent/:contentId",Component:tS}),(0,Sw.jsx)(ge,{path:"/Admin/UpdatePlaylist/:playlistId",Component:nS}),(0,Sw.jsx)(ge,{path:"/Admin/ViewProfile",Component:rS}),(0,Sw.jsx)(ge,{path:"/Admin/ViewContent/:contentId",Component:iS}),(0,Sw.jsx)(ge,{path:"/Admin/AdminViewPlaylist/:playlistId",Component:sS}),(0,Sw.jsx)(ge,{path:"/Admin/Comment",Component:oS}),(0,Sw.jsx)(ge,{path:"/Admin/UpdateAdminProfile",Component:cS}),(0,Sw.jsx)(ge,{path:"/Admin/ContentViewer",Component:uS}),(0,Sw.jsx)(ge,{path:"/Admin/ContentViewerList/:contentId",Component:hS}),(0,Sw.jsx)(ge,{path:"/Admin/SearchPage",Component:gS}),(0,Sw.jsx)(ge,{path:"/User/UserProfile",Component:qE}),(0,Sw.jsx)(ge,{path:"/User/UpdateProfile",Component:WE}),(0,Sw.jsx)(ge,{path:"/User/TeacherProfile/:userId",Component:QE}),(0,Sw.jsx)(ge,{path:"/User/ViewPlaylist/:playlistId",Component:GE}),(0,Sw.jsx)(ge,{path:"/User/Bookmark/:userId",Component:YE}),(0,Sw.jsx)(ge,{path:"/User/WatchVideo/:contentId",Component:dS}),(0,Sw.jsx)(ge,{path:"/User/Likes",Component:fS}),(0,Sw.jsx)(ge,{path:"/User/UserComment",Component:pS}),(0,Sw.jsx)(ge,{path:"/User/SearchCourse",Component:mS}),(0,Sw.jsx)(ge,{path:"/User/SearchTutor",Component:yS}),(0,Sw.jsx)(ge,{path:"/Advanced/LearnMate",Component:bS}),(0,Sw.jsx)(ge,{path:"/Advanced/Meeting",Component:xS}),(0,Sw.jsx)(ge,{path:"/Advanced/Assignments",Component:CS}),(0,Sw.jsx)(ge,{path:"/Advanced/TekmizCompiler",Component:ES})]}),(0,Sw.jsx)(Pw,{})]})};o.createRoot(document.getElementById("root")).render((0,Sw.jsx)(i.StrictMode,{children:(0,Sw.jsx)(SS,{})}))})();
//# sourceMappingURL=main.7f6f117f.js.map